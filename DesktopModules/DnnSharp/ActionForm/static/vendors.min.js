function LZ(a){return(a<0||a>9?"":"0")+a}function isDate(a,b){return 0!=getDateFromFormat(a,b)}function compareDates(a,b,c,d){var e=getDateFromFormat(a,b),f=getDateFromFormat(c,d);return 0==e||0==f?-1:e>f?1:0}function formatDate(a,b){b+="";var c,d="",e=0,f="",g="",h=a.getYear()+"",i=a.getMonth()+1,j=a.getDate(),k=a.getDay(),c=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),n=new Object;for(h.length<4&&(h=""+(h-0+1900)),n.y=""+h,n.yyyy=h,n.yy=h.substring(2,4),n.M=i,n.MM=LZ(i),n.MMM=MONTH_NAMES[i-1],n.NNN=MONTH_NAMES[i+11],n.d=j,n.dd=LZ(j),n.E=DAY_NAMES[k+7],n.EE=DAY_NAMES[k],n.H=c,n.HH=LZ(c),n.h=0==c?12:c>12?c-12:c,n.hh=LZ(n.h),n.K=c>11?c-12:c,n.k=c+1,n.KK=LZ(n.K),n.kk=LZ(n.k),n.a=c>11?"PM":"AM",n.m=l,n.mm=LZ(l),n.s=m,n.ss=LZ(m);e<b.length;){for(f=b.charAt(e),g="";b.charAt(e)==f&&e<b.length;)g+=b.charAt(e++);null!=n[g]?d+=n[g]:d+=g}return d}function _isInteger(a){for(var b="1234567890",c=0;c<a.length;c++)if(-1==b.indexOf(a.charAt(c)))return!1;return!0}function _getInt(a,b,c,d){for(var e=d;e>=c;e--){var f=a.substring(b,b+e);if(f.length<c)return null;if(_isInteger(f))return f}return null}function getDateFromFormat(a,b,c){c&&c.DATETIME_FORMATS&&(MONTH_NAMES=c.DATETIME_FORMATS.MONTH.concat(c.DATETIME_FORMATS.SHORTMONTH),DAY_NAMES=c.DATETIME_FORMATS.DAY.concat(c.DATETIME_FORMATS.SHORTDAY)),a+="",b+="";for(var d,e,f=0,g=0,h="",i="",j=new Date,k=j.getYear(),l=j.getMonth()+1,m=1,n=j.getHours(),o=j.getMinutes(),p=j.getSeconds(),q="";g<b.length;){for(h=b.charAt(g),i="";b.charAt(g)==h&&g<b.length;)i+=b.charAt(g++);if("yyyy"==i||"yy"==i||"y"==i){if("yyyy"==i&&(d=4,e=4),"yy"==i&&(d=2,e=2),"y"==i&&(d=2,e=4),null==(k=_getInt(a,f,d,e)))return 0;f+=k.length,2==k.length&&(k=k>70?k-0+1900:k-0+2e3)}else if("MMM"==i||"NNN"==i){l=0;for(var r=0;r<MONTH_NAMES.length;r++){var s=MONTH_NAMES[r];if(a.substring(f,f+s.length).toLowerCase()==s.toLowerCase()&&("MMM"==i||"NNN"==i&&r>11)){l=r+1,l>12&&(l-=12),f+=s.length;break}}if(l<1||l>12)return 0}else if("EE"==i||"E"==i)for(var r=0;r<DAY_NAMES.length;r++){var t=DAY_NAMES[r];if(a.substring(f,f+t.length).toLowerCase()==t.toLowerCase()){f+=t.length;break}}else if("MM"==i||"M"==i){if(null==(l=_getInt(a,f,i.length,2))||l<1||l>12)return 0;f+=l.length}else if("dd"==i||"d"==i){if(null==(m=_getInt(a,f,i.length,2))||m<1||m>31)return 0;f+=m.length}else if("hh"==i||"h"==i){if(null==(n=_getInt(a,f,i.length,2))||n<1||n>12)return 0;f+=n.length}else if("HH"==i||"H"==i){if(null==(n=_getInt(a,f,i.length,2))||n<0||n>23)return 0;f+=n.length}else if("KK"==i||"K"==i){if(null==(n=_getInt(a,f,i.length,2))||n<0||n>11)return 0;f+=n.length}else if("kk"==i||"k"==i){if(null==(n=_getInt(a,f,i.length,2))||n<1||n>24)return 0;f+=n.length,n--}else if("mm"==i||"m"==i){if(null==(o=_getInt(a,f,i.length,2))||o<0||o>59)return 0;f+=o.length}else if("ss"==i||"s"==i){if(null==(p=_getInt(a,f,i.length,2))||p<0||p>59)return 0;f+=p.length}else if("a"==i){if("am"==a.substring(f,f+2).toLowerCase())q="AM";else{if("pm"!=a.substring(f,f+2).toLowerCase())return 0;q="PM"}f+=2}else{if(a.substring(f,f+i.length)!=i)return 0;f+=i.length}}if(f!=a.length)return 0;if(2==l)if(k%4==0&&k%100!=0||k%400==0){if(m>29)return 0}else if(m>28)return 0;return(4==l||6==l||9==l||11==l)&&m>30?0:(n<12&&"PM"==q?n=n-0+12:n>11&&"AM"==q&&(n-=12),new Date(k,l-1,m,n,o,p).getTime())}function parseDate(a){var b=2==arguments.length&&arguments[1];generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d"),monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d"),dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");for(var c=new Array("generalFormats",b?"dateFirst":"monthFirst",b?"monthFirst":"dateFirst"),d=null,e=0;e<c.length;e++)for(var f=window[c[e]],g=0;g<f.length;g++)if(0!=(d=getDateFromFormat(a,f[g])))return new Date(d);return null}function af_compareVersionNumbers(a,b){function c(a){return/^\d+$/.test(a)}function d(a){for(var b=0;b<a.length;++b)if(!c(a[b]))return!1;return!0}var e=a.split("."),f=b.split(".");if(!d(e)||!d(f))return NaN;for(var g=0;g<e.length;++g){if(f.length===g)return 1;if(e[g]!==f[g])return Number(e[g])>Number(f[g])?1:-1}return e.length!=f.length?-1:0}function afShowform(className){console.warn('This function is obsolete, please use dnnsf.api.actionform.openInPopup("formName"), formName can be set in general settings'),eval("showFormPopup"+$("."+className.toLowerCase()).attr("data-moduleid")+"()")}function formPopupEvents(a){$("#dnn"+a+"popup").on("hidden.bs.modal",function(){dnnsf.api.actionForm.isFormPopupOpen["formPopup"+a]=!1,$("#dnn"+a+"popup").off("hidden.bs.modal"),$("#dnn"+a+"popup").off("shown.bs.modal")})}function showFormPopup(a,b){window.innerWidth>767?($("#dnn"+a+"popup").on("shown.bs.modal",function(){formPopupEvents(a)}).modal().find(".modal-dialog:first").css({width:b.width}),$(".modal-dialog:first").children().attr("style",b.background)):($("#dnn"+a+"popup").on("shown.bs.modal",function(){formPopupEvents(a)}).modal().find(".modal-dialog:first").removeAttr("style"),$(".modal-dialog:first").children().attr("style",b.background))}function showFormInline(a,b,c){var d=dnnsfjQuery('[href="javascript: showFormInline'+a+'();"]').attr("target");if(void 0===d||null===d||""===d||"_self"===d)dnnsfjQuery("#"+b+" .frontEndTemplate").slideUp("fast"),dnnsfjQuery("#"+b+" .form-root").slideDown("fast");else if("_blank"===d){var e=window.open();e.location=c}}function hideFormInline(a,b){dnnsfjQuery("#"+b+" .frontEndTemplate").slideDown(),dnnsfjQuery("#"+b+" .form-root").slideUp()}function checkIfInitialized(a,b,c){c||0===$("#dnn"+a+"popup").length?initForm(b,function(){showFormPopup(a,b.popupSettings)}):showFormPopup(a,b.popupSettings)}!function(a){"use strict";function b(b){var c=[];return a.forEach(b.requires,function(a){-1==f.indexOf(a)&&c.push(a)}),c}function c(b){try{a.module(b)}catch(a){if(/No module/.test(a))return!1}return!0}function d(b,c,d){var e,g,h,i,j,k,l,m;if(d){var n=[];for(h=d.length-1;h>=0;h--){j=d[h],f.push(j),k=a.module(j),n=n.concat(k._runBlocks);try{for(i=k._invokeQueue,e=0,g=i.length;e<g;e++){if(l=i[e],!c.hasOwnProperty(l[0]))return $log.error("unsupported provider "+l[0]);m=c[l[0]],m[l[1]].apply(m,l[2])}}catch(a){throw a.message&&(a.message+=" from "+j),$log.error(a.message),a}d.pop()}a.forEach(n,function(a){b.invoke(a)})}return null}function e(b){function c(a){a&&g.push(a)}var d,e,g=[b],h=["ng:app","ng-app","x-ng-app","data-ng-app"],i=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a.forEach(h,function(d){h[d]=!0,c(document.getElementById(d)),d=d.replace(":","\\:"),b.querySelectorAll&&(a.forEach(b.querySelectorAll("."+d),c),a.forEach(b.querySelectorAll("."+d+"\\:"),c),a.forEach(b.querySelectorAll("["+d+"]"),c))}),a.forEach(g,function(c){if(!d){var f=" "+b.className+" ",g=i.exec(f);g?(d=c,e=(g[2]||"").replace(/\s+/g,",")):a.forEach(c.attributes,function(a){!d&&h[a.name]&&(d=c,e=a.value)})}}),d&&function b(c){if(-1==f.indexOf(c)){f.push(c);var d=a.module(c);a.forEach(d.requires,b)}}(e)}var f=["ng"],g=a.module("loadOnDemand",[]);g.factory("scriptCache",["$cacheFactory",function(a){return a("scriptCache",{capacity:10})}]),g.provider("$loadOnDemand",["$controllerProvider","$provide","$compileProvider","$filterProvider",function(g,h,i,j){var k={},l={$controllerProvider:g,$compileProvider:i,$filterProvider:j,$provide:h};this.$get=["scriptCache","$timeout","$log","$document","$injector","$compile",function(e,g,h,i,j,m){return{getConfig:function(a){return k[a]?k[a]:null},loadedModules:[],load:function(i,k){function m(a,b){-1==u.indexOf(a)&&g(b)}function n(a){var b=$("<link>");$("head").append(b),b.attr({rel:"stylesheet",type:"text/css",href:a})}function o(d,e){function i(a){if(a){var b=k.indexOf(a);b>-1&&k.splice(b,1)}0===k.length&&g(function(){e(d)})}if(f.indexOf(d)>-1)return e();var j=a.module(d),k=b(j),l=b(j);return a.forEach(l,function(a){if(s.push(a),c(a))return i(a);var b=p.getConfig(a);return b?m(b.script,function(){o(a,function(a){i(a)})}):(h.warn('module "'+a+"' not loaded and not configured"),i(a)),null}),0==l.length&&i(),null}if(-1!=this.loadedModules.indexOf(i))return k();this.loadedModules.push(i);var p=this,q=i,r="script:"+q.script,s=[];if(s.push=function(a){-1==this.indexOf(a)&&Array.prototype.push.apply(this,arguments)},!q){var t='Module "'+i+'" not configured';throw h.error(t),t}var u=[];e.get(r)?g(function(){k(!0)}):(q.css&&$.each(q.css,function(a,b){n(b)}),m(q.script,function(){s.push(i),o(i,function(){d(j,l,s),g(function(){k(!1)})})}))}}}],this.config=function(b){e(a.element(window.document)),a.isArray(b)?a.forEach(b,function(a){k[a.name]=a}):k[b.name]=b}}]),g.directive("loadOnDemand",["$http","scriptCache","$log","$loadOnDemand","$compile","$timeout","$injector",function(b,c,d,e,f,g,h){return{replace:!1,link:{pre:function(b,c,d){function i(){k&&(k.$destroy(),k=null),c.html("")}function j(d){var e=a.element(c).contents(),i=a.element(e).scope(),j=setInterval(function(){f(e[0])(b,function(a,b){$(c)?$(c).replaceWith(a):f(e[0])(i)});i.$apply(),h.has(d+"Directive")&&g(clearInterval(j))},100)}var k,l=d.loadOnDemand;d.src;b.$watch(l,function(a){e.getConfig(a);a?e.load(a,function(){g(function(){j(a)})}):i()})},post:function(a,b,c){}}}}])}(dnnsfAngular15),function(a){"use strict";"function"==typeof define&&define.amd?define(["dnnsfjQuery"],a):a(dnnsfjQuery)}(function(a){"use strict";function b(c,d){var e=a.noop,f=this,g={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.noSuggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},f.hint=null,f.hintValue="",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.utils=c,a.Autocomplete=b,b.formatResult=function(a,b){if(!b)return a.value;var d="("+c.escapeRegExChars(b)+")";return a.value.replace(new RegExp(d,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},b.prototype={killerFn:null,initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.killerFn=function(b){a(b.target).closest("."+d.options.containerClass).length||(d.killSuggestions(),d.disableKillerFn())},d.noSuggestionsContainer=a('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),"auto"!==g.width&&c.css("width",g.width),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){return d.select(a(this).data("index")),!1}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on("resize.autocomplete",d.fixPositionCapture),d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete",function(){d.onFocus()}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("input.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.fixPosition(),a.el.val().length>=a.options.minChars&&a.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var a=this;a.currentRequest&&(a.currentRequest.abort(),a.currentRequest=null)},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,"bottom"),a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if(i.top+="top"===e?-f:g,d!==document.body){var n,o=c.css("opacity");b.visible||c.css("opacity",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css("opacity",o).hide()}"auto"===b.options.width&&(i.width=b.el.outerWidth()+"px"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.visible&&(a.options.preserveInput||a.el.val(a.currentValue),a.hide()),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:!document.selection||(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length)},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case d.ESC:b.el.val(b.currentValue),b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(-1===b.selectedIndex)return void b.hide();if(b.select(b.selectedIndex),!1===b.options.tabDisabled)return;break;case d.RETURN:if(-1===b.selectedIndex)return void b.hide();b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);if(b.selection&&b.currentValue!==e&&(b.selection=null,(c.onInvalidateSelection||a.noop).call(b.element)),clearInterval(b.onChangeInterval),b.currentValue=d,b.selectedIndex=-1,c.triggerSelectOnValidInput&&b.isExactMatch(e))return void b.select(0);e.length<c.minChars?b.hide():b.getSuggestions(e)},isExactMatch:function(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,g=this,h=g.options,i=h.serviceUrl;if(h.params[h.paramName]=b,d=h.ignoreParams?null:h.params,!1!==h.onSearchStart.call(g.element,h.params)){if(a.isFunction(h.lookup))return void h.lookup(b,function(a){g.suggestions=a.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,a.suggestions)});g.isLocal?c=g.getSuggestionsLocal(b):(a.isFunction(i)&&(i=i.call(g.element,b)),e=i+"?"+a.param(d||{}),c=g.cachedResponse[e]),c&&a.isArray(c.suggestions)?(g.suggestions=c.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,c.suggestions)):g.isBadQuery(b)?h.onSearchComplete.call(g.element,b,[]):(g.abortAjax(),f={url:i,data:d,type:h.type,dataType:h.dataType},a.extend(f,h.ajaxSettings),g.currentRequest=a.ajax(f).done(function(a){var c;g.currentRequest=null,c=h.transformResult(a,b),g.processResponse(c,b,e),h.onSearchComplete.call(g.element,b,c.suggestions)}).fail(function(a,c,d){h.onSearchError.call(g.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=d.groupBy,f=d.formatResult,g=c.getQuery(c.currentValue),h=c.classes.suggestion,i=c.classes.selected,j=a(c.suggestionsContainer),k=a(c.noSuggestionsContainer),l=d.beforeRender,m="",n=function(a,c){var d=a.data[e];return b===d?"":'<div class="autocomplete-group"><strong>'+(b=d)+"</strong></div>"};if(d.triggerSelectOnValidInput&&c.isExactMatch(g))return void c.select(0);a.each(c.suggestions,function(a,b){e&&(m+=n(b,0)),m+='<div class="'+h+'" data-index="'+a+'">'+f(b,g,a)+"</div>"}),this.adjustContainerWidth(),k.detach(),j.html(m),a.isFunction(l)&&l.call(c.element,j,c.suggestions),c.fixPosition(),j.show(),d.autoSelectFirst&&(c.selectedIndex=0,j.scrollTop(0),j.children("."+h).first().addClass(i)),c.visible=!0,c.findBestHint()},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);this.adjustContainerWidth(),d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer);"auto"===d.width&&(b=c.el.outerWidth(),e.css("width",b>0?b:300))},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||"").toLowerCase(),-1===a.inArray(b,["auto","bottom","top"])&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&!a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find("."+d.classes.suggestion);return f.find("."+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a),b.disableKillerFn()},moveUp:function(){var b=this;if(-1!==b.selectedIndex)return 0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,e<f?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value)),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.autocomplete=a.fn.devbridgeAutocomplete=function(c,d){return arguments.length?this.each(function(){var e=a(this),f=e.data("autocomplete");"string"==typeof c?f&&"function"==typeof f[c]&&f[c](d):(f&&f.dispose&&f.dispose(),f=new b(this,c),e.data("autocomplete",f))}):this.first().data("autocomplete")}}),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");if(c)return c;this[0];return this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this).parents(".form-root").length?a(this).parents(".form-root:first"):a(this[0].form),d=c.validate();return this.each(function(){b&=d.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a(d).parents(".form-root").length?a(d).parents(".form-root:first"):a(d.form),f=a.data(e[0],"validator").settings,g=f.rules,h=a.validator.staticRules(d);switch(b){case"add":a.extend(h,a.validator.normalizeRule(c)),delete h.messages,g[d.name]=h,c.messages&&(f.messages[d.name]=a.extend(f.messages[d.name],c.messages));break;case"remove":if(!c)return delete g[d.name],h;var i={};return a.each(c.split(/\s/),function(a,b){i[b]=h[b],delete h[b]}),i}}var j=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(j.required){var k=j.required;delete j.required,j=a.extend({required:k},j)}return j}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){9===b.which&&""===this.elementValue(a)||(a.name in this.submitted||a===this.lastElement||!this.optional(a))&&this.element(a)},onclick:function(a,b){a.name in this.submitted||!this.optional(a)?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a(this).parents(".form-root").length?a(this).parents(".form-root:first"):a(this[0].form),d=a.data(c[0],"validator"),e="on"+b.type.replace(/^validate/,"");d.settings[e]&&d.settings[e].call(d,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(b){return this.checkForm(b),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(a){this.prepareForm();for(var b=0,c=this.currentElements=this.elements(a);c[b];b++)this.check(c[b]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=!1!==this.check(b);return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(b){b=b||a(this.currentForm);var c=this,d={};return b.find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in d||!c.objectLength(a(this).rules()))&&(d[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"select"===b.nodeName.toLowerCase()?a(b).attr("data-val"):"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if("dependency-mismatch"===(c=a.validator.methods[g].call(this,f,b,h.parameters))){e=!0;continue}if(e=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,h),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+b.id+", check the '"+h.method+"' method.",a),a}}if(!e)return this.objectLength(d)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{boolean:function(a,b){return a},string:function(b,c){var d=a(c).parents(".form-root").length?a(c).parents(".form-root:first"):a(c.form);return!!a(b,d[0]).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&"number"!=e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)void 0!==(d=f.data("rule-"+c.toLowerCase()))&&(e[c]=d);return e},staticRules:function(b){var c={},d=a(b).parents(".form-root").length?a(b).parents(".form-root:first"):a(b.form),e=a.data(d[0],"validator");return e.settings.rules&&(c=a.validator.normalizeRule(e.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(!1===e)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":var g=a(c).parents(".form-root").length?a(c).parents(".form-root:first"):a(c.form);f=!!a(e.depends,g[0]).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=!0===d||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10==0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(dnnsfjQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(dnnsfjQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(dnnsfjQuery),function(a,b,c){!function(a){"use strict";"function"==typeof define&&define.amd?define(["dnnsfjQuery"],a):dnnsfjQuery&&!dnnsfjQuery.fn.wysiwyg&&a(dnnsfjQuery)}(function(d){"use strict";function e(){this.controls={bold:{groupIndex:0,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},createLink:{groupIndex:6,visible:!1,exec:function(){var a=this;d.wysiwyg.controls&&d.wysiwyg.controls.link?d.wysiwyg.controls.link.init(this):d.wysiwyg.autoload?d.wysiwyg.autoload.control("wysiwyg.link.js",function(){a.controls.createLink.exec.apply(a)}):f.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},unLink:{groupIndex:6,visible:!1,exec:function(){this.editorDoc.execCommand("unlink",!1,null)},tooltip:"Remove link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!0,className:"h1",command:d.browser.msie||d.browser.opera?"FormatBlock":"heading",arguments:d.browser.msie||d.browser.opera?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!0,className:"h2",command:d.browser.msie||d.browser.opera?"FormatBlock":"heading",arguments:d.browser.msie||d.browser.opera?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!0,className:"h3",command:d.browser.msie||d.browser.opera?"FormatBlock":"heading",arguments:d.browser.msie||d.browser.opera?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var a,b,e,f;if(a=d.browser.msie||d.browser.opera?"backcolor":"hilitecolor",d.browser.msie)b=this.getInternalRange().parentElement();else for(e=this.getInternalSelection(),b=e.extentNode||e.focusNode;b.style===c;)if(b=b.parentNode,b.tagName&&"body"===b.tagName.toLowerCase())return;f="rgb(255, 255, 102)"===b.style.backgroundColor||"#ffff66"===b.style.backgroundColor?"#ffffff":"#ffff66",this.editorDoc.execCommand(a,!1,f)}},html:{groupIndex:10,visible:!1,exec:function(a,b){var c;this.options.resizeOptions&&d.fn.resizable&&(c=this.element.height()),this.viewHTML?(this.setContent("function"==typeof b?b(this.original.value):this.original.value),d(this.original).hide(),this.editor.show(),this.options.resizeOptions&&d.fn.resizable&&(c===this.element.height()&&this.element.height(c+this.editor.height()),this.element.resizable(d.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var a=d(this);a.hasClass("html")?a.removeClass("active"):a.removeClass("disabled")})):(this.saveContent(a),d(this.original).css({width:this.editor.width(),height:this.editor.height(),resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&d.fn.resizable&&(c===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var a=d(this);a.hasClass("html")?a.addClass("active"):!1===a.hasClass("fullscreen")&&a.removeClass("active").addClass("disabled")})),this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:!0,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!0,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:!1,exec:function(){var a=this;d.wysiwyg.controls&&d.wysiwyg.controls.image?d.wysiwyg.controls.image.init(this):d.wysiwyg.autoload?d.wysiwyg.autoload.control("wysiwyg.image.js",function(){a.controls.insertImage.exec.apply(a)}):f.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:!1,exec:function(){var a=this;d.wysiwyg.controls&&d.wysiwyg.controls.table?d.wysiwyg.controls.table(this):d.wysiwyg.autoload?d.wysiwyg.autoload.control("wysiwyg.table.js",function(){a.controls.insertTable.exec.apply(a)}):f.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:!0,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:!0,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:!0,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:!0,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:!1,exec:function(){var a=this.dom.getElement("p");return!!a&&(d(a).attr("dir","ltr"),!0)},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!0,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:d.browser.msie||d.browser.opera?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},redo:{groupIndex:4,visible:!0,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:!1,exec:function(){var a=this.dom.getElement("p");return!!a&&(d(a).attr("dir","rtl"),!0)},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!0,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!0,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:!0,tooltip:"Undo"},code:{visible:!0,groupIndex:6,tooltip:"Code snippet",exec:function(){var a=this.getInternalRange(),b=d(a.commonAncestorContainer),c=a.commonAncestorContainer.nodeName.toLowerCase();b.parent("code").length?b.unwrap():"body"!==c&&b.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){d.wysiwyg.controls.cssWrap.init(this)}}},this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin:0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin:0;height:100%;">INITIAL_CONTENT</body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!1,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>Initial content</p>",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}},dialog:"default"},this.availableControlProperties=["arguments","callback","callbackArguments","className","command","css","custom","exec","groupIndex","hotkey","icon","separator","tags","tooltip","visible"],this.editor=null,this.editorDoc=null,this.element=null,this.options={},this.original=null,this.savedRange=null,this.timers=[],this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],this.isDestroyed=!1,this.dom={ie:{parent:null},w3c:{parent:null}},this.dom.parent=this,this.dom.ie.parent=this.dom,this.dom.w3c.parent=this.dom,this.ui={},this.ui.self=this,this.ui.toolbar=null,this.ui.initialHeight=null,this.dom.getAncestor=function(a,b){for(b=b.toLowerCase();a&&a.tagName!==c&&"body"!==a.tagName.toLowerCase();){if(b===a.tagName.toLowerCase())return a;a=a.parentNode}if(!a.tagName&&(a.previousSibling||a.nextSibling)){if(a.previousSibling&&a.previousSibling.tagName.toLowerCase()===b)return a.previousSibling;if(a.nextSibling&&a.nextSibling.tagName.toLowerCase()===b)return a.nextSibling}return null},this.dom.getElement=function(b){var c=this;return b=b.toLowerCase(),a.getSelection?c.w3c.getElement(b):c.ie.getElement(b)},this.dom.ie.getElement=function(a){var b,c=this.parent,d=c.parent.getInternalSelection(),e=d.createRange();if("Control"===d.type){if(1!==e.length)return null;b=e.item(0)}else b=e.parentElement();return c.getAncestor(b,a)},this.dom.w3c.getElement=function(a){var b,c=this.parent,d=c.parent.getInternalRange();if(!d)return null;if(b=d.commonAncestorContainer,3===b.nodeType&&(b=b.parentNode),b===d.startContainer&&(b=b.childNodes[d.startOffset]),!b.tagName&&(b.previousSibling||b.nextSibling)){if(b.previousSibling&&b.previousSibling.tagName.toLowerCase()===a)return b.previousSibling;if(b.nextSibling&&b.nextSibling.tagName.toLowerCase()===a)return b.nextSibling}return c.getAncestor(b,a)},this.ui.addHoverClass=function(){d(this).addClass("wysiwyg-button-hover")},this.ui.appendControls=function(){var a,b,e=this,f=this.self,g=f.parseControls(),h=!0,i=[],j={},k=function(a,c){c.groupIndex&&b!==c.groupIndex&&(b=c.groupIndex,h=!1),c.visible&&(h||(e.appendItemSeparator(),h=!0),c.custom?e.appendItemCustom(a,c):e.appendItem(a,c))};for(d.each(g,function(a,b){var d="empty";c!==b.groupIndex&&(d=""===b.groupIndex?"empty":b.groupIndex),c===j[d]&&(i.push(d),j[d]={}),j[d][a]=b}),i.sort(function(a,b){return"number"==typeof a&&"number"==typeof b?a-b:(a=a.toString(),b=b.toString(),a>b?1:a===b?0:-1)}),0<i.length&&(b=i[0]),a=0;a<i.length;a+=1)d.each(j[i[a]],k)},this.ui.appendItem=function(a,b){var c=this.self,e=b.className||b.command||a||"empty",f=b.tooltip||b.command||a||"";return d('<li role="menuitem" unselectable="on">'+e+"</li>").addClass(e).attr("title",f).hover(this.addHoverClass,this.removeHoverClass).click(function(e){if(d(this).hasClass("disabled"))return!1;c.triggerControl(a,b);var f=d(e.target);for(var g in c.controls)if(f.hasClass(g)){c.ui.toolbar.find("."+g).toggleClass("active"),c.editorDoc.rememberCommand=!0;break}return this.blur(),c.ui.returnRange(),c.ui.focus(),!0}).appendTo(c.ui.toolbar)},this.ui.appendItemCustom=function(b,c){var e=this.self,f=c.tooltip||c.command||b||"";return c.callback&&d(a).bind("trigger-"+b+".wysiwyg",c.callback),d('<li role="menuitem" unselectable="on" style="background: url(\''+c.icon+"') no-repeat;\"></li>").addClass("custom-command-"+b).addClass("wysiwyg-custom-command").addClass(b).attr("title",f).hover(this.addHoverClass,this.removeHoverClass).click(function(){return!d(this).hasClass("disabled")&&(e.triggerControl.apply(e,[b,c]),this.blur(),e.ui.returnRange(),e.ui.focus(),e.triggerControlCallback(b),!0)}).appendTo(e.ui.toolbar)},this.ui.appendItemSeparator=function(){var a=this.self;return d('<li role="separator" class="separator"></li>').appendTo(a.ui.toolbar)},this.autoSaveFunction=function(){this.saveContent()},this.ui.checkTargets=function(a){var b=this.self;d.each(b.options.controls,function(c,e){var f,g,h,i,j=e.className||e.command||c||"empty";if("fullscreen"!==j&&b.ui.toolbar.find("."+j).removeClass("active"),e.tags||e.options&&e.options.tags)for(f=e.tags||e.options&&e.options.tags,g=a;g&&1===g.nodeType;)-1!==d.inArray(g.tagName.toLowerCase(),f)&&b.ui.toolbar.find("."+j).addClass("active"),g=g.parentNode;if(e.css||e.options&&e.options.css)for(h=e.css||e.options&&e.options.css,i=d(a);i&&1===i[0].nodeType;)!function(a){var c=0,e=0;d.each(a,function(a,d){"function"==typeof d?d.apply(b,[i.css(a).toString().toLowerCase(),b])&&(c+=1):i.css(a).toString().toLowerCase()===d&&(c+=1),e+=1}),e===c&&b.ui.toolbar.find("."+j).addClass("active")}(h),i=i.parent()})},this.ui.designMode=function(){var b,c=this.self;(b=function(d){if("on"===c.editorDoc.designMode)return c.timers.designMode&&a.clearTimeout(c.timers.designMode),void(c.innerDocument()!==c.editorDoc&&c.ui.initFrame());try{c.editorDoc.designMode="on"}catch(a){}(d-=1)>0&&(c.timers.designMode=a.setTimeout(function(){b(d)},100))})(3)},this.destroy=function(){this.isDestroyed=!0;var b,c=this.element.closest("form");for(b=0;b<this.timers.length;b+=1)a.clearTimeout(this.timers[b]);return d(this.original).appendTo(d(this.element.parent())),c.unbind(".wysiwyg"),this.element.remove(),d.removeData(this.original,"wysiwyg"),d(this.original).show(),this},this.getRangeText=function(){var a=this.getInternalRange();return a&&(a.toString?a=a.toString():a.text&&(a=a.text)),a},this.execute=function(a,b){void 0===b&&(b=null),this.editorDoc.execCommand(a,!1,b)},this.extendOptions=function(a){var b={};return"object"==typeof a.controls&&(b=a.controls,delete a.controls),a=d.extend(!0,{},this.defaults,a),a.controls=d.extend(!0,{},b,this.controls,b),a.rmUnusedControls&&d.each(a.controls,function(c){b[c]||delete a.controls[c]}),a},this.ui.focus=function(){var a=this.self;return a.editor.get(0).contentWindow.focus(),a},this.ui.returnRange=function(){var b,c=this.self;if(null!==c.savedRange){if(a.getSelection){b=a.getSelection(),b.rangeCount>0&&b.removeAllRanges();try{b.addRange(c.savedRange)}catch(a){f.error(a)}}else a.document.createRange?a.getSelection().addRange(c.savedRange):a.document.selection&&c.savedRange.select();c.savedRange=null}},this.increaseFontSize=function(){if(d.browser.mozilla||d.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(d.browser.webkit){var a=this.getInternalRange(),b=this.getInternalSelection(),c=this.editorDoc.createElement("big");if(!0===a.collapsed&&3===a.commonAncestorContainer.nodeType){var e=a.commonAncestorContainer.nodeValue.toString(),g=e.lastIndexOf(" ",a.startOffset)+1,h=-1===e.indexOf(" ",a.startOffset)?e:e.indexOf(" ",a.startOffset);a.setStart(a.commonAncestorContainer,g),a.setEnd(a.commonAncestorContainer,h),a.surroundContents(c),b.addRange(a)}else a.surroundContents(c),b.removeAllRanges(),b.addRange(a)}else f.error("Internet Explorer?")},this.decreaseFontSize=function(){if(d.browser.mozilla||d.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(d.browser.webkit){var a=this.getInternalRange(),b=this.getInternalSelection(),c=this.editorDoc.createElement("small");if(!0===a.collapsed&&3===a.commonAncestorContainer.nodeType){var e=a.commonAncestorContainer.nodeValue.toString(),g=e.lastIndexOf(" ",a.startOffset)+1,h=-1===e.indexOf(" ",a.startOffset)?e:e.indexOf(" ",a.startOffset);a.setStart(a.commonAncestorContainer,g),a.setEnd(a.commonAncestorContainer,h),a.surroundContents(c),b.addRange(a)}else a.surroundContents(c),b.removeAllRanges(),b.addRange(a)}else f.error("Internet Explorer?")},this.getContent=function(){return this.viewHTML&&this.setContent(this.original.value),this.events.filter("getContent",this.editorDoc.body.innerHTML)},this.events={_events:{},bind:function(a,b){"object"!=typeof this._events.eventName&&(this._events[a]=[]),this._events[a].push(b)},trigger:function(a,b){if("object"==typeof this._events.eventName){var c=this.editor;d.each(this._events[a],function(a,d){"function"==typeof d&&d.apply(c,b)})}},filter:function(a,b){if("object"==typeof this._events[a]){var c=this.editor,e=Array.prototype.slice.call(arguments,1);d.each(this._events[a],function(a,d){"function"==typeof d&&(b=d.apply(c,e))})}return b}},this.getElementByAttributeValue=function(a,b,c){var e,f,g=this.editorDoc.getElementsByTagName(a);for(e=0;e<g.length;e+=1)if(f=g[e].getAttribute(b),d.browser.msie&&(f=f.substr(f.length-c.length)),f===c)return g[e];return!1},this.getInternalRange=function(){var a=this.getInternalSelection();return a?a.rangeCount&&a.rangeCount>0?a.getRangeAt(0):a.createRange?a.createRange():null:null},this.getInternalSelection=function(){var a=this.editor.get(0).contentWindow;return a&&a.getSelection?a.getSelection():this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null},this.getRange=function(){var a=this.getSelection();if(!a)return null;if(a.rangeCount&&a.rangeCount>0)a.getRangeAt(0);else if(a.createRange)return a.createRange();return null},this.getSelection=function(){return a.getSelection&&null!==a.getSelection()&&a.getSelection().createRange?a.getSelection():a.document.selection},this.ui.grow=function(){var a=this.self,b=d(a.editorDoc.body),c=d.browser.msie?b[0].scrollHeight:b.height()+2+20,e=a.ui.initialHeight,f=Math.max(c,e);return f=Math.min(f,a.options.maxHeight),a.editor.attr("scrolling",f<a.options.maxHeight?"no":"auto"),b.css("overflow",f<a.options.maxHeight?"hidden":""),a.editor.get(0).height=f,a},this.init=function(c,e){var f=this,g=d(c).closest("form"),h=c.width||c.clientWidth||0,i=c.height||c.clientHeight||0;if(this.options=this.extendOptions(e),this.original=c,this.ui.toolbar=d(this.options.toolbarHtml),d.browser.msie&&parseInt(d.browser.version,10)<8&&(this.options.autoGrow=!1),0===h&&c.cols&&(h=8*c.cols+21),0===i&&c.rows&&(i=16*c.rows+16),this.editor=d("https:"===a.location.protocol?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0"),this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(i-6).toString()+"px",width:h>50?h.toString()+"px":""}),d.browser.msie&&parseInt(d.browser.version,10)<7&&this.editor.css("height",i.toString()+"px")),c.id){var j=c.id+"-wysiwyg-iframe";b.getElementById(j)||this.editor.attr("id",j)}this.editor.attr("tabindex",d(c).attr("tabindex")),this.element=d("<div/>").addClass("wysiwyg"),c.attributes.disabled&&this.element.append("<div class='custom-cover'></div>"),this.options.iFrameClass||this.element.css({width:h>0?h.toString()+"px":"100%"}),d(c).hide().before(this.element),this.viewHTML=!1,this.initialContent=d(c).val(),this.ui.initFrame(),this.options.resizeOptions&&d.fn.resizable&&this.element.resizable(d.extend(!0,{alsoResize:this.editor},this.options.resizeOptions)),this.options.autoSave&&g.bind("submit.wysiwyg",function(){f.autoSaveFunction()}),g.bind("reset.wysiwyg",function(){f.resetFunction()})},this.ui.initFrame=function(){var c,e,f,g,h=this.self;if(g=d('<div class="toolbar-wrap"><div style="clear: both">\x3c!-- --\x3e</div>').prepend(h.ui.toolbar),h.ui.appendControls(),h.element.append(g).append(h.editor).append(h.original),h.editorDoc=h.innerDocument(),h.isDestroyed)return null;if(h.ui.designMode(),h.editorDoc.open(),h.editorDoc.write(h.options.html.replace(/INITIAL_CONTENT/,function(){return h.wrapInitialContent()})),h.editorDoc.close(),d.wysiwyg.plugin.bind(h),d(h.editorDoc).trigger("initFrame.wysiwyg"),d(h.editorDoc).bind("click.wysiwyg",function(a){h.ui.checkTargets(a.target?a.target:a.srcElement)}),d(h.original).focus(function(){0===d(this).filter(":visible").length||d.browser.opera||h.ui.focus()}),d(d.wysiwyg.quirk.quirks).each(function(a,b){b.init(h)}),d(h.editorDoc).keydown(function(a){var b;return 8===a.keyCode&&(b=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/,b.test(h.getContent()))?(a.stopPropagation(),!1):(h.editorDoc.rememberCommand=!1,!0)}),d.browser.msie||d(h.editorDoc).keydown(function(a){var b,c;if(a.ctrlKey||a.metaKey)for(b in h.options.controls)if(c=h.options.controls[b],c.hotkey&&c.hotkey.ctrl&&a.keyCode===c.hotkey.key)return h.triggerControl.apply(h,[b,c]),!1;return!0}),h.options.brIE&&d(h.editorDoc).keydown(function(a){if(13===a.keyCode){if(d.browser.msie||d.browser.opera){var c=h.getRange();c?(c.pasteHTML("<br/>"),c.collapse(!1),c.select()):h.insertHtml("<br/>")}else{var e=h.editorDoc.getSelection();if(!(e&&e.getRangeAt&&e.rangeCount))return!0;var f=e.getRangeAt(0);if(!f)return!0;var g=b.createElement("br");f.deleteContents(),f.insertNode(g),f.setStartAfter(g),f.collapse(!0),e.removeAllRanges(),e.addRange(f)}return!1}return!0}),h.options.plugins.rmFormat.rmMsWordMarkup&&d(h.editorDoc).bind("keyup.wysiwyg",function(a){(a.ctrlKey||a.metaKey)&&86===a.keyCode&&d.wysiwyg.rmFormat&&("object"==typeof h.options.plugins.rmFormat.rmMsWordMarkup?d.wysiwyg.rmFormat.run(h,{rules:{msWordMarkup:h.options.plugins.rmFormat.rmMsWordMarkup}}):d.wysiwyg.rmFormat.run(h,{rules:{msWordMarkup:{enabled:!0}}}))}),h.options.autoSave&&d(h.editorDoc).keydown(function(){h.autoSaveFunction()}).keyup(function(){h.autoSaveFunction()}).mousedown(function(){h.autoSaveFunction()}).bind(d.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){h.autoSaveFunction()}),h.options.autoGrow&&(null!==h.options.initialMinHeight?h.ui.initialHeight=h.options.initialMinHeight:h.ui.initialHeight=d(h.editorDoc).height(),d(h.editorDoc.body).css("border","1px solid white"),e=function(){h.ui.grow()},d(h.editorDoc).keyup(e),d(h.editorDoc).bind("editorRefresh.wysiwyg",e),h.ui.grow()),h.options.css&&(String===h.options.css.constructor?d.browser.msie?(c=h.editorDoc.createStyleSheet(h.options.css),d(c).attr({media:"all"})):(c=d("<link/>").attr({href:h.options.css,media:"all",rel:"stylesheet",type:"text/css"}),d(h.editorDoc).find("head").append(c)):h.timers.initFrame_Css=a.setTimeout(function(){d(h.editorDoc.body).css(h.options.css)},0)),0===h.initialContent.length&&("function"==typeof h.options.initialContent?h.setContent(h.options.initialContent()):h.setContent(h.options.initialContent)),h.options.maxLength>0&&d(h.editorDoc).keydown(function(a){d(h.editorDoc).text().length>=h.options.maxLength&&-1===d.inArray(a.which,h.validKeyCodes)&&a.preventDefault()}),d.each(h.options.events,function(a,b){d(h.editorDoc).bind(a+".wysiwyg",function(a){b.apply(h.editorDoc,[a,h])})}),d.browser.msie?d(h.editorDoc).bind("beforedeactivate.wysiwyg",function(){h.savedRange=h.getInternalRange()}):d(h.editorDoc).bind("blur.wysiwyg",function(){h.savedRange=h.getInternalRange()}),d(h.editorDoc.body).addClass("wysiwyg"),h.options.events&&h.options.events.save&&(f=h.options.events.save,d(h.editorDoc).bind("keyup.wysiwyg",f),d(h.editorDoc).bind("change.wysiwyg",f),d.support.noCloneEvent?d(h.editorDoc).bind("input.wysiwyg",f):(d(h.editorDoc).bind("paste.wysiwyg",f),d(h.editorDoc).bind("cut.wysiwyg",f))),h.options.xhtml5&&h.options.unicode){var i={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,int:8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};h.events.bind("getContent",function(a){return a.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(a,b){i[b]||(b=b.toLowerCase(),i[b]||(b="__replacement"));var c=i[b];return String.fromCharCode(c)})})}d(h.original).trigger("ready.jwysiwyg",[h.editorDoc,h])},this.innerDocument=function(){var a=this.editor.get(0);if("iframe"===a.nodeName.toLowerCase()){if(a.contentDocument)return a.contentDocument;if(a.contentWindow)return a.contentWindow.document;if(this.isDestroyed)return null;f.error("Unexpected error in innerDocument")}return a},this.insertHtml=function(a){var b,c;return a&&0!==a.length?(d.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),(b=this.getElementByAttributeValue("img","src","#jwysiwyg#"))&&d(b).replaceWith(a)):d.browser.mozilla?1===d(a).length?(c=this.getInternalRange(),c.deleteContents(),c.insertNode(d(a).get(0))):this.editorDoc.execCommand("insertHTML",!1,a):this.editorDoc.execCommand("insertHTML",!1,a)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,a)),this.saveContent(),this):this},this.parseControls=function(){var a=this;return d.each(this.options.controls,function(b,c){d.each(c,function(c){if(-1===d.inArray(c,a.availableControlProperties))throw b+'["'+c+'"]: property "'+c+'" not exists in Wysiwyg.availableControlProperties'})}),this.options.parseControls?this.options.parseControls.call(this):this.options.controls},this.removeFormat=function(){return d.browser.msie&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),d.wysiwyg.rmFormat&&d.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?d.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):d.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this},this.ui.removeHoverClass=function(){d(this).removeClass("wysiwyg-button-hover")},this.resetFunction=function(){this.setContent(this.initialContent)},this.saveContent=function(a){if(!this.viewHTML){if(this.original){var b,c;b="function"==typeof a?a(this.getContent()):this.getContent(),this.options.rmUnwantedBr&&(b=b.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&(c=d("<div/>").addClass("temp").append(b),c.children("div").each(function(){var a,b=d(this),c=b.find("p");if(0===c.length){if(c=d("<p></p>"),this.attributes.length>0)for(a=0;a<this.attributes.length;a+=1)c.attr(this.attributes[a].name,b.attr(this.attributes[a].name));c.append(b.html()),b.replaceWith(c)}}),b=c.html());var e=d.Event("change");e.source=this,d(this.original).val(b).trigger(e),this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this}},this.setContent=function(a){return this.editorDoc.body.innerHTML=a,this.saveContent(),this},this.triggerControl=function(a,b){var c=b.command||a,d=b.arguments||[];if(b.exec)b.exec.apply(this,b.callbackArguments);else{this.ui.focus(),this.ui.withoutCss();try{this.editorDoc.execCommand(c,!1,d)}catch(a){f.error(a)}}this.options.autoSave&&this.autoSaveFunction()},this.triggerControlCallback=function(b){d(a).trigger("trigger-"+b+".wysiwyg",[this])},this.ui.withoutCss=function(){var a=this.self;if(d.browser.mozilla)try{a.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(b){try{a.editorDoc.execCommand("useCSS",!1,!0)}catch(a){}}return a},this.wrapInitialContent=function(){return this.initialContent}}var f=a.console||{log:d.noop,error:function(a){d.error(a)}},g=d.fn.prop!==c&&d.fn.removeProp!==c;d.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(a,b,c){return a.each(function(){var a,e=d(this).data("wysiwyg"),f={};if(!e)return this;f[b]=d.extend(!0,{visible:!0,custom:!0},c),d.extend(!0,e.options.controls,f),a=d(e.options.toolbarHtml),e.ui.toolbar.replaceWith(a),e.ui.toolbar=a,e.ui.appendControls()})},clear:function(a){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.setContent("")})},console:f,destroy:function(a){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.destroy()})},document:function(a){var b=a.data("wysiwyg");return b?d(b.editorDoc):c},focus:function(a){var b=a.data("wysiwyg");return b?(b.ui.focus(),a):c},getContent:function(a){var b=a.data("wysiwyg");return b?b.getContent():c},getSelection:function(a){var b=a.data("wysiwyg");return b?b.getRangeText():c},init:function(a,b){return a.each(function(){var a,c=d.extend(!0,{},b);"textarea"!==this.nodeName.toLowerCase()||d(this).data("wysiwyg")||(a=new e,a.init(this,c),d.data(this,"wysiwyg",a),d(a.editorDoc).trigger("afterInit.wysiwyg"))})},insertHtml:function(a,b){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.insertHtml(b)})},plugin:{listeners:{},bind:function(a){var b=this,c=function(){return function(b){var c=b.data.plugin.name,e=b.data.plugin.method;d.wysiwyg[c][e].apply(d.wysiwyg[c],[a])}};d.each(this.listeners,function(e,f){var g,h;for(g=0;g<f.length;g+=1)h=b.parseName(f[g]),d(a.editorDoc).bind(e+".wysiwyg",{plugin:h},c())})},exists:function(a){var b;return"string"==typeof a&&(b=this.parseName(a),!(!d.wysiwyg[b.name]||!d.wysiwyg[b.name][b.method]))},listen:function(a,b){var c;return c=this.parseName(b),!(!d.wysiwyg[c.name]||!d.wysiwyg[c.name][c.method])&&(this.listeners[a]||(this.listeners[a]=[]),this.listeners[a].push(b),!0)},parseName:function(a){var b;return"string"==typeof a&&(b=a.split("."),!(2>b.length)&&{name:b[0],method:b[1]})},register:function(a){return a.name||f.error("Plugin name missing"),d.each(d.wysiwyg,function(b){b===a.name&&f.error("Plugin with name '"+a.name+"' was already registered")}),d.wysiwyg[a.name]=a,!0}},quirk:{quirks:[],assert:function(a,b){if(!a)throw new Error(b)},register:function(a){this.assert("function"==typeof a.init,"quirk.init must be a function"),this.quirks.push(a)}},removeFormat:function(a){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.removeFormat()})},save:function(a){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.saveContent()})},selectAll:function(b){var c,d,e,f=b.data("wysiwyg");if(!f)return this;c=f.editorDoc.body,a.getSelection?(e=f.getInternalSelection(),e.selectAllChildren(c)):(d=c.createTextRange(),d.moveToElementText(c),d.select())},setContent:function(a,b){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.setContent(b)})},triggerControl:function(a,b){return a.each(function(){var a=d(this).data("wysiwyg");if(!a)return this;a.controls[b]||f.error("Control '"+b+"' not exists"),a.triggerControl.apply(a,[b,a.controls[b]])})},support:{prop:g},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(a){var b,c=this,e=[];return 0===this.extraSafeEntities[1].length&&d.each(this.extraSafeEntities[0],function(a,b){c.extraSafeEntities[1].push(b.charCodeAt(0))}),b=a.split(""),d.each(b,function(a){var f=b[a].charCodeAt(0);d.inArray(f,c.extraSafeEntities[1])&&(f<65||f>127||f>90&&f<97)?e.push("&#"+f+";"):e.push(b[a])}),e.join("")}}},d.wysiwyg.dialog=function(a,b){var c=a&&a.options&&a.options.dialog?a.options.dialog:b.theme?b.theme:"default",e=new d.wysiwyg.dialog.createDialog(c),f=this,g=d(f);return this.options={modal:!0,draggable:!0,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:2e3,open:!1,close:!1},this.isOpen=!1,d.extend(this.options,b),this.object=e,this.open=function(){this.isOpen=!0,e.init.apply(f,[]);var a=e.show.apply(f,[]);g.trigger("afterOpen",[a])},this.show=function(){this.isOpen=!0,g.trigger("beforeShow"),g.trigger("afterShow")},this.hide=function(){this.isOpen=!1,g.trigger("beforeHide");var a=e.hide.apply(f,[]);g.trigger("afterHide",[a])},this.close=function(){this.isOpen=!1;var b=e.hide.apply(f,[]);g.trigger("beforeClose",[b]),e.destroy.apply(f,[]),g.trigger("afterClose",[b]),a.ui.focus()},this.options.open&&g.bind("afterOpen",this.options.open),this.options.close&&g.bind("afterClose",this.options.close),this},d.extend(!0,d.wysiwyg.dialog,{_themes:{},_theme:"",register:function(a,b){d.wysiwyg.dialog._themes[a]=b},deregister:function(a){delete d.wysiwyg.dialog._themes[a]},createDialog:function(a){return new d.wysiwyg.dialog._themes[a]},getDimensions:function(){var c=b.body.scrollWidth,e=b.body.scrollHeight;return d.browser.opera&&(e=Math.max(d(b).height(),d(a).height(),b.documentElement.clientHeight)),[c,e]}}),d(function(){d.ui&&d.wysiwyg.dialog.register("dnnsfjQueryui",function(){var a=this;this._$dialog=null,this.init=function(){var b=this.options.content;"object"==typeof b&&("function"==typeof b.html?b=b.html():"function"==typeof b.toString&&(b=b.toString())),a._$dialog=d("<div></div>").attr("title",this.options.title).html(b);var c="auto"===this.options.height?300:this.options.height,e="auto"===this.options.width?450:this.options.width;return a._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:c,width:e}),a._$dialog},this.show=function(){return a._$dialog.dialog("open"),a._$dialog},this.hide=function(){return a._$dialog.dialog("close"),a._$dialog},this.destroy=function(){return a._$dialog.dialog("destroy"),a._$dialog}}),d.wysiwyg.dialog.register("default",function(){var c=this;this._$dialog=null,this.init=function(){var b=this,e=this.options.content;"object"==typeof e&&("function"==typeof e.html?e=e.html():"function"==typeof e.toString&&(e=e.toString())),c._$dialog=d('<div class="wysiwyg-dialog"></div>').css({"z-index":this.options.zIndex});var f=d('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"></div><div class="wysiwyg-dialog-title">'+this.options.title+"</div></div>"),g=d('<a href="#" class="wysiwyg-dialog-close-button">X</a>');g.click(function(){b.close()}),f.find(".wysiwyg-dialog-close-wrapper").prepend(g);var h=d('<div class="wysiwyg-dialog-content">'+e+"</div>");c._$dialog.append(f).append(h);var i="auto"===this.options.height?300:this.options.height,j="auto"===this.options.width?450:this.options.width;return c._$dialog.hide().css({width:j,height:i,left:(d(a).width()-j)/2,top:(d(a).height()-i)/3}),d("body").append(c._$dialog),c._$dialog},this.show=function(){if(this.options.modal){var a=d.wysiwyg.dialog.getDimensions(),e=d('<div class="wysiwyg-dialog-modal-div"></div>').css({width:a[0],height:a[1]});c._$dialog.wrap(e)}if(this.options.draggable){var f=!1;c._$dialog.find("div.wysiwyg-dialog-topbar").bind("mousedown",function(a){a.preventDefault(),d(this).css({cursor:"move"});var c=d(this),e=d(this).parents(".wysiwyg-dialog"),g=a.pageX-parseInt(e.css("left"),10),h=a.pageY-parseInt(e.css("top"),10);f=!0,d(this).css({cursor:"move"}),d(b).bind("mousemove",function(a){a.preventDefault(),f&&e.css({top:a.pageY-h,left:a.pageX-g})}).bind("mouseup",function(a){a.preventDefault(),f=!1,c.css({cursor:"auto"}),d(b).unbind("mousemove").unbind("mouseup")})})}return c._$dialog.show(),c._$dialog},this.hide=function(){return c._$dialog.hide(),c._$dialog},this.destroy=function(){return this.options.modal&&c._$dialog.unwrap(),this.options.draggable&&c._$dialog.find("div.wysiwyg-dialog-topbar").unbind("mousedown"),c._$dialog.remove(),c._$dialog}})}),d.browser===c&&(dnnsfjQuery.browser=function(){var a=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}}(navigator.userAgent),b={};return a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),b}),d.fn.wysiwyg=function(a){var b,c=arguments;return void 0!==d.wysiwyg[a]?(c=Array.prototype.concat.call([c[0]],[this],Array.prototype.slice.call(c,1)),d.wysiwyg[a].apply(d.wysiwyg,Array.prototype.slice.call(c,1))):"object"!=typeof a&&a?d.wysiwyg.plugin.exists(a)?(b=d.wysiwyg.plugin.parseName(a),c=Array.prototype.concat.call([c[0]],[this],Array.prototype.slice.call(c,1)),d.wysiwyg[b.name][b.method].apply(d.wysiwyg[b.name],Array.prototype.slice.call(c,1))):void f.error("Method '"+a+"' does not exist on dnnsfjQuery.wysiwyg.\nTry to include some extra controls or plugins"):(Array.prototype.unshift.call(c,this),d.wysiwyg.init.apply(d.wysiwyg,c))},d.fn.getWysiwyg=function(){return this.data("wysiwyg")}})}(window,document),function(a){var b=function(){var b=65,c={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},d=function(b,c){var d=K(b);a(c).data("colorpicker").fields.eq(1).val(d.r).end().eq(2).val(d.g).end().eq(3).val(d.b).end()},e=function(b,c){a(c).data("colorpicker").fields.eq(4).val(b.h).end().eq(5).val(b.s).end().eq(6).val(b.b).end()},f=function(b,c){a(c).data("colorpicker").fields.eq(0).val(M(b)).end()},g=function(b,c){a(c).data("colorpicker").selector.css("backgroundColor","#"+M({h:b.h,s:100,b:100})),a(c).data("colorpicker").selectorIndic.css({left:parseInt(150*b.s/100,10),top:parseInt(150*(100-b.b)/100,10)})},h=function(b,c){a(c).data("colorpicker").hue.css("top",parseInt(150-150*b.h/360,10))},i=function(b,c){a(c).data("colorpicker").currentColor.css("backgroundColor","#"+M(b))},j=function(b,c){a(c).data("colorpicker").newColor.css("backgroundColor","#"+M(b))},k=function(c){var d=c.charCode||c.keyCode||-1;if(d>b&&d<=90||32==d)return!1;!0===a(this).parent().parent().data("colorpicker").livePreview&&l.apply(this)},l=function(b){var c,i=a(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?i.data("colorpicker").color=c=I(G(this.value)):this.parentNode.className.indexOf("_hsb")>0?i.data("colorpicker").color=c=E({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=c=J(F({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),b&&(d(c,i.get(0)),f(c,i.get(0)),e(c,i.get(0))),g(c,i.get(0)),h(c,i.get(0)),j(c,i.get(0)),i.data("colorpicker").onChange.apply(i,[c,M(c),K(c)])},m=function(b){a(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus")},n=function(){b=this.parentNode.className.indexOf("_hex")>0?70:65,a(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),a(this).parent().addClass("colorpicker_focus")},o=function(b){var c=a(this).parent().find("input").focus(),d={el:a(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:b.pageY,field:c,val:parseInt(c.val(),10),preview:a(this).parent().parent().data("colorpicker").livePreview};a(document).bind("mouseup",d,q),a(document).bind("mousemove",d,p)},p=function(a){return a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10)))),a.data.preview&&l.apply(a.data.field.get(0),[!0]),!1},q=function(b){return l.apply(b.data.field.get(0),[!0]),b.data.el.removeClass("colorpicker_slider").find("input").focus(),a(document).unbind("mouseup",q),a(document).unbind("mousemove",p),!1},r=function(b){var c={cal:a(this).parent(),y:a(this).offset().top};c.preview=c.cal.data("colorpicker").livePreview,a(document).bind("mouseup",c,t),a(document).bind("mousemove",c,s)},s=function(a){return l.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,a.pageY-a.data.y)))/150,10)).get(0),[a.data.preview]),!1},t=function(b){return d(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),f(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",t),a(document).unbind("mousemove",s),!1},u=function(b){var c={cal:a(this).parent(),pos:a(this).offset()};c.preview=c.cal.data("colorpicker").livePreview,a(document).bind("mouseup",c,w),a(document).bind("mousemove",c,v)},v=function(a){return l.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,a.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,a.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]),!1},w=function(b){return d(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),f(b.data.cal.data("colorpicker").color,b.data.cal.get(0)),a(document).unbind("mouseup",w),a(document).unbind("mousemove",v),!1},x=function(b){a(this).addClass("colorpicker_focus")},y=function(b){a(this).removeClass("colorpicker_focus")},z=function(b){var c=a(this).parent(),d=c.data("colorpicker").color;c.data("colorpicker").origColor=d,i(d,c.get(0)),c.data("colorpicker").onSubmit(d,M(d),K(d),c.data("colorpicker").el)},A=function(b){var c=a("#"+a(this).data("colorpickerId"));c.data("colorpicker").onBeforeShow.apply(this,[c.get(0)]);var d=a(this).offset(),e=D(),f=d.top+this.offsetHeight,g=d.left;return f+176>e.t+e.h&&(f-=this.offsetHeight+176),g+356>e.l+e.w&&(g-=356),c.css({left:g+"px",top:f+"px"}),0!=c.data("colorpicker").onShow.apply(this,[c.get(0)])&&c.show(),a(document).bind("mousedown",{cal:c},B),!1},B=function(b){C(b.data.cal.get(0),b.target,b.data.cal.get(0))||(0!=b.data.cal.data("colorpicker").onHide.apply(this,[b.data.cal.get(0)])&&b.data.cal.hide(),a(document).unbind("mousedown",B))},C=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var d=b.parentNode;d&&d!=c;){if(d==a)return!0;d=d.parentNode}return!1},D=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},E=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},F=function(a){return{r:Math.min(255,Math.max(0,a.r)),g:Math.min(255,Math.max(0,a.g)),b:Math.min(255,Math.max(0,a.b))}},G=function(a){var b=6-a.length;if(b>0){for(var c=[],d=0;d<b;d++)c.push("0");c.push(a),a=c.join("")}return a},H=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},I=function(a){return J(H(a))},J=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,0!=b.s?a.r==d?b.h=(a.g-a.b)/e:a.g==d?b.h=2+(a.b-a.r)/e:b.h=4+(a.r-a.g)/e:b.h=-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},K=function(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=c%60*(f-g)/60;360==c&&(c=0),c<60?(b.r=f,b.b=g,b.g=g+h):c<120?(b.g=f,b.b=g,b.r=f-h):c<180?(b.g=f,b.r=g,b.b=g+h):c<240?(b.b=f,b.r=g,b.g=f-h):c<300?(b.b=f,b.g=g,b.r=g+h):c<360?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},L=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},M=function(a){return L(K(a))},N=function(){var b=a(this).parent(),c=b.data("colorpicker").origColor;b.data("colorpicker").color=c,d(c,b.get(0)),f(c,b.get(0)),e(c,b.get(0)),g(c,b.get(0)),h(c,b.get(0)),j(c,b.get(0))};return{init:function(b){if(b=a.extend({},c,b||{}),"string"==typeof b.color)b.color=I(b.color);else if(void 0!=b.color.r&&void 0!=b.color.g&&void 0!=b.color.b)b.color=J(b.color);else{if(void 0==b.color.h||void 0==b.color.s||void 0==b.color.b)return this;b.color=E(b.color)}return this.each(function(){if(!a(this).data("colorpickerId")){var c=a.extend({},b);c.origColor=b.color;var p="collorpicker_"+parseInt(1e3*Math.random());a(this).data("colorpickerId",p);var q=a('<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>').attr("id",p);c.flat?q.appendTo(this).show():q.appendTo(document.body),c.fields=q.find("input").bind("keyup",k).bind("change",l).bind("blur",m).bind("focus",n),q.find("span").bind("mousedown",o).end().find(">div.colorpicker_current_color").bind("click",N),c.selector=q.find("div.colorpicker_color").bind("mousedown",u),c.selectorIndic=c.selector.find("div div"),c.el=this,c.hue=q.find("div.colorpicker_hue div"),q.find("div.colorpicker_hue").bind("mousedown",r),c.newColor=q.find("div.colorpicker_new_color"),c.currentColor=q.find("div.colorpicker_current_color"),q.data("colorpicker",c),q.find("div.colorpicker_submit").bind("mouseenter",x).bind("mouseleave",y).bind("click",z),d(c.color,q.get(0)),e(c.color,q.get(0)),f(c.color,q.get(0)),h(c.color,q.get(0)),g(c.color,q.get(0)),i(c.color,q.get(0)),j(c.color,q.get(0)),c.flat?q.css({position:"relative",display:"block"}):a(this).bind(c.eventName,A)}})},showPicker:function(){return this.each(function(){a(this).data("colorpickerId")&&A.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("colorpickerId")&&a("#"+a(this).data("colorpickerId")).hide()})},setColor:function(b){if("string"==typeof b)b=I(b);else if(void 0!=b.r&&void 0!=b.g&&void 0!=b.b)b=J(b);else{if(void 0==b.h||void 0==b.s||void 0==b.b)return this;b=E(b)}return this.each(function(){if(a(this).data("colorpickerId")){var c=a("#"+a(this).data("colorpickerId"));c.data("colorpicker").color=b,c.data("colorpicker").origColor=b,d(b,c.get(0)),e(b,c.get(0)),f(b,c.get(0)),h(b,c.get(0)),g(b,c.get(0)),i(b,c.get(0)),j(b,c.get(0))}})}}}();a.fn.extend({ColorPicker:b.init,ColorPickerHide:b.hidePicker,ColorPickerShow:b.showPicker,ColorPickerSetColor:b.setColor})}(dnnsfjQuery),dnnsfAngular15.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),dnnsfAngular15.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),dnnsfAngular15.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(l(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start().finally(i):a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(i)})}function i(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"}),m(d)}function j(){if(!f.hasClass("collapse")&&!f.hasClass("in"))return k();b.resolve(n(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:{height:"0"}}).start().finally(k):a.removeClass(f,"in",{to:{height:"0"}}).then(k)})}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse"),o(d)}var l=c(g.expanding),m=c(g.expanded),n=c(g.collapsing),o=c(g.collapsed);d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),d.$watch(g.uibCollapse,function(a){a?j():h()})}}}]),dnnsfAngular15.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){(dnnsfAngular15.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers)&&dnnsfAngular15.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,dnnsfAngular15.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){if(a){var c=dnnsfAngular15.element(b[0].querySelector("[uib-accordion-header]"));c.html(""),c.append(a)}})}}}),dnnsfAngular15.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=dnnsfAngular15.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),dnnsfAngular15.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,dnnsfAngular15.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);a&&!dnnsfAngular15.isDefined(d.uncheckable)||b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return dnnsfAngular15.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,dnnsfAngular15.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),dnnsfAngular15.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;t.length;)t.shift()}function g(a){for(var b=0;b<q.length;b++)q[b].slide.active=b===a}function h(c,d,i){if(!u){if(dnnsfAngular15.extend(c,{direction:i}),dnnsfAngular15.extend(q[s].slide||{},{direction:i}),e.enabled(b)&&!a.$currentTransition&&q[d].element&&p.slides.length>1){q[d].element.data(r,c.direction);var j=p.getCurrentIndex();dnnsfAngular15.isNumber(j)&&q[j].element&&q[j].element.data(r,c.direction),a.$currentTransition=!0,e.on("addClass",q[d].element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),t.length)){var d=t.pop().slide,g=d.index,i=g>p.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})}a.active=c.index,s=c.index,g(d),l()}}function i(a){for(var b=0;b<q.length;b++)if(q[b].slide===a)return b}function j(){n&&(c.cancel(n),n=null)}function k(b){b.length||(a.$currentTransition=null,f())}function l(){j();var b=+a.interval;!isNaN(b)&&b>0&&(n=c(m,b))}function m(){var b=+a.interval;o&&!isNaN(b)&&b>0&&q.length?a.next():a.pause()}var n,o,p=this,q=p.slides=a.slides=[],r="uib-slideDirection",s=a.active,t=[],u=!1;p.addSlide=function(b,c){q.push({slide:b,element:c}),q.sort(function(a,b){return+a.slide.index>+b.slide.index}),(b.index===a.active||1===q.length&&!dnnsfAngular15.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),s=b.index,a.active=b.index,g(s),p.select(q[i(b)]),1===q.length&&a.play())},p.getCurrentIndex=function(){for(var a=0;a<q.length;a++)if(q[a].slide.index===s)return a},p.next=a.next=function(){var b=(p.getCurrentIndex()+1)%q.length;return 0===b&&a.noWrap()?void a.pause():p.select(q[b],"next")},p.prev=a.prev=function(){var b=p.getCurrentIndex()-1<0?q.length-1:p.getCurrentIndex()-1;return a.noWrap()&&b===q.length-1?void a.pause():p.select(q[b],"prev")},p.removeSlide=function(b){var c=i(b),d=t.indexOf(q[c]);-1!==d&&t.splice(d,1),q.splice(c,1),q.length>0&&s===c?c>=q.length?(s=q.length-1,a.active=s,g(s),p.select(q[q.length-1])):(s=c,a.active=s,g(s),p.select(q[c])):s>c&&(s--,a.active=s),0===q.length&&(s=null,a.active=null,f())},p.select=a.select=function(b,c){var d=i(b.slide);void 0===c&&(c=d>p.getCurrentIndex()?"next":"prev"),b.slide.index===s||a.$currentTransition?b&&b.slide.index!==s&&a.$currentTransition&&t.push(q[d]):h(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.pause=function(){a.noPause||(o=!1,j())},a.play=function(){o||(o=!0,l())},a.$on("$destroy",function(){u=!0,j()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",l),a.$watchCollection("slides",k),a.$watch("active",function(a){if(dnnsfAngular15.isNumber(a)&&s!==a){for(var b=0;b<q.length;b++)if(q[b].slide.index===a){a=b;break}q[a]&&(s=a,g(a),p.select(q[a]))}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)})}}}).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}return{beforeAddClass:function(c,d,e){if("active"===d){var f=!1,g=c.data("uib-slideDirection"),h="next"===g?"left":"right",i=b.bind(this,c,h+" "+g,e);return c.addClass(g),a(c,{addClass:h}).start().done(i),function(){f=!0}}e()},beforeRemoveClass:function(c,d,e){if("active"===d){var f=!1,g=c.data("uib-slideDirection"),h="next"===g?"left":"right",i=b.bind(this,c,h,e);return a(c,{addClass:h}).start().done(i),function(){f=!0}}e()}}}]),dnnsfAngular15.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(a,b,c,d){function e(a,b){var c=[],e=a.split(""),f=a.indexOf("'");if(f>-1){var g=!1;a=a.split("");for(var h=f;h<a.length;h++)g?("'"===a[h]&&(h+1<a.length&&"'"===a[h+1]?(a[h+1]="$",e[h+1]=""):(e[h]="",g=!1)),a[h]="$"):"'"===a[h]&&(a[h]="$",e[h]="",g=!0);a=a.join("")}return dnnsfAngular15.forEach(n,function(d){var f=a.indexOf(d.key);if(f>-1){a=a.split(""),e[f]="("+d.regex+")",a[f]="$";for(var g=f+1,h=f+d.key.length;g<h;g++)e[g]="",a[g]="$";a=a.join(""),c.push({index:f,key:d.key,apply:d[b],matcher:d.regex})}}),{regex:new RegExp("^"+e.join("")+"$"),map:d(c,"index")}}function f(a,b,c){return!(c<1)&&(1===b&&c>28?29===c&&(a%4==0&&a%100!=0||a%400==0):3!==b&&5!==b&&8!==b&&10!==b||c<31)}function g(a){return parseInt(a,10)}function h(a,b){return a&&b?l(a,b):a}function i(a,b){return a&&b?l(a,b,!0):a}function j(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function k(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function l(a,b,c){return c=c?-1:1,k(a,c*(j(b,a.getTimezoneOffset())-a.getTimezoneOffset()))}var m,n,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=b.id,this.parsers={},this.formatters={},n=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){this.year=+a+2e3},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return/^[0-9]$/.test(a.getMonth())?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return/^[1-9]$/.test(a.getDate())?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=g(c+d),this.minutes+=g(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}]},this.init(),this.filter=function(a,c){if(!dnnsfAngular15.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==m&&this.init(),this.formatters[c]||(this.formatters[c]=e(c,"formatter"));var d=this.formatters[c],f=d.map,g=c;return f.reduce(function(b,c,d){var e=g.match(new RegExp("(.*)"+c.key));e&&dnnsfAngular15.isString(e[1])&&(b+=e[1],g=g.replace(e[1]+c.key,""));var h=d===f.length-1?g:"";return c.apply?b+c.apply.call(null,a)+h:b+h},"")},this.parse=function(c,d,g){if(!dnnsfAngular15.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(o,"\\$&"),b.id!==m&&this.init(),this.parsers[d]||(this.parsers[d]=e(d,"apply"));var h=this.parsers[d],i=h.regex,j=h.map,k=c.match(i),l=!1;if(k&&k.length){var n,p;dnnsfAngular15.isDate(g)&&!isNaN(g.getTime())?n={year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:(g&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var q=1,r=k.length;q<r;q++){var s=j[q-1];"Z"===s.matcher&&(l=!0),s.apply&&s.apply.call(n,k[q])}var t=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return f(n.year,n.month,n.date)&&(!dnnsfAngular15.isDate(g)||isNaN(g.getTime())||l?(p=new Date(0),t.call(p,n.year,n.month,n.date),u.call(p,n.hours||0,n.minutes||0,n.seconds||0,n.milliseconds||0)):(p=new Date(g),t.call(p,n.year,n.month,n.date),u.call(p,n.hours,n.minutes,n.seconds,n.milliseconds))),p}},this.toTimezone=h,this.fromTimezone=i,this.timezoneToOffset=j,this.addDateMinutes=k,this.convertTimezoneToLocal=l}]),dnnsfAngular15.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){if(a.scope.$eval(m)===b)return c=a,!0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];dnnsfAngular15.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),dnnsfAngular15.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},e={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){c=this.getRawNode(c);for(var d=c.offsetParent||a[0].documentElement;d&&d!==a[0].documentElement&&function(a){return"static"===(b.getComputedStyle(a).position||"static")}(d);)d=d.offsetParent;return d||a[0].documentElement},scrollbarWidth:function(){if(dnnsfAngular15.isUndefined(c)){var b=dnnsfAngular15.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(b),c=b[0].offsetWidth-b[0].clientWidth,c=isFinite(c)?c:0,b.remove()}return c},isScrollable:function(a,c){a=this.getRawNode(a);var e=c?d.hidden:d.normal,f=b.getComputedStyle(a);return e.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,e){c=this.getRawNode(c);var f=e?d.hidden:d.normal,g=a[0].documentElement,h=b.getComputedStyle(c),i="absolute"===h.position,j=c.parentElement||g;if(j===g||"fixed"===h.position)return g;for(;j.parentElement&&j!==g;){var k=b.getComputedStyle(j);if(i&&"static"!==k.position&&(i=!1),!i&&f.test(k.overflow+k.overflowY+k.overflowX))break;j=j.parentElement}return j},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(dnnsfAngular15.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(dnnsfAngular15.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(dnnsfAngular15.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(dnnsfAngular15.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=!1!==e;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=e.auto.test(a);return b&&(a=a.replace(e.auto,"")),a=a.split("-"),a[0]=a[0]||"top",e.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",e.secondary.test(a[1])||(a[1]="center"),a[2]=!!b,a},positionElements:function(a,c,d,f){a=this.getRawNode(a),c=this.getRawNode(c);var g=dnnsfAngular15.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=dnnsfAngular15.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=f?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(e.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":e.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var f=dnnsfAngular15.element(d).hasClass("tooltip-inner"),g=f?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void dnnsfAngular15.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";e.vertical.test(c[0])?k+=c[0]+"-"+c[1]:k+=c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(f?d:a)[k];switch(c[0]){case"top":h.bottom=f?"0":"-"+j;break;case"bottom":h.top=f?"0":"-"+j;break;case"left":h.right=f?"0":"-"+j;break;case"right":h.left=f?"0":"-"+j}h[c[1]]=l,dnnsfAngular15.element(g).css(h)}}}}}]),dnnsfAngular15.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).value("uibDatepickerAttributeWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDatepickerAttributeWarning","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){a.datepickerMode=b,q&&(a.datepickerOptions.datepickerMode=b)}var m=this,n={$setViewValue:dnnsfAngular15.noop},o={},p=[],q=!!b.datepickerOptions;if(this.modes=["day","month","year"],q)["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||dnnsfAngular15.noop;break;case"datepickerMode":a.datepickerMode=dnnsfAngular15.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:h.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":m[b]=dnnsfAngular15.isDefined(a.datepickerOptions[b])?d(a.datepickerOptions[b])(a.$parent):h[b];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":m[b]=dnnsfAngular15.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:h[b];break;case"startingDay":dnnsfAngular15.isDefined(a.datepickerOptions.startingDay)?m.startingDay=a.datepickerOptions.startingDay:dnnsfAngular15.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(a){a?dnnsfAngular15.isDate(a)?m[b]=k.fromTimezone(new Date(a),o.timezone):m[b]=new Date(g(a,"medium")):m[b]=null,m.refreshView()}):m[b]=h[b]?k.fromTimezone(new Date(h[b]),o.timezone):null;break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){m[b]=a[b]=dnnsfAngular15.isDefined(c)?c:datepickerOptions[b],("minMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)<m.modes.indexOf(m[b])||"maxMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)>m.modes.indexOf(m[b]))&&(a.datepickerMode=m[b],a.datepickerOptions.datepickerMode=m[b])}):m[b]=a[b]=h[b]||null;break;case"initDate":a.datepickerOptions.initDate?(m.activeDate=k.fromTimezone(a.datepickerOptions.initDate,o.timezone)||new Date,a.$watch(function(){return a.datepickerOptions.initDate},function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(m.activeDate=k.fromTimezone(a,o.timezone),m.refreshView())})):m.activeDate=new Date}});else{if(dnnsfAngular15.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(c){m[c]=dnnsfAngular15.isDefined(b[c])?d(b[c])(a.$parent):h[c],dnnsfAngular15.isDefined(b[c])&&j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead")}),dnnsfAngular15.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(c){m[c]=dnnsfAngular15.isDefined(b[c])?a.$parent.$eval(b[c]):h[c],dnnsfAngular15.isDefined(b[c])&&j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead")}),dnnsfAngular15.forEach(["dateDisabled","customClass"],function(a){dnnsfAngular15.isDefined(b[a])&&j&&f.warn("uib-datepicker "+a+" attribute usage is deprecated, use datepicker-options attribute instead")}),dnnsfAngular15.isDefined(b.startingDay)?(j&&f.warn("uib-datepicker startingDay attribute usage is deprecated, use datepicker-options attribute instead"),m.startingDay=a.$parent.$eval(b.startingDay)):dnnsfAngular15.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,dnnsfAngular15.forEach(["minDate","maxDate"],function(c){b[c]?(j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead"),p.push(a.$parent.$watch(b[c],function(a){a?dnnsfAngular15.isDate(a)?m[c]=k.fromTimezone(new Date(a),o.timezone):m[c]=new Date(g(a,"medium")):m[c]=null,m.refreshView()}))):m[c]=h[c]?k.fromTimezone(new Date(h[c]),o.timezone):null}),dnnsfAngular15.forEach(["minMode","maxMode"],function(c){b[c]?(j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead"),p.push(a.$parent.$watch(b[c],function(d){m[c]=a[c]=dnnsfAngular15.isDefined(d)?d:b[c],("minMode"===c&&m.modes.indexOf(a.datepickerMode)<m.modes.indexOf(m[c])||"maxMode"===c&&m.modes.indexOf(a.datepickerMode)>m.modes.indexOf(m[c]))&&(a.datepickerMode=m[c])}))):m[c]=a[c]=h[c]||null}),dnnsfAngular15.isDefined(b.initDate)){j&&f.warn("uib-datepicker initDate attribute usage is deprecated, use datepicker-options attribute instead");var r=k.fromTimezone(a.$parent.$eval(b.initDate),o.timezone);this.activeDate=isNaN(r)?new Date:r,p.push(a.$parent.$watch(b.initDate,function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(a=k.fromTimezone(a,o.timezone),m.activeDate=isNaN(a)?new Date:a,m.refreshView())}))}else this.activeDate=new Date;b.datepickerMode&&j&&f.warn("uib-datepicker datepickerMode attribute usage is deprecated, use datepicker-options attribute instead"),a.datepickerMode=a.datepickerMode||h.datepickerMode}a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=dnnsfAngular15.isDefined(b.disabled)||!1,dnnsfAngular15.isDefined(b.ngDisabled)&&p.push(a.$parent.$watch(b.ngDisabled,function(b){a.disabled=b,m.refreshView()})),a.isActive=function(b){return 0===m.compare(b.date,m.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){n=a,o=a.$options||h.ngModelOptions,this.activeDate=n.$modelValue||new Date,n.$render=function(){m.render()}},this.render=function(){if(n.$viewValue){var a=new Date(n.$viewValue);!isNaN(a)?this.activeDate=k.fromTimezone(a,o.timezone):i||f.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=n.$viewValue?new Date(n.$viewValue):null;b=k.fromTimezone(b,o.timezone),n.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=n.$viewValue?new Date(n.$viewValue):null;d=k.fromTimezone(d,o.timezone);var e={date:b,label:k.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),current:0===this.compare(b,new Date),customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=e),m.activeDate&&0===this.compare(e.date,m.activeDate)&&(a.activeDt=e),e},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===m.minMode){var c=n.$viewValue?k.fromTimezone(new Date(n.$viewValue),o.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=k.toTimezone(c,o.timezone),n.$setViewValue(c),n.$render()}else m.activeDate=b,l(m.modes[m.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode")},a.move=function(a){var b=m.activeDate.getFullYear()+a*(m.step.years||0),c=m.activeDate.getMonth()+a*(m.step.months||0);m.activeDate.setFullYear(b,c,1),m.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===m.maxMode&&1===b||a.datepickerMode===m.minMode&&-1===b||(l(m.modes[m.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var s=function(){m.element[0].focus()};a.$on("uib:datepicker.focus",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),m.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(m.isDisabled(m.activeDate))return;a.select(m.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(m.handleKeyDown(c,b),m.refreshView()):a.toggleMode("up"===c?1:-1)},a.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!=0||a%100==0&&a%400!=0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){dnnsfAngular15.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;f<b;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(1-h);for(var j=this.getDates(i,42),k=0;k<42;k++)j[k]=dnnsfAngular15.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;l<7;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;o<n;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){dnnsfAngular15.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;f<12;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=dnnsfAngular15.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());g<f;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=dnnsfAngular15.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];dnnsfAngular15.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).value("uibDatepickerPopupAttributeWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","uibDatepickerPopupAttributeWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function r(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function s(a){if(dnnsfAngular15.isNumber(a)&&(a=new Date(a)),!a)return null;if(dnnsfAngular15.isDate(a)&&!isNaN(a))return a;if(dnnsfAngular15.isString(a)){var b=r(a);if(!isNaN(b))return l.toTimezone(b,H.timezone)}return G.$options&&G.$options.allowInvalid?a:void 0}function t(a,b){var d=a||b;return!c.ngRequired&&!d||(dnnsfAngular15.isNumber(d)&&(d=new Date(d)),!d||(!(!dnnsfAngular15.isDate(d)||isNaN(d))||!!dnnsfAngular15.isString(d)&&!isNaN(r(b))))}function u(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function v(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function w(){if(a.isOpen){var d=dnnsfAngular15.element(I[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=!1,M=[];a.watchData={},this.init=function(j){if(G=j,H=j.$options||o.ngModelOptions,y=dnnsfAngular15.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=dnnsfAngular15.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=dnnsfAngular15.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=dnnsfAngular15.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=dnnsfAngular15.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=dnnsfAngular15.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=dnnsfAngular15.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],L=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");if(L&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=dnnsfAngular15.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),a.ngModelOptions=dnnsfAngular15.copy(H),a.ngModelOptions.timezone=null,!0===a.ngModelOptions.updateOnDefault&&(a.ngModelOptions.updateOn=a.ngModelOptions.updateOn?a.ngModelOptions.updateOn+" default":"default"),D.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":B}),E=dnnsfAngular15.element(D.children()[0]),E.attr("template-url",C),L&&"month"===c.type&&(E.attr("datepicker-mode",'"month"'),E.attr("min-mode","month")),a.datepickerOptions&&E.attr("datepicker-options","datepickerOptions"),dnnsfAngular15.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(b){if(c[b]){p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var d=f(c[b]),g={get:function(){return d(a.$parent)}};if(E.attr(q(b),"watchData."+b),"datepickerMode"===b){var h=d.assign;g.set=function(b){h(a.$parent,b)}}Object.defineProperty(a.watchData,b,g)}}),dnnsfAngular15.forEach(["minDate","maxDate","initDate"],function(b){if(c[b]){p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var d=f(c[b]);M.push(a.$parent.$watch(d,function(c){if("minDate"===b||"maxDate"===b)null===c?K[b]=null:dnnsfAngular15.isDate(c)?K[b]=l.fromTimezone(new Date(c),H.timezone):K[b]=new Date(k(c,"medium")),a.watchData[b]=null===c?null:K[b];else{var d=c?new Date(c):new Date;a.watchData[b]=l.fromTimezone(d,H.timezone)}})),E.attr(q(b),"watchData."+b)}}),c.dateDisabled&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr("date-disabled","dateDisabled({ date: date, mode: mode })")),dnnsfAngular15.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(a){dnnsfAngular15.isDefined(c[a])&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr(q(a),c[a]))}),c.customClass&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr("custom-class","customClass({ date: date, mode: mode })")),L?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.timezone),b}):(G.$$parserName="date",G.$validators.date=t,G.$parsers.unshift(s),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(a.date=l.fromTimezone(b,H.timezone),dnnsfAngular15.isNumber(a.date)&&(a.date=new Date(a.date)),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=r(G.$viewValue)}),b.on("keydown",v),I=d(D)(a),D.remove(),z?h.find("body").append(I):b.after(I),a.$on("$destroy",function(){for(!0===a.isOpen&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off("keydown",v),h.off("click",u),F&&F.off("scroll",w),dnnsfAngular15.element(g).off("resize",w);M.length;)M.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,K.minDate)<0||a.watchData.maxDate&&a.compare(b,K.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){dnnsfAngular15.isDefined(c)&&(a.date=c);var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;dnnsfAngular15.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):b=new Date(d.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=dnnsfAngular15.isDefined(c.disabled)||!1,c.ngDisabled&&M.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){w(),A&&a.$broadcast("uib:datepicker.focus"),h.on("click",u);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||dnnsfAngular15.element(j.scrollParent(b)))&&F.on("scroll",w):F=null,dnnsfAngular15.element(g).on("resize",w)},0,!1):(h.off("click",u),F&&F.off("scroll",w),dnnsfAngular15.element(g).off("resize",w))}),a.$on("uib:datepicker.mode",function(){n(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0];d[1].init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/popup.html"}}}),dnnsfAngular15.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),dnnsfAngular15.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.on("click",d),a.on("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.off("click",d),a.off("keydown",e))};var d=function(a){if(c&&!(a&&"disabled"===c.getAutoClose()||a&&3===a.which)){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.appendToOpenClass,q=e.openClass,r=dnnsfAngular15.noop,s=c.onToggle?d(c.onToggle):dnnsfAngular15.noop,t=!1,u=null,v=!1,w=i.find("body");b.addClass("dropdown"),this.init=function(){if(c.isOpen&&(m=d(c.isOpen),r=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),dnnsfAngular15.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(o);e&&(u=dnnsfAngular15.element(e))}t=dnnsfAngular15.isDefined(c.dropdownAppendToBody),v=dnnsfAngular15.isDefined(c.keyboardNav),t&&!u&&(u=w),u&&n.dropdownMenu&&(u.append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return v},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?dnnsfAngular15.element(n.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:dnnsfAngular15.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:dnnsfAngular15.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(u&&n.dropdownMenu){var e,i,m=h.positionElements(b,n.dropdownMenu,"bottom-left",!0);if(e={top:m.top+"px",display:c?"block":"none"},i=n.dropdownMenu.hasClass("dropdown-menu-right"),i?(e.left="auto",e.right=window.innerWidth-(m.left+b.prop("offsetWidth"))+"px"):(e.left=m.left+"px",e.right="auto"),!t){var v=h.offset(u);e.top=m.top-v.top+"px",i?e.right=window.innerWidth-(m.left-v.left+b.prop("offsetWidth"))+"px":e.left=m.left-v.left+"px"}n.dropdownMenu.css(e)}var w=u||b;if(w.hasClass(u?p:q)===!c&&g[c?"addClass":"removeClass"](w,u?p:q).then(function(){dnnsfAngular15.isDefined(c)&&c!==d&&s(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var x=dnnsfAngular15.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(x),n.dropdownMenu=x}f.close(o),n.selectedOption=null}dnnsfAngular15.isFunction(r)&&r(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!dnnsfAngular15.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),dnnsfAngular15.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),dnnsfAngular15.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return dnnsfAngular15.forEach(a,function(a){dnnsfAngular15.isFunction(a)||dnnsfAngular15.isArray(a)?h.push(c.resolve(b.invoke(a))):dnnsfAngular15.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return dnnsfAngular15.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a(d,{addClass:e.modalInClass}).start(),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a(d,{removeClass:e.modalInClass}).start().then(g):g()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(a,b,c,d,e){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(f,g,h){g.addClass(h.windowClass||""),g.addClass(h.windowTopClass||""),f.size=h.size,f.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},g.on("click",f.close),f.$isRendered=!0;var i=b.defer();h.$observe("modalRender",function(a){"true"===a&&i.resolve()}),i.promise.then(function(){var i=null;h.modalInClass&&(i=d(g,{addClass:h.modalInClass}).start(),f.$on(a.NOW_CLOSING_EVENT,function(a,b){var e=b();d?d(g,{removeClass:h.modalInClass}).start().then(e):c.removeClass(g,h.modalInClass).then(e)})),b.when(i).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!e[0].activeElement||!g[0].contains(e[0].activeElement)){var c=g[0].querySelector("[autofocus]");c?c.focus():g[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h){function i(){for(var a=-1,b=t.keys(),c=0;c<b.length;c++)t.get(b[c]).value.backdrop&&(a=c);return a}function j(a,b){var c=t.get(a).value,d=c.appendTo;t.remove(a),m(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||s;u.remove(b,a),d.toggleClass(b,u.hasKey(b)),k(!0)},c.closedDeferred),l(),b&&b.focus?b.focus():d.focus&&d.focus()}function k(a){var b;t.length()>0&&(b=t.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function l(){if(p&&-1===i()){var a=q;m(p,q,function(){a=null}),p=void 0,q=void 0}}function m(a,c,d,e){function g(){g.done||(g.done=!0,b(a,{event:"leave"}).start().then(function(){a.remove(),e&&e.resolve()}),c.$destroy(),d&&d())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(v.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function n(a){if(a.isDefaultPrevented())return a;var b=t.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){v.dismiss(b.key,"escape key press")}));break;case 9:v.loadFocusElementList(b);var c=!1;a.shiftKey?(v.isFocusInFirstItem(a)||v.isModalFocused(a,b))&&(c=v.focusLastFocusableElement()):v.isFocusInLastItem(a)&&(c=v.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p,q,r,s="modal-open",t=h.createNew(),u=g.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0;return e.$watch(i,function(a){q&&(q.index=a)}),c.on("keydown",n),e.$on("$destroy",function(){c.off("keydown",n)}),v.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||s;k(!1),t.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),u.put(h,b);var j=f.appendTo,l=i();if(!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");l>=0&&!p&&(q=e.$new(!0),q.modalOptions=f,q.index=l,p=dnnsfAngular15.element('<div uib-modal-backdrop="modal-backdrop"></div>'),p.attr("backdrop-class",f.backdropClass),f.animation&&p.attr("modal-animation","true"),d(p)(q),a.enter(p,j));var m=dnnsfAngular15.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:t.length()-1,animate:"animate"}).html(f.content),f.animation&&m.attr("modal-animation","true"),a.enter(d(m)(f.scope),j).then(function(){f.scope.$$uibDestructionScheduled||a.addClass(j,h)}),t.top().value.modalDomEl=m,t.top().value.modalOpener=g,v.clearFocusListCache()},v.close=function(a,b){var c=t.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),j(a,c.value.modalOpener),!0):!c},v.dismiss=function(a,b){var c=t.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),j(a,c.value.modalOpener),!0):!c},v.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},v.getTop=function(){return t.top()},v.modalRendered=function(a){var b=t.get(a);b&&b.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return r.length>0&&(r[0].focus(),!0)},v.focusLastFocusableElement=function(){return r.length>0&&(r[r.length-1].focus(),!0)},v.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},v.isFocusInFirstItem=function(a){return r.length>0&&(a.target||a.srcElement)===r[0]},v.isFocusInLastItem=function(a){return r.length>0&&(a.target||a.srcElement)===r[r.length-1]},v.clearFocusListCache=function(){r=[],w=0},v.loadFocusElementList=function(a){if((void 0===r||!r.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(r=b[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},v}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(dnnsfAngular15.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return r}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=dnnsfAngular15.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=c.all([i(e),g.resolve(e.resolve,{},null,null)]);return q=k=c.all([k]).then(j,j).then(function(a){var c=e.scope||b,d=c.$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var g,i={};e.controller&&(i.$scope=d,i.$uibModalInstance=p,dnnsfAngular15.forEach(a[1],function(a,b){i[b]=a}),g=f(e.controller,i),e.controllerAs&&(e.bindToController&&(g.$close=d.$close,g.$dismiss=d.$dismiss,dnnsfAngular15.extend(g,c),dnnsfAngular15.isFunction(g.$onInit)&&g.$onInit()),d[e.controllerAs]=g)),h.open(p,{scope:d,deferred:l,renderDeferred:o,closedDeferred:n,content:a[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo}),m.resolve(!0)},function(a){m.reject(a),l.reject(a)}).finally(function(){k===q&&(k=null)}),p},j}]};return a}),dnnsfAngular15.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:dnnsfAngular15.noop,b.ngModelCtrl={$setViewValue:dnnsfAngular15.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(dnnsfAngular15.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault(),(!c.ngDisabled||!d)&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),dnnsfAngular15.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=dnnsfAngular15.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&f.init(g,a)}}}]),dnnsfAngular15.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=dnnsfAngular15.isDefined(i)&&i<b;g&&(j?(d=Math.max(a-Math.floor(i/2),1),(e=d+i-1)>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;h<=e;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(e<b){if(!l||e<b-2){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=dnnsfAngular15.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=dnnsfAngular15.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=dnnsfAngular15.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=dnnsfAngular15.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=dnnsfAngular15.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:dnnsfAngular15.identity;a.boundaryLinks=dnnsfAngular15.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=dnnsfAngular15.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(a,c,d,e){var f=e[0],g=e[1];g&&f.init(g,b)}}}]),dnnsfAngular15.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g;return a.replace(b,function(a,b){return(b?"-":"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){dnnsfAngular15.extend(d,a)},this.setTriggers=function(a){dnnsfAngular15.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),o.removeTop(),b=null)}}var o=m.createNew();return h.on("keypress",n),k.$on("$destroy",function(){h.off("keypress",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" ");return{show:b,hide:b.map(function(a){return c[a]||a})}}n=dnnsfAngular15.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){M.isOpen?q():m()}function m(){L&&!a.$eval(d[k+"Enable"])||(u(),x(),M.popupDelay?F||(F=g(r,M.popupDelay,!1)):r())}function q(){s(),M.popupCloseDelay?G||(G=g(t,M.popupCloseDelay,!1)):t()}function r(){if(s(),u(),!M.content)return dnnsfAngular15.noop;v(),M.$evalAsync(function(){M.isOpen=!0,y(!0),R()})}function s(){F&&(g.cancel(F),F=null),H&&(g.cancel(H),H=null)}function t(){M&&M.$evalAsync(function(){M&&(M.isOpen=!1,y(!1),M.animation?E||(E=g(w,150,!1)):w())})}function u(){G&&(g.cancel(G),G=null),E&&(g.cancel(E),E=null)}function v(){C||(D=M.$new(),C=c(D,function(a){J?h.find("body").append(a):b.after(a)}),z())}function w(){s(),u(),A(),C&&(C.remove(),C=null),D&&(D.$destroy(),D=null)}function x(){M.title=d[k+"Title"],M.content=P?P(a):d[e],M.popupClass=d[k+"Class"],M.placement=dnnsfAngular15.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(M.placement);I=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);M.popupDelay=isNaN(c)?n.popupDelay:c,M.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){O&&dnnsfAngular15.isFunction(O.assign)&&O.assign(a,b)}function z(){Q.length=0,P?(Q.push(a.$watch(P,function(a){M.content=a,!a&&M.isOpen&&t()})),Q.push(D.$watch(function(){N||(N=!0,D.$$postDigest(function(){N=!1,M&&M.isOpen&&R()}))}))):Q.push(d.$observe(e,function(a){M.content=a,!a&&M.isOpen?t():R()})),Q.push(d.$observe(k+"Title",function(a){M.title=a,M.isOpen&&R()})),Q.push(d.$observe(k+"Placement",function(a){M.placement=a||n.placement;var b=i.parsePlacement(M.placement);I=b[1]?b[0]+"-"+b[1]:b[0],M.isOpen&&R()}))}function A(){Q.length&&(dnnsfAngular15.forEach(Q,function(a){a()}),Q.length=0)}function B(a){M&&M.isOpen&&C&&(b[0].contains(a.target)||C[0].contains(a.target)||q())}var C,D,E,F,G,H,I,J=!!dnnsfAngular15.isDefined(n.appendToBody)&&n.appendToBody,K=p(void 0),L=dnnsfAngular15.isDefined(d[k+"Enable"]),M=a.$new(!0),N=!1,O=!!dnnsfAngular15.isDefined(d[k+"IsOpen"])&&l(d[k+"IsOpen"]),P=!!n.useContentExp&&l(d[e]),Q=[],R=function(){C&&C.html()&&(H||(H=g(function(){var a=i.positionElements(b,C,M.placement,J);C.css({top:a.top+"px",left:a.left+"px"}),C.hasClass(a.placement.split("-")[0])||(C.removeClass(I.split("-")[0]),C.addClass(a.placement.split("-")[0])),C.hasClass(n.placementClassPrefix+a.placement)||(C.removeClass(n.placementClassPrefix+I),C.addClass(n.placementClassPrefix+a.placement)),C.hasClass("uib-position-measure")?(i.positionArrow(C,a.placement),C.removeClass("uib-position-measure")):I!==a.placement&&i.positionArrow(C,a.placement),I=a.placement,H=null},0,!1)))};M.origScope=a,M.isOpen=!1,o.add(M,{close:t}),M.contentExp=function(){return M.content},d.$observe("disabled",function(a){a&&s(),a&&M.isOpen&&t()}),O&&a.$watch(O,function(a){M&&!a===M.isOpen&&j()});var S=function(){K.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j))}),K.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};!function(){var a=d[k+"Trigger"];S(),K=p(a),"none"!==K.show&&K.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===K.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(K.hide[c],q)),b.on("keypress",function(a){27===a.which&&q()})})}();var T=a.$eval(d[k+"Animation"]);M.animation=dnnsfAngular15.isDefined(T)?!!T:n.animation;var U,V=k+"AppendToBody";U=V in d&&void 0===d[V]||a.$eval(d[V]),J=dnnsfAngular15.isDefined(U)?U:J,a.$on("$destroy",function(){S(),w(),o.remove(M),M=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation()&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),dnnsfAngular15.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),dnnsfAngular15.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return dnnsfAngular15.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=dnnsfAngular15.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&dnnsfAngular15.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,dnnsfAngular15.element(b.children()[0]),{title:c.title})}}}),dnnsfAngular15.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:dnnsfAngular15.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return dnnsfAngular15.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=dnnsfAngular15.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=dnnsfAngular15.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=dnnsfAngular15.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=dnnsfAngular15.isArray(f)&&f.length>0?f:c.titles;var g=dnnsfAngular15.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(dnnsfAngular15.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=dnnsfAngular15.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),dnnsfAngular15.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a){if(!e){var f=b(c),g=d.tabs[f];g&&(g.tab.onDeselect(),g.tab.active=!1);var h=d.tabs[a];h?(h.tab.onSelect(),h.tab.active=!0,d.active=h.index,c=h.index):!h&&dnnsfAngular15.isNumber(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!dnnsfAngular15.isNumber(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){var c=b(a.index);if(a.index===d.active){var e=c===d.tabs.length-1?c-1:c+1%d.tabs.length;d.select(e)}d.tabs.splice(c,1)},a.$watch("tabset.active",function(a){dnnsfAngular15.isNumber(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=!!dnnsfAngular15.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!dnnsfAngular15.isDefined(c.justified)&&a.$parent.$eval(c.justified),dnnsfAngular15.isUndefined(c.active)&&(a.active=0)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),dnnsfAngular15.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),dnnsfAngular15.isUndefined(d.classes)&&(b.classes=""),b.select=function(){if(!b.disabled){for(var a,c=0;c<e.tabs.length;c++)if(e.tabs[c].tab===b){a=c;break}e.select(a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){dnnsfAngular15.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),dnnsfAngular15.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours;if(a.showMeridian?b>0&&b<13:b>=0&&b<24)return a.showMeridian&&(12===b&&(b=0),a.meridian===u[1]&&(b+=12)),b}function i(){var b=+a.minutes;return b>=0&&b<60?b:void 0}function j(){var b=+a.seconds;return b>=0&&b<60?b:void 0}function k(a){return null===a?"":dnnsfAngular15.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function l(a){m(),t.$setViewValue(new Date(r)),n(a)}function m(){t.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(t.$modelValue){var c=r.getHours(),d=r.getMinutes(),e=r.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c),"m"!==b&&(a.minutes=k(d)),a.meridian=r.getHours()<12?u[0]:u[1],"s"!==b&&(a.seconds=k(e)),a.meridian=r.getHours()<12?u[0]:u[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=u[0]}function o(a){r=q(r,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}var r=new Date,s=[],t={$setViewValue:dnnsfAngular15.noop},u=dnnsfAngular15.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=dnnsfAngular15.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){t=b,t.$render=this.render,t.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);(dnnsfAngular15.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel)&&this.setupMousewheelEvents(e,f,h),(dnnsfAngular15.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys)&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=dnnsfAngular15.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var v=g.hourStep;c.hourStep&&s.push(a.$parent.$watch(d(c.hourStep),function(a){v=+a}));var w=g.minuteStep;c.minuteStep&&s.push(a.$parent.$watch(d(c.minuteStep),function(a){w=+a}));var x;s.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);x=isNaN(b)?void 0:b}));var y;s.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);y=isNaN(b)?void 0:b}));var z=!1;c.ngDisabled&&s.push(a.$parent.$watch(d(c.ngDisabled),function(a){z=a})),a.noIncrementHours=function(){var a=p(r,60*v);return z||a>y||a<r&&a<x},a.noDecrementHours=function(){var a=p(r,60*-v);return z||a<x||a>r&&a>y},a.noIncrementMinutes=function(){var a=p(r,w);return z||a>y||a<r&&a<x},a.noDecrementMinutes=function(){var a=p(r,-w);return z||a<x||a>r&&a>y},a.noIncrementSeconds=function(){var a=q(r,A);return z||a>y||a<r&&a<x},a.noDecrementSeconds=function(){var a=q(r,-A);return z||a<x||a>r&&a>y},a.noToggleMeridian=function(){return r.getHours()<12?z||p(r,720)>y:z||p(r,-720)<x};var A=g.secondStep;c.secondStep&&s.push(a.$parent.$watch(d(c.secondStep),function(a){A=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&s.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&s.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,t.$error.time){var c=h(),d=i();dnnsfAngular15.isDefined(c)&&dnnsfAngular15.isDefined(d)&&(r.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=dnnsfAngular15.noop,a.updateMinutes=dnnsfAngular15.noop,void(a.updateSeconds=dnnsfAngular15.noop);var e=function(b,c,d){t.$setViewValue(null),t.$setValidity("time",!1),dnnsfAngular15.isDefined(b)&&(a.invalidHours=b),dnnsfAngular15.isDefined(c)&&(a.invalidMinutes=c),dnnsfAngular15.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i();t.$setDirty(),dnnsfAngular15.isDefined(a)&&dnnsfAngular15.isDefined(b)?(r.setHours(a),r.setMinutes(b),r<x||r>y?e(!0):l("h")):e(!0)},b.bind("blur",function(b){t.$setTouched(),null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();t.$setDirty(),dnnsfAngular15.isDefined(a)&&dnnsfAngular15.isDefined(b)?(r.setHours(b),r.setMinutes(a),r<x||r>y?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){t.$setTouched(),null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();t.$setDirty(),dnnsfAngular15.isDefined(a)?(r.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=t.$viewValue;isNaN(b)?(t.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(r=b),r<x||r>y?(t.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=dnnsfAngular15.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*v*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-v*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*w)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-w)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(A)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-A)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(dnnsfAngular15.isDefined(b)&&dnnsfAngular15.isDefined(c)?o(720*(r.getHours()<12?60:-60)):a.meridian=a.meridian===u[0]?u[1]:u[0])},a.blur=function(){t.$setTouched()},a.$on("$destroy",function(){for(;s.length;)s.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),dnnsfAngular15.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){M.moveInProgress||(M.moveInProgress=!0,M.$digest()),X()}function o(){M.position=C?l.offset(b):l.position(b),M.position.top+=b.prop("offsetHeight")}var p,q,r=[9,13,27,38,40],s=a.$eval(c.typeaheadMinLength);s||0===s||(s=1),a.$watch(c.typeaheadMinLength,function(a){s=a||0===a?a:1});var t=a.$eval(c.typeaheadWaitMs)||0,u=!1!==a.$eval(c.typeaheadEditable);a.$watch(c.typeaheadEditable,function(a){u=!1!==a});var v,w,x=e(c.typeaheadLoading).assign||dnnsfAngular15.noop,y=e(c.typeaheadOnSelect),z=!!dnnsfAngular15.isDefined(c.typeaheadSelectOnBlur)&&a.$eval(c.typeaheadSelectOnBlur),A=e(c.typeaheadNoResults).assign||dnnsfAngular15.noop,B=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,C=!!c.typeaheadAppendToBody&&a.$eval(c.typeaheadAppendToBody),D=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,E=!1!==a.$eval(c.typeaheadFocusFirst),F=!!c.typeaheadSelectOnExact&&a.$eval(c.typeaheadSelectOnExact),G=e(c.typeaheadIsOpen).assign||dnnsfAngular15.noop,H=a.$eval(c.typeaheadShowHint)||!1,I=e(c.ngModel),J=e(c.ngModel+"($$$p)"),K=function(b,c){return dnnsfAngular15.isFunction(I(a))&&q&&q.$options&&q.$options.getterSetter?J(b,{$$$p:c}):I.assign(b,c)},L=m.parse(c.uibTypeahead),M=a.$new(),N=a.$on("$destroy",function(){M.$destroy()});M.$on("$destroy",N);var O="typeahead-"+M.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":O});var P,Q;H&&(P=dnnsfAngular15.element("<div></div>"),P.css("position","relative"),b.after(P),Q=b.clone(),Q.attr("placeholder",""),Q.attr("tabindex","-1"),Q.val(""),Q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),P.append(Q),Q.after(b));var R=dnnsfAngular15.element("<div uib-typeahead-popup></div>");R.attr({id:O,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),dnnsfAngular15.isDefined(c.typeaheadTemplateUrl)&&R.attr("template-url",c.typeaheadTemplateUrl),dnnsfAngular15.isDefined(c.typeaheadPopupTemplateUrl)&&R.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var S=function(){H&&Q.val("")},T=function(){M.matches=[],M.activeIdx=-1,b.attr("aria-expanded",!1),S()},U=function(a){return O+"-option-"+a};M.$watch("activeIdx",function(a){a<0?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",U(a))});var V=function(a,b){return!!(M.matches.length>b&&a)&&a.toUpperCase()===M.matches[b].label.toUpperCase()},W=function(c,d){var e={$viewValue:c};x(a,!0),A(a,!1),f.when(L.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&v)if(f&&f.length>0){M.activeIdx=E?0:-1,A(a,!1),M.matches.length=0;for(var h=0;h<f.length;h++)e[L.itemName]=f[h],M.matches.push({id:U(h),label:L.viewMapper(M,e),model:f[h]});if(M.query=c,o(),b.attr("aria-expanded",!0),F&&1===M.matches.length&&V(c,0)&&(dnnsfAngular15.isNumber(M.debounceUpdate)||dnnsfAngular15.isObject(M.debounceUpdate)?k(function(){M.select(0,d)},dnnsfAngular15.isNumber(M.debounceUpdate)?M.debounceUpdate:M.debounceUpdate.default):M.select(0,d)),H){var i=M.matches[0].label;dnnsfAngular15.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?Q.val(c+i.slice(c.length)):Q.val("")}}else T(),A(a,!0);g&&x(a,!1)},function(){T(),x(a,!1),A(a,!0)})};C&&(dnnsfAngular15.element(i).on("resize",n),h.find("body").on("scroll",n));var X=k(function(){M.matches.length&&o(),M.moveInProgress=!1},200);M.moveInProgress=!1,M.query=void 0;var Y,Z=function(a){Y=g(function(){W(a)},t)},$=function(){Y&&g.cancel(Y)};T(),M.assignIsOpen=function(b){G(a,b)},M.select=function(d,e){var f,h,i={};w=!0,i[L.itemName]=h=M.matches[d].model,f=L.modelMapper(a,i),K(a,f),p.$setValidity("editable",!0),p.$setValidity("parse",!0),y(a,{$item:h,$model:f,$label:L.viewMapper(a,i),$event:e}),T(),!1!==M.$eval(c.typeaheadFocusOnSelect)&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(a){if(0!==M.matches.length&&-1!==r.indexOf(a.which)){if(-1===M.activeIdx&&(9===a.which||13===a.which)||9===a.which&&a.shiftKey)return T(),void M.$digest();a.preventDefault();var b;switch(a.which){case 9:case 13:M.$apply(function(){dnnsfAngular15.isNumber(M.debounceUpdate)||dnnsfAngular15.isObject(M.debounceUpdate)?k(function(){M.select(M.activeIdx,a)},dnnsfAngular15.isNumber(M.debounceUpdate)?M.debounceUpdate:M.debounceUpdate.default):M.select(M.activeIdx,a)});break;case 27:a.stopPropagation(),T(),M.$digest();break;case 38:M.activeIdx=(M.activeIdx>0?M.activeIdx:M.matches.length)-1,M.$digest(),b=R.find("li")[M.activeIdx],b.parentNode.scrollTop=b.offsetTop;break;case 40:M.activeIdx=(M.activeIdx+1)%M.matches.length,M.$digest(),b=R.find("li")[M.activeIdx],b.parentNode.scrollTop=b.offsetTop}}}),b.bind("focus",function(a){v=!0,0!==s||p.$viewValue||g(function(){W(p.$viewValue,a)},0)}),b.bind("blur",function(a){z&&M.matches.length&&-1!==M.activeIdx&&!w&&(w=!0,M.$apply(function(){dnnsfAngular15.isObject(M.debounceUpdate)&&dnnsfAngular15.isNumber(M.debounceUpdate.blur)?k(function(){M.select(M.activeIdx,a)},M.debounceUpdate.blur):M.select(M.activeIdx,a)})),!u&&p.$error.editable&&(p.$viewValue="",b.val("")),v=!1,w=!1});var _=function(a){b[0]!==a.target&&3!==a.which&&0!==M.matches.length&&(T(),j.$$phase||M.$digest())};h.on("click",_),a.$on("$destroy",function(){h.off("click",_),(C||D)&&aa.remove(),C&&(dnnsfAngular15.element(i).off("resize",n),h.find("body").off("scroll",n)),R.remove(),H&&P.remove()});var aa=d(R)(M);C?h.find("body").append(aa):D?dnnsfAngular15.element(D).eq(0).append(aa):b.after(aa),this.init=function(b,c){p=b,q=c,M.debounceUpdate=p.$options&&e(p.$options.debounce)(a),p.$parsers.unshift(function(b){return v=!0,0===s||b&&b.length>=s?t>0?($(),Z(b)):W(b):(x(a,!1),$(),T()),u?b:b?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(b){var c,d,e={};return u||p.$setValidity("editable",!0),B?(e.$model=b,B(a,e)):(e[L.itemName]=b,c=L.viewMapper(a,e),e[L.itemName]=void 0,d=L.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();dnnsfAngular15.isNumber(e)||dnnsfAngular15.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},dnnsfAngular15.isNumber(e)?e:e.default):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=dnnsfAngular15.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),dnnsfAngular15.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),dnnsfAngular15.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),dnnsfAngular15.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),dnnsfAngular15.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),dnnsfAngular15.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),dnnsfAngular15.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),dnnsfAngular15.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),dnnsfAngular15.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),dnnsfAngular15.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),dnnsfAngular15.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),dnnsfAngular15.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),dnnsfAngular15.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),dnnsfAngular15.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),dnnsfAngular15.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),dnnsfAngular15.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select()" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),dnnsfAngular15.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),dnnsfAngular15.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),dnnsfAngular15.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),dnnsfAngular15.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),dnnsfAngular15.module("ui.bootstrap.carousel").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')}),dnnsfAngular15.module("ui.bootstrap.position").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll;}</style>')}),dnnsfAngular15.module("ui.bootstrap.datepicker").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}.uib-left,.uib-right{width:100%}</style>')}),dnnsfAngular15.module("ui.bootstrap.tooltip").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover{display:block !important;}</style>')}),dnnsfAngular15.module("ui.bootstrap.timepicker").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>')}),dnnsfAngular15.module("ui.bootstrap.typeahead").run(function(){!dnnsfAngular15.$$csp().noInlineStyle&&dnnsfAngular15.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>')});var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");dnnsfAngular15.module("ui.bootstrap.datetimepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("uiDatetimePickerConfig",{dateFormat:"yyyy-MM-dd HH:mm",defaultTime:"00:00:00",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},initialPicker:"date",reOpenDefault:!1,enableDate:!0,enableTime:!0,closeOnDateSelection:!0,closeOnTimeNow:!0,appendToBody:!0,altInputFormats:[],ngModelOptions:{},saveAs:!1,readAs:!1}).controller("DateTimePickerController",["$scope","$element","$attrs","$compile","$parse","$document","$timeout","$uibPosition","dateFilter","uibDateParser","uiDatetimePickerConfig","$rootScope","$locale",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=Object.getPrototypeOf(new Date(a)).isPrototypeOf(Date)?new Date(a):new Date(getDateFromFormat(a,c.datetimePicker,m)),d=-b.getTimezoneOffset(),e=d>=0?"+":"-",f=function(a){var b=Math.abs(Math.floor(a));return(b<10?"0":"")+b};return b.getFullYear()+"-"+f(b.getMonth()+1)+"-"+f(b.getDate())+"T"+f(b.getHours())+":"+f(b.getMinutes())+":"+f(b.getSeconds())+e+f(d/60)+":"+f(d%60)}function o(c){var d=y[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.close(!1)})}function p(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.close(!1)}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function q(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function r(b){var c=j.parse(b,z,a.date);if(isNaN(c))for(var d=0;d<F.length;d++)if(c=j.parse(b,F[d],a.date),!isNaN(c))return c;return c}function s(a){if(dnnsfAngular15.isNumber(a)&&!isNaN(a)&&(a=new Date(a)),!a)return null;if(dnnsfAngular15.isDate(a)&&!isNaN(a))return a;if(dnnsfAngular15.isString(a)){var b=r(a);if(!isNaN(b))return j.toTimezone(b,x.timezone)}else;}function t(b){return!(a.datepickerOptions.minDate&&b<a.datepickerOptions.minDate)&&!(a.datepickerOptions.maxDate&&b>a.datepickerOptions.maxDate)}function u(a,b){var d=a||b;return!(c.ngRequired||c.required||d)||(dnnsfAngular15.isNumber(d)&&(d=new Date(d)),!d||(dnnsfAngular15.isDate(d)&&!isNaN(d)?t(d):dnnsfAngular15.isDate(new Date(d))&&!isNaN(new Date(d).valueOf())?t(new Date(d)):!!dnnsfAngular15.isString(d)&&(!isNaN(r(b))&&t(r(b)))))}var v={show:!0,now:{show:!0,text:"Now"},today:{show:!0,text:"Today"},clear:{show:!0,text:"Clear"},date:{show:!0,text:"Date"},time:{show:!0,text:"Time"},close:{show:!0,text:"Close"}};k.buttonBar=m.DATETIME_FORMATS.buttonBar||v;var w,x,y,z=k.dateFormat,A={},B=[],C=dnnsfAngular15.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection,D=dnnsfAngular15.isDefined(c.closeOnTimeNow)?a.$parent.$eval(c.closeOnTimeNow):k.closeOnTimeNow,E=dnnsfAngular15.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody,F=dnnsfAngular15.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):k.altInputFormats,G=dnnsfAngular15.isDefined(c.saveAs)?a.$parent.$eval(c.saveAs)||c.saveAs:k.saveAs,H=dnnsfAngular15.isDefined(c.readAs)?a.$parent.$eval(c.readAs):k.readAs;this.init=function(e){function g(a){if(w.$isEmpty(a))return a;var b=new Date(a);return dnnsfAngular15.isDate(b)&&!isNaN(b)?b:a}function h(a){return!a||dnnsfAngular15.isString(a)||!dnnsfAngular15.isDate(a)||isNaN(a)?a:"ISO"===G?a.toISOString():"json"===G?a.toJSON():"number"===G?a.valueOf():i?j.fromTimezone(a,x.timezone).toLocaleString():(z=z.replace(/M!/,"MM").replace(/d!/,"dd"),j.filter(j.fromTimezone(a,x.timezone),z))}if(w=e,x=w.$options||k.ngModelOptions,a.buttonBar=dnnsfAngular15.isDefined(c.buttonBar)?a.$parent.$eval(c.buttonBar):k.buttonBar,a.enableDate=dnnsfAngular15.isDefined(a.enableDate)?a.enableDate:k.enableDate,a.enableTime=dnnsfAngular15.isDefined(a.enableTime)?a.enableTime:k.enableTime,a.initialPicker=dnnsfAngular15.isDefined(c.initialPicker)?c.initialPicker:a.enableDate?k.initialPicker:"time",a.reOpenDefault=dnnsfAngular15.isDefined(c.reOpenDefault)?c.reOpenDefault:k.reOpenDefault,"date"==a.initialPicker&&!a.enableDate)throw new Error("datetimePicker can't have initialPicker set to date and have enableDate set to false.");a.showPicker=a.enableDate?a.initialPicker:"time";var i=!1;if(k.html5Types[c.type]?(z=k.html5Types[c.type],i=!0):(z=c.datetimePicker||k.dateFormat,c.$observe("datetimePicker",function(a){var b=a||k.dateFormat;if(b!==z&&(z=b,w.$modelValue=null,!z))throw new Error("datetimePicker must have a date format specified.")})),!z)throw new Error("datetimePicker must have a date format specified.");var l=dnnsfAngular15.element('<div date-picker-wrap><div uib-datepicker></div></div><div time-picker-wrap><div uib-timepicker style="margin:0 auto"></div></div>');x?(timezone=x.timezone,a.ngModelOptions=dnnsfAngular15.copy(x),a.ngModelOptions.timezone=null,!0===a.ngModelOptions.updateOnDefault&&(a.ngModelOptions.updateOn=a.ngModelOptions.updateOn?a.ngModelOptions.updateOn+" default":"default"),l.attr("ng-model-options","ngModelOptions")):timezone=null,l.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var m=dnnsfAngular15.element(l.children()[0]);a.datepickerOptions||(a.datepickerOptions={}),i&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),m.attr("datepicker-options","datepickerOptions"),dnnsfAngular15.isDefined(a.datepickerOptions.datepickerMode)||(a.datepickerOptions.datepickerMode="day");var n=dnnsfAngular15.element(l.children()[1]);a.timepickerOptions||(a.timepickerOptions={});for(var o in a.timepickerOptions)"templateUrl"==o?n.attr(q(o),a.timepickerOptions.templateUrl):n.attr(q(o),"timepickerOptions."+o);dnnsfAngular15.forEach(["minDate","maxDate","initDate"],function(b){a.datepickerOptions[b]&&("minDate"==b?n.attr("min","datepickerOptions.minDate"):"maxDate"==b&&n.attr("max","datepickerOptions.maxDate"))}),i?w.$formatters.push(function(b){return a.date=j.fromTimezone(b,x.timezone),b}):(w.$$parserName="datetime",w.$validators.datetime=u,w.$parsers.unshift(s),w.$formatters.push(function(b){return w.$isEmpty(b)?(a.date=b,b):(a.date=j.fromTimezone(b,x.timezone),z=z.replace(/M!/,"MM").replace(/d!/,"dd"),j.filter(a.date,z))})),G&&(dnnsfAngular15.isFunction(G)?w.$parsers.push(G):w.$parsers.push(h),dnnsfAngular15.isFunction(H)?w.$formatters.push(H):w.$formatters.push(g)),w.$viewChangeListeners.push(function(){a.date=r(w.$viewValue)}),b.bind("keydown",p),y=d(l)(a),l.remove(),E?f.find("body").append(y):b.after(y)},a.getText=function(b){return a.buttonBar[b].text||k.buttonBar[b].text},a.keydown=function(c){27===c.which&&(a.close(!1),b[0].focus())},a.doShow=function(b){return dnnsfAngular15.isDefined(a.buttonBar[b].show)?a.buttonBar[b].show:k.buttonBar[b].show},keepInView=function(){var a=$(".datetime-picker-dropdown"),b=a[0].getBoundingClientRect();b.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&a.css({top:b.bottom-a.height()}),b.right>=(window.innerWidth||document.documentElement.clientWidth)&&a.css({right:"0",left:"auto"})},a.dateSelection=function(d,e){if(a.enableTime&&"time"===a.showPicker&&(d||null!=d)&&(dnnsfAngular15.isDefined(a.date)&&null!=a.date||(a.date=new Date),d&&null!=d)){var f=new Date(a.date);f.setHours(d.getHours()),f.setMinutes(d.getMinutes()),f.setSeconds(d.getSeconds()),f.setMilliseconds(d.getMilliseconds()),d=f}if(dnnsfAngular15.isDefined(d)){if(!a.date){var g=dnnsfAngular15.isDefined(c.defaultTime)?c.defaultTime:k.defaultTime,h=new Date("2001-01-01 "+g);isNaN(h)||null==d||(d.setHours(h.getHours()),d.setMinutes(h.getMinutes()),d.setSeconds(h.getSeconds()),d.setMilliseconds(h.getMilliseconds()))}a.date=d}var f=a.date?i(a.date,z):null,j=n(f);b.val(f),b.attr("data-val",j),w.$setViewValue(f),b.trigger("blur"),C&&("time"!=a.showPicker&&null!=f?a.enableTime?a.open("time"):a.close(!1):D&&"time"===a.showPicker&&null!=f&&"now"===e&&a.close(!1))},a.$watch("isOpen",function(c){if(a.dropdownStyle={display:c?"block":"none"},c){A.openDate=a.date;var d=E?h.offset(b):h.position(b);b.closest(".modal")&&d.top>200&&(d.top-=200),a.dropdownStyle.top=E?d.top+b.prop("offsetHeight")+"px":void 0,a.dropdownStyle.left=d.left+"px",g(function(){a.$broadcast("uib:datepicker.focus"),f.bind("click",o)},0,!1),a.open(a.showPicker)}else f.unbind("click",o)}),a.isDisabled=function(b){"today"!==b&&"now"!==b||(b=j.fromTimezone(new Date,timezone));var c={};return dnnsfAngular15.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?dnnsfAngular15.isDate(a.datepickerOptions[b])?c[b]=j.fromTimezone(new Date(a.datepickerOptions[b]),timezone):c[b]=new Date(i(a.datepickerOptions[b],"medium")):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.select=function(b,c){dnnsfAngular15.isDefined(c)&&(c.preventDefault(),c.stopPropagation());var d=null;if("today"===b||"now"==b){var e=new Date;dnnsfAngular15.isDate(a.date)?(d=new Date(a.date),d.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),d.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):d=e}a.dateSelection(d,b)},a.open=function(b,c){dnnsfAngular15.isDefined(c)&&(c.preventDefault(),c.stopPropagation()),g(function(){a.showPicker=b,keepInView()},0),"time"==b&&g(function(){a.date=r(w.$viewValue)},50)},a.close=function(c,d){dnnsfAngular15.isDefined(d)&&(d.preventDefault(),d.stopPropagation()),a.isOpen=!1,a.enableDate&&a.enableTime&&(a.showPicker=!1===a.reOpenDefault?"date":a.reOpenDefault),dnnsfAngular15.isDefined(c)?a.whenClosed({args:{closePressed:c,openDate:A.openDate||null,closeDate:a.date}}):b[0].focus()},a.$on("$destroy",function(){!0===a.isOpen&&(l.$$phase||a.$apply(function(){a.close()})),B.forEach(function(a){a()}),y.remove(),b.unbind("keydown",p),f.unbind("click",o)})}]).directive("datetimePicker",function(){return{restrict:"A",require:["ngModel","datetimePicker"],controller:"DateTimePickerController",scope:{isOpen:"=?",datepickerOptions:"=?",timepickerOptions:"=?",enableDate:"=?",enableTime:"=?",initialPicker:"=?",reOpenDefault:"=?",whenClosed:"&"},link:function(a,b,c,d){var e=dnnsfAngular15.element(b).scope().form.fields[c.afField].value;d[0].$modelValue=d[0].$viewValue=e,$(b).val(e);var f=d[0];d[1].init(f)}}}).directive("datePickerWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/date-picker.html"}}).directive("timePickerWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/time-picker.html"}}),dnnsfAngular15.module("ui.bootstrap.datetimepicker").run(["$templateCache",function(a){"use strict";a.put("template/date-picker.html",'<ul class="dropdown-menu dropdown-menu-left datetime-picker-dropdown bstrap30 bstrap3-material" ng-if="isOpen && showPicker == \'date\'" ng-style=dropdownStyle style=left:inherit ng-keydown=keydown($event) ng-click="$event.preventDefault(); $event.stopPropagation()"><li style="padding:0 5px 5px 5px" class=date-picker-menu><div ng-transclude></div></li><li style=padding:5px ng-if=buttonBar.show><span class="btn-group pull-left" style=margin-right:10px ng-if="doShow(\'today\') || doShow(\'clear\')"><button type=button class="btn btn-sm btn-info" ng-if="doShow(\'today\')" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'today\') }}</button> <button type=button class="btn btn-sm btn-danger" ng-if="doShow(\'clear\')" ng-click="select(\'clear\', $event)">{{ getText(\'clear\') }}</button></span> <span class="btn-group pull-right" ng-if="(doShow(\'time\') && enableTime) || doShow(\'close\')"><button type=button class="btn btn-sm btn-default" ng-if="doShow(\'time\') && enableTime" ng-click="open(\'time\', $event)">{{ getText(\'time\')}}</button> <button type=button class="btn btn-sm btn-success" ng-if="doShow(\'close\')" ng-click="close(true, $event)">{{ getText(\'close\') }}</button></span> <span class=clearfix></span></li></ul>'),a.put("template/time-picker.html",'<ul class="dropdown-menu dropdown-menu-left datetime-picker-dropdown bstrap30 bstrap3-material" ng-if="isOpen && showPicker == \'time\'" ng-style=dropdownStyle style="left:inherit;min-height:0" ng-keydown=keydown($event) ng-click="$event.preventDefault(); $event.stopPropagation()"><li style="padding:0 5px 5px 5px" class=time-picker-menu><div ng-transclude></div></li><li style=padding:5px ng-if=buttonBar.show><span class="btn-group pull-left" style=margin-right:10px ng-if="doShow(\'now\') || doShow(\'clear\')"><button type=button class="btn btn-sm btn-info" ng-if="doShow(\'now\')" ng-click="select(\'now\', $event)" ng-disabled="isDisabled(\'now\')">{{ getText(\'now\') }}</button> <button type=button class="btn btn-sm btn-danger" ng-if="doShow(\'clear\')" ng-click="select(\'clear\', $event)">{{ getText(\'clear\') }}</button></span> <span class="btn-group pull-right" ng-if="(doShow(\'date\') && enableDate) || doShow(\'close\')"><button type=button class="btn btn-sm btn-default" ng-if="doShow(\'date\') && enableDate" ng-click="open(\'date\', $event)">{{ getText(\'date\')}}</button> <button type=button class="btn btn-sm btn-success" ng-if="doShow(\'close\')" ng-click="close(true, $event)">{{ getText(\'close\') }}</button></span> <span class=clearfix></span></li></ul>')}]);var app=dnnsfAngular15.module("angucomplete",[]);app.directive("scrolly",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){c.bind("scroll",function(){a(function(){b.resLimit+=parseInt(b.displayNumber)?parseInt(b.displayNumber):10},1500)})}}}]),app.directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(a,b,c,d,e,f,g){function h(b,f,g,h){function w(a,c){a&&("object"==typeof a?(b.searchStr=B(a),z({originalObject:a})):"string"==typeof a&&a.length>0?b.searchStr=a:console&&console.error&&console.error("Tried to set "+(c?"initial":"")+" value of angucomplete to",a,"which is an invalid value"),E(!0))}function x(a){oa=null,b.hideResults(a),document.body.removeEventListener("click",x)}function y(a){return a.which?a.which:a.keyCode}function z(a){"function"==typeof b.selectedObject?b.selectedObject(a,b.selectedObjectData):b.selectedObject=a,E(a?!0:!1)}function A(a){z({originalObject:a}),b.clearSelected&&(b.searchStr=null),T()}function B(a){return b.titleField.split(",").map(function(b){return C(a,b)}).join(" ")}function C(a,b){var c,d;if(b){c=b.split("."),d=a;for(var e=0;e<c.length;e++)d=d[c[e]]}else d=a;return d}function D(a,c){var e,f,g;if(g=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),a)return a.match&&a.replace||(a=a.toString()),f=a.match(g),e=f?a.replace(g,'<span class="'+b.matchClass+'">'+f[0]+"</span>"):a,d.trustAsHtml(e)}function E(a){b.notEmpty=a,ja=b.searchStr,b.fieldRequired&&h&&b.inputName&&h[b.inputName].$setValidity(ia,a)}function F(a){var c=y(a);if(c!==l&&c!==j)if(c===k||c===n)a.preventDefault();else if(c===i)b.searchStr||(b.showDropdown=!0,Z()),!b.showDropdown&&b.searchStr&&b.searchStr.length>=ga&&(U(),b.searching=!0,X(b.searchStr));else if(c===m)T(),b.$apply(function(){fa.val(b.searchStr)});else{if(0===ga&&!b.searchStr)return;b.searchStr&&""!==b.searchStr?b.searchStr.length>=ga&&(U(),ha&&e.cancel(ha),b.searching=!0,ha=e(function(){X(b.searchStr)},b.pause)):b.showDropdown=!1,ja&&ja!==b.searchStr&&!b.clearSelected&&b.$apply(function(){z()})}}function G(a){!b.overrideSuggestions||b.selectedObject&&b.selectedObject.originalObject===b.searchStr||(a&&(a.preventDefault(),a.stopPropagation()),e.cancel(ha),Q(),(b.results[0]?b.results[0].title:"")!=b.searchStr&&(b.searchStr=""),A(b.searchStr))}function H(a){var b=getComputedStyle(a);return a.offsetHeight+parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function I(){return ma.getBoundingClientRect().top+parseInt(getComputedStyle(ma).maxHeight,10)}function J(){return f[0].querySelectorAll(".angucomplete-row")[b.currentIndex]}function K(){return J().getBoundingClientRect().top-(ma.getBoundingClientRect().top+parseInt(getComputedStyle(ma).paddingTop,10))}function L(a){ma.scrollTop=ma.scrollTop+a}function M(){var a=b.results[b.currentIndex];b.matchClass?fa.val(B(a.originalObject)):fa.val(a.title)}function N(a){a.stopPropagation();var c=y(a),d=null,f=null;c===n&&b.results?(b.currentIndex>=0&&b.currentIndex<b.results.length?(a.preventDefault(),a.stopPropagation(),b.selectResult(b.results[b.currentIndex])):(G(a),T()),b.$apply()):c===i&&b.results?(a.preventDefault(),b.currentIndex+1<b.results.length&&b.showDropdown&&(b.$apply(function(){b.currentIndex++,b.currentIndex==b.resLimit-1&&e(function(){b.resLimit+=parseInt(b.displayNumber)?parseInt(b.displayNumber):10},1500),M()}),na&&(d=J(),I()<d.getBoundingClientRect().bottom&&L(H(d))))):c===k&&b.results?(a.preventDefault(),b.currentIndex>=1?(b.$apply(function(){b.currentIndex--,M()}),na&&(f=K())<0&&L(f-1)):0===b.currentIndex&&b.$apply(function(){b.currentIndex=-1,fa.val(b.searchStr)})):c===o?b.results&&b.results.length>0&&b.showDropdown?-1===b.currentIndex&&b.overrideSuggestions?G():(-1===b.currentIndex&&(b.currentIndex=0),b.selectResult(b.results[b.currentIndex]),b.$digest()):b.searchStr&&b.searchStr.length>0&&G():c===m&&a.preventDefault()}function O(a){return function(c,d,e,f){d||e||f||!c.data||(c=c.data),b.searching=!1,Y(C(ba(c),b.remoteUrlDataField),a)}}function P(a,c,d,e){b.searching=la,c||d||e||(c=a.status),0!==c&&-1!==c&&(b.remoteUrlErrorCallback?b.remoteUrlErrorCallback(a,c,d,e):console&&console.error&&console.error("http error"))}function Q(){ka&&ka.resolve()}function R(d){var e={},f=b.remoteUrl+encodeURIComponent(d);b.remoteUrlRequestFormatter&&(e={params:b.remoteUrlRequestFormatter(d)},f=b.remoteUrl),b.remoteUrlRequestWithCredentials&&(e.withCredentials=!0),Q(),ka=a.defer(),e.timeout=ka.promise,la=!0,c.get(f,e).success(O(d)).error(P).finally(function(){la=!1})}function S(c){Q(),ka=a.defer(),b.remoteApiHandler(c,ka.promise).then(O(c)).catch(P)}function T(){b.showDropdown=!1,b.results=[],ma&&(ma.scrollTop=0)}function U(){b.showDropdown=da,b.currentIndex=b.focusFirst?0:-1,b.results=[]}function V(a){var c,d,e,f,g=b.searchFields.split(","),h=[];for(void 0!==b.parseInput()&&(a=b.parseInput()(a)),c=0;c<b.localData.length;c++){for(d=!1,e=0;e<g.length;e++)f=C(b.localData[c],g[e])||"",d=d||f.toString().toLowerCase().indexOf(a.toString().toLowerCase())>=0;d&&(h[h.length]=b.localData[c])}return h}function W(a,c,d){if(!d)return!1;for(var e in c)if(c[e].toLowerCase()===d.toLowerCase())return b.selectResult(a),!0;return!1}function X(a){!a||a.length<ga||(b.localData?b.$apply(function(){var c;c=void 0!==b.localSearch()?b.localSearch()(a,b.localData):V(a),b.searching=!1,Y(c,a)}):b.remoteApiHandler?S(a):R(a))}function Y(a,c){var d,e,f,g,h;if(a&&a.length>0)for(b.results=[],d=0;d<a.length;d++)a[d].initialValue?a[d].value=a[d].initialValue:a[d].initialValue=a[d].value,a[d].title,a[d].title=a[d].text,b.titleField&&""!==b.titleField&&(f=g=B(a[d])),e="",b.descriptionField&&(e=h=C(a[d],b.descriptionField)),"",b.imageField&&C(a[d],b.imageField),b.matchClass&&(g=D(f,c)),a[d].matchedtext=g,b.results[b.results.length]={title:a[d].title,description:h,originalObject:a[d],value:a[d].initialValue};else b.results=[];if(b.autoMatch&&1===b.results.length&&W(b.results[0],{title:f,desc:e||""},b.searchStr))b.showDropdown=!1;else if(0!==b.results.length||ea){b.showDropdown=!0,b.results||(b.results={length:0});var i=setInterval(function(){(0==b.results.length?1:b.results.length)<b.displayNumber&&null!=$("#"+b.id+"_dropdown").children().last()?($("#"+b.id+"_dropdown").css("height",$("#"+b.id+"_dropdown").children().last().outerHeight()*parseInt(0==b.results.length?1:b.results.length)+"px"),window.clearInterval(i)):($("#"+b.id+"_dropdown").css("height",$("#"+b.id+"_dropdown").children().last().outerHeight()*parseInt(b.displayNumber)-20+"px"),window.clearInterval(i))},50)}else b.showDropdown=!1}function Z(){b.localData?(b.searching=!1,Y(b.localData,"")):b.remoteApiHandler?(b.searching=!0,S("")):(b.searching=!0,R(""))}b.resLimit=parseInt(b.displayNumber)?parseInt(b.displayNumber):50;var aa,ba,ca,da,ea,fa=f.find("input"),ga=p,ha=null,ia=t,ja=null,ka=null,la=!1,ma=f[0].querySelector(".angucomplete-dropdown"),na=!1,oa=null;b.initValue&&$.each(b.localData,function(a,c){c.text==b.initValue?(b.dataVal=c.path,b.searchStr=c.text):c.value==b.initValue&&(b.dataVal=c.path,b.searchStr=c.text)}),f.on("mousedown",function(a){a.target.id?(oa=a.target.id)===b.id+"_dropdown"&&document.body.addEventListener("click",x):oa=a.target.className}),b.currentIndex=b.focusFirst?0:null,b.searching=!1,ca=b.$watch("initialValue",function(a){a&&(ca(),w(a,!0))}),b.$watch("fieldRequired",function(a,c){a!==c&&(a?E(ja&&-1!==b.currentIndex?!0:!1):h[b.inputName].$setValidity(ia,!0))}),b.$on("angucomplete-alt:clearInput",function(a,c){c&&c!==b.id||(b.searchStr=null,z(),E(!1),T())}),b.$on("angucomplete-alt:changeInput",function(a,c,d){c&&c===b.id&&w(d)}),b.onFocusHandler=function(){b.resLimit=parseInt(b.displayNumber)?parseInt(b.displayNumber):50,b.focusIn&&(b.focusIn(),b.showDropdown=!1,"True"!=b.disableDropdownOnClick&&Z()),0!==ga||b.searchStr&&0!==b.searchStr.length||(b.currentIndex=b.focusFirst?0:b.currentIndex,b.showDropdown=!0,Z())},b.hideResults=function(){oa&&(oa===b.id+"_dropdown"||oa.indexOf("angucomplete")>=0)?oa=null:(aa=e(function(){T(),b.$apply(function(){b.searchStr&&b.searchStr.length>0&&fa.val(b.searchStr)})},s),Q(),b.focusOut&&b.focusOut(),b.overrideSuggestions=!0,b.overrideSuggestions&&b.searchStr&&b.searchStr.length>0&&-1===b.currentIndex&&G())},b.resetHideResults=function(){aa&&e.cancel(aa)},b.hoverRow=function(a){b.currentIndex=a},b.selectResult=function(a){b.updateField({field:g.afField,val:a.value}),b.showDropdown=!1,b.clearSelected?b.searchStr=null:(b.dataVal=a.originalObject.path,b.searchStr=a.title),z(a),T()},b.inputChangeHandler=function(a){return a.length<ga?(Q(),T()):0===a.length&&0===ga&&Z(),b.inputChanged&&(a=b.inputChanged(a)),a},b.fieldRequiredClass&&""!==b.fieldRequiredClass&&(ia=b.fieldRequiredClass),b.minlength&&""!==b.minlength&&(ga=parseInt(b.minlength,10)),b.pause||(b.pause=r),b.clearSelected||(b.clearSelected=!1),b.overrideSuggestions||(b.overrideSuggestions=!1),b.fieldRequired&&h&&E(b.initialValue?!0:!1),b.inputType=g.type?g.type:"text",b.textSearching=g.textSearching?g.textSearching:u,b.textNoResults=g.textNoResults?g.textNoResults:v,da="false"!==b.textSearching,ea="false"!==b.textNoResults,b.maxlength=g.maxlength?g.maxlength:q,fa.on("keydown",N),fa.on("keyup",F),ba=function(a){return function(c){return b[a]?b[a](c):c}}("remoteUrlResponseFormatter"),e(function(){var a=getComputedStyle(ma);na=a.maxHeight&&"auto"===a.overflowY}),b.$watch("ngModel",function(a,c){if(a!=c){var d=_.find(b.localData,function(b,c){return b.value===a});if(!d)return;var e={originalObject:d,value:d.value,title:d.text};b.selectResult(e)}})}var i=40,j=39,k=38,l=37,m=27,n=13,o=9,p=3,q=524288,r=500,s=200,t="autocomplete-required",u="Searching...",v="No results found";return f.put("/angucomplete-alt/index.html",'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}" ng-cloak><input id="{{id}}_value" name="{{id}}" data-val="{{dataVal}}" ng-disabled="disabled" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="preventdefault {{inputClass}} autocomplete" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div scrolly id="{{id}}_dropdown" class="angucomplete-dropdown panel panel-default" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results | limitTo: resLimit" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.originalObject.matchedtext || result.originalObject.text"></div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObjectData:"=",disableInput:"=",initialValue:"=",initValue:"=",disabled:"=",displayNumber:"=?",disableDropdownOnClick:"=?",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&",updateField:"&",ngModel:"="},templateUrl:function(a,b){return b.templateUrl||"/angucomplete-alt/index.html"},compile:function(a){var b=g.startSymbol(),c=g.endSymbol();if("{{"!==b||"}}"!==c){var d=a.html().replace(/\{\{/g,b).replace(/\}\}/g,c);a.html(d)}return h}}}]),function(a,b){"use strict";function c(a,b,c){if(!a)throw ja("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function d(a,b){return a||b?a?b?(Q(a)&&(a=a.join(" ")),Q(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function e(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function f(a,b,c){var d="";return a=Q(a)?a:a&&R(a)&&a.length?a.split(/\s+/):[],P(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function g(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function h(a){if(a instanceof O)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===X)return a;break;default:return O(i(a))}if(a.nodeType===X)return O(a)}function i(a){var b,c;if(!a[0])return a;for(b=0;b<a.length;b++)if(c=a[b],c.nodeType==X)return c}function j(a,b,c){P(b,function(b){a.addClass(b,c)})}function k(a,b,c){P(b,function(b){a.removeClass(b,c)})}function l(a){return function(b,c){c.addClass&&(j(a,b,c.addClass),c.addClass=null),c.removeClass&&(k(a,b,c.removeClass),c.removeClass=null)}}function m(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||L;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=L},a.$$prepared=!0}return a}function n(a,b){o(a,b),p(a,b)}function o(a,b){b.from&&(a.css(b.from),b.from=null)}function p(a,b){b.to&&(a.css(b.to),b.to=null)}function q(a,b,c){var d,e=b.options||{},f=c.options||{},g=(e.addClass||"")+" "+(f.addClass||""),h=(e.removeClass||"")+" "+(f.removeClass||""),i=r(a.attr("class"),g,h);return f.preparationClasses&&(e.preparationClasses=y(f.preparationClasses,e.preparationClasses),delete f.preparationClasses),d=e.domOperation!==L?e.domOperation:null,N(e,f),d&&(e.domOperation=d),e.addClass=i.addClass?i.addClass:null,e.removeClass=i.removeClass?i.removeClass:null,b.addClass=e.addClass,b.removeClass=e.removeClass,e}function r(a,b,c){function d(a){R(a)&&(a=a.split(" "));var b={};return P(a,function(a){a.length&&(b[a]=!0)}),b}var e,f={};return a=d(a),b=d(b),P(b,function(a,b){f[b]=1}),c=d(c),P(c,function(a,b){f[b]=1===f[b]?null:-1}),e={addClass:"",removeClass:""},P(f,function(b,c){var d,f;1===b?(d="addClass",f=!a[c]):-1===b&&(d="removeClass",f=a[c]),f&&(e[d].length&&(e[d]+=" "),e[d]+=c)}),e}function s(a){return a instanceof b.element?a[0]:a}function t(a,b,c){var d="";b&&(d=f(b,$,!0)),c.addClass&&(d=y(d,f(c.addClass,Y))),c.removeClass&&(d=y(d,f(c.removeClass,Z))),d.length&&(c.preparationClasses=d,a.addClass(d))}function u(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function v(a,b){var c=b?"-"+b+"s":"";return x(a,[ha,c]),[ha,c]}function w(a,b){var c=b?"paused":"",d=J+ea;return x(a,[d,c]),[d,c]}function x(a,b){var c=b[0],d=b[1];a.style[c]=d}function y(a,b){return a?b?a+" "+b:a:b}function z(a){return[ga,a+"s"]}function A(a,b){return[b?fa:ha,a+"s"]}function B(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return P(c,function(a,b){var c,f=e[a];f&&(c=f.charAt(0),("-"===c||"+"===c||c>=0)&&(f=C(f)),0===f&&(f=null),d[b]=f)}),d}function C(a){var b=0,c=a.split(/\s*,\s*/);return P(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function D(a){return 0===a||null!=a}function E(a,b){var c=H,d=a+"s";return b?c+=ba:d+=" linear all",[c,d]}function F(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function G(a,b,c){P(c,function(c){a[c]=U(a[c])?a[c]:b.style.getPropertyValue(c)})}var H,I,J,K,L=b.noop,M=b.copy,N=b.extend,O=b.element,P=b.forEach,Q=b.isArray,R=b.isString,S=b.isObject,T=b.isUndefined,U=b.isDefined,V=b.isFunction,W=b.isElement,X=1,Y="-add",Z="-remove",$="ng-",_="ng-animate",aa="$$ngAnimateChildren";T(a.ontransitionend)&&U(a.onwebkittransitionend)?("-webkit-",H="WebkitTransition",I="webkitTransitionEnd transitionend"):(H="transition",I="transitionend"),T(a.onanimationend)&&U(a.onwebkitanimationend)?("-webkit-",J="WebkitAnimation",K="webkitAnimationEnd animationend"):(J="animation",K="animationend");var ba="Duration",ca="Property",da="TimingFunction",ea="PlayState",fa=J+"Delay",ga=J+ba,ha=H+"Delay",ia=H+ba,ja=b.$$minErr("ng"),ka=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){var b,f;if(d.length){for(b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],la=["$interpolate",function(a){return{link:function(c,d,e){function f(a){a="on"===a||"true"===a,d.data(aa,a)}var g=e.ngAnimateChildren;b.isString(g)&&0===g.length?d.data(aa,!0):(f(a(g)(c)),e.$observe("ngAnimateChildren",f))}}}],ma="$$animateCss",na=1e3,oa=3,pa=1.5,qa={transitionDuration:ia,transitionDelay:ha,transitionProperty:H+ca,animationDuration:ga,animationDelay:fa,animationIterationCount:J+"IterationCount"},ra={transitionDuration:ia,transitionDelay:ha,animationDuration:ga,animationDelay:fa},sa=["$animateProvider",function(){var a=F(),b=F();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(c,d,h,i,j,k,q,r){function t(a,b){var c="$$ngAnimateParentKey",d=a.parentNode;return(d[c]||(d[c]=++O))+"-"+a.getAttribute("class")+"-"+b}function u(b,d,e,f){var g=a.get(e);return g||(g=B(c,b,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),a.put(e,g),g}function y(e,g,h,i){var j,k;return a.count(h)>0&&((j=b.get(h))||(k=f(g,"-stagger"),d.addClass(e,k),j=B(c,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),b.put(h,j))),j||{}}function C(c){R.push(c),q.waitUntilQuiet(function(){var c,d;for(a.flush(),b.flush(),c=j(),d=0;d<R.length;d++)R[d](c);R.length=0})}function F(a,b,c){var d=u(a,b,c,qa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var N=l(d),O=0,R=[];return function(b,c){function j(){q()}function l(){q(!0)}function q(a){if(!(la||sa&&qa)){la=!0,qa=!1,ka.$$skipPreparationClasses||d.removeClass(b,Ia),d.removeClass(b,Ka),w(T,!1),v(T,!1),P(Aa,function(a){T.style[a[0]]=""}),N(b,ka),n(b,ka),Object.keys(S).length&&P(S,function(a,b){a?T.style.setProperty(b,a):T.style.removeProperty(b)}),ka.onDone&&ka.onDone(),Da&&Da.length&&b.off(Da.join(" "),O);var c=b.data(ma);c&&(i.cancel(c[0].timer),b.removeData(ma)),ta&&ta.complete(!a)}}function u(a){ia.blockTransition&&v(T,a),ia.blockKeyframeAnimation&&w(T,!!a)}function B(){return ta=new h({end:j,cancel:l}),C(L),q(),{$$willAnimate:!1,start:function(){return ta},end:j}}function O(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(oa));Math.max(c-za,0)>=wa&&d>=xa&&(sa=!0,q())}function R(){function a(){var a,e,f,g;if(!la){if(u(!1),P(Aa,function(a){var b=a[0],c=a[1];T.style[b]=c}),N(b,ka),d.addClass(b,Ka),ia.recalculateTimingStyles){if(Ja=T.className+" "+Ia,U=t(T,Ja),ga=F(T,Ja,U),ha=ga.maxDelay,va=Math.max(ha,0),0===(xa=ga.maxDuration))return void q();ia.hasTransitions=ga.transitionDuration>0,ia.hasAnimations=ga.animationDuration>0}ia.applyAnimationDelay&&(ha="boolean"!=typeof ka.delay&&D(ka.delay)?parseFloat(ka.delay):ha,va=Math.max(ha,0),ga.animationDelay=ha,ja=A(ha,!0),Aa.push(ja),T.style[ja[0]]=ja[1]),wa=va*na,ya=xa*na,ka.easing&&(e=ka.easing,ia.hasTransitions&&(a=H+da,Aa.push([a,e]),T.style[a]=e),ia.hasAnimations&&(a=J+da,Aa.push([a,e]),T.style[a]=e)),ga.transitionDuration&&Da.push(I),ga.animationDuration&&Da.push(K),za=Date.now();var h=wa+pa*ya,j=za+h,k=b.data(ma)||[],l=!0;k.length&&(f=k[0],l=j>f.expectedEndTime,l?i.cancel(f.timer):k.push(q)),l&&(g=i(c,h,!1),k[0]={timer:g,expectedEndTime:j},k.push(q),b.data(ma,k)),Da.length&&b.on(Da.join(" "),O),ka.to&&(ka.cleanupStyles&&G(S,T,Object.keys(ka.to)),p(b,ka))}}function c(){var a,c=b.data(ma);if(c){for(a=1;a<c.length;a++)c[a]();b.removeData(ma)}}if(!la){if(!T.parentNode)return void q();var e=function(a){if(sa)qa&&a&&(qa=!1,q());else if(qa=!a,ga.animationDuration){var b=w(T,qa);qa?Aa.push(b):g(Aa,b)}},f=ea>0&&(ga.transitionDuration&&0===V.transitionDuration||ga.animationDuration&&0===V.animationDuration)&&Math.max(V.animationDelay,V.transitionDelay);f?i(a,Math.floor(f*ea*na),!1):a(),ua.resume=function(){e(!0)},ua.pause=function(){e(!1)}}}var S,T,U,V,W,X,_,aa,ba,ea,fa,ga,ha,ia,ja,ka=c||{};if(ka.$$prepared||(ka=m(M(ka))),S={},!(T=s(b))||!T.parentNode||!r.enabled())return B();var la,qa,sa,ta,ua,va,wa,xa,ya,za,Aa=[],Ba=b.attr("class"),Ca=e(ka),Da=[];if(0===ka.duration||!k.animations&&!k.transitions)return B();var Ea=ka.event&&Q(ka.event)?ka.event.join(" "):ka.event,Fa=Ea&&ka.structural,Ga="",Ha="";Fa?Ga=f(Ea,$,!0):Ea&&(Ga=Ea),ka.addClass&&(Ha+=f(ka.addClass,Y)),ka.removeClass&&(Ha.length&&(Ha+=" "),Ha+=f(ka.removeClass,Z)),ka.applyClassesEarly&&Ha.length&&N(b,ka);var Ia=[Ga,Ha].join(" ").trim(),Ja=Ba+" "+Ia,Ka=f(Ia,"-active"),La=Ca.to&&Object.keys(Ca.to).length>0;return(ka.keyframeStyle||"").length>0||La||Ia?(ka.stagger>0?(W=parseFloat(ka.stagger),V={transitionDelay:W,animationDelay:W,transitionDuration:0,animationDuration:0}):(U=t(T,Ja),V=y(T,Ia,U,ra)),ka.$$skipPreparationClasses||d.addClass(b,Ia),ka.transitionStyle&&(_=[H,ka.transitionStyle],x(T,_),Aa.push(_)),ka.duration>=0&&(X=T.style[H].length>0,aa=E(ka.duration,X),x(T,aa),Aa.push(aa)),ka.keyframeStyle&&(ba=[J,ka.keyframeStyle],x(T,ba),Aa.push(ba)),ea=V?ka.staggerIndex>=0?ka.staggerIndex:a.count(U):0,fa=0===ea,fa&&!ka.skipBlocking&&v(T,9999),ga=F(T,Ja,U),ha=ga.maxDelay,va=Math.max(ha,0),xa=ga.maxDuration,ia={},ia.hasTransitions=ga.transitionDuration>0,ia.hasAnimations=ga.animationDuration>0,ia.hasTransitionAll=ia.hasTransitions&&"all"==ga.transitionProperty,ia.applyTransitionDuration=La&&(ia.hasTransitions&&!ia.hasTransitionAll||ia.hasAnimations&&!ia.hasTransitions),ia.applyAnimationDuration=ka.duration&&ia.hasAnimations,ia.applyTransitionDelay=D(ka.delay)&&(ia.applyTransitionDuration||ia.hasTransitions),ia.applyAnimationDelay=D(ka.delay)&&ia.hasAnimations,ia.recalculateTimingStyles=Ha.length>0,(ia.applyTransitionDuration||ia.applyAnimationDuration)&&(xa=ka.duration?parseFloat(ka.duration):xa,ia.applyTransitionDuration&&(ia.hasTransitions=!0,ga.transitionDuration=xa,X=T.style[H+ca].length>0,Aa.push(E(xa,X))),ia.applyAnimationDuration&&(ia.hasAnimations=!0,ga.animationDuration=xa,Aa.push(z(xa)))),0!==xa||ia.recalculateTimingStyles?(null!=ka.delay&&("boolean"!=typeof ka.delay&&(ja=parseFloat(ka.delay),va=Math.max(ja,0)),ia.applyTransitionDelay&&Aa.push(A(ja)),ia.applyAnimationDelay&&Aa.push(A(ja,!0))),null==ka.duration&&ga.transitionDuration>0&&(ia.recalculateTimingStyles=ia.recalculateTimingStyles||fa),wa=va*na,ya=xa*na,ka.skipBlocking||(ia.blockTransition=ga.transitionDuration>0,ia.blockKeyframeAnimation=ga.animationDuration>0&&V.animationDelay>0&&0===V.animationDuration),ka.from&&(ka.cleanupStyles&&G(S,T,Object.keys(ka.from)),o(b,ka)),ia.blockTransition||ia.blockKeyframeAnimation?u(xa):ka.skipBlocking||v(T,!1),{$$willAnimate:!0,end:j,start:function(){if(!la)return ua={end:j,cancel:l,resume:null,pause:null},ta=new h(ua),C(R),ta}}):B()):B()}}]}],ta=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,e,f,g,h,i,j){function k(a){return a.replace(/\bng-\S+\b/g,"")}function m(a,b){return R(a)&&(a=a.split(" ")),R(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function n(b,e,g){function h(a){var b={},c=s(a).getBoundingClientRect();return P(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=q.scrollTop;break;case"left":d+=q.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function i(a){return a.attr("class")||""}function j(){var b=k(i(g)),c=m(b,u),e=m(u,b),f=a(r,{to:h(g),addClass:"ng-anchor-in "+c,removeClass:d+" "+e,delay:!0});return f.$$willAnimate?f:null}function l(){r.remove(),e.removeClass(c),g.removeClass(c)}var n,o,p,r=O(s(e).cloneNode(!0)),u=k(i(r));return e.addClass(c),g.addClass(c),r.addClass("ng-anchor"),t.append(r),(o=function(){var b=a(r,{addClass:d,delay:!0,from:h(e)});return b.$$willAnimate?b:null}())||(n=j())?(p=o||n,{start:function(){function a(){c&&c.end()}var b,c=p.start();return c.done(function(){if(c=null,!n&&(n=j()))return c=n.start(),c.done(function(){c=null,l(),b.complete()}),c;l(),b.complete()}),b=new f({end:a,cancel:a})}}):l()}function o(a,b,c,d){var e=p(a),g=p(b),h=[];if(P(d,function(a){var b=a.out,d=a.in,e=n(c,b,d);e&&h.push(e)}),e||g||0!==h.length)return{start:function(){function a(){P(c,function(a){a.end()})}var b,c=[];return e&&c.push(e.start()),g&&c.push(g.start()),P(h,function(a){c.push(a.start())}),b=new f({end:a,cancel:a}),f.all(c,function(a){b.complete(a)}),b}}}function p(b){var c,d=b.element,e=b.options||{};return b.structural&&(e.event=b.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===b.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=y(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!h.animations&&!h.transitions)return L;var q=j[0].body,r=s(g),t=O(b(r)||q.contains(r)?r:q);return l(i),function(a){return a.from&&a.to?o(a.from,a.to,a.classes,a.anchors):p(a)}}]}],ua=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){var d,e,f,g,h;for(c=Q(c)?c:c.split(" "),d=[],e={},f=0;f<c.length;f++)g=c[f],(h=a.$$registeredAnimations[g])&&!e[g]&&(d.push(b.get(h)),e[g]=!0);return d}var f=l(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){r=!0,h(),n(a,g)}function j(a,b,d,e,f){var g,h;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,u,v,f];break;case"addClass":g=[b,u,f];break;case"removeClass":g=[b,v,f];break;default:g=[b,f]}if(g.push(e),h=a.apply(a,g))if(V(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(V(h))return h;return L}function k(a,b,d,e,f){var g=[];return P(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||L)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){i(!1===a)}),e})}),g}function l(a,b,d,e,f){var g,h,i=k(a,b,d,e,f);if(0===i.length&&("beforeSetClass"===f?(g=k(a,"removeClass",d,e,"beforeRemoveClass"),h=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(g=k(a,"removeClass",d,e,"removeClass"),h=k(a,"addClass",d,e,"addClass")),g&&(i=i.concat(g)),h&&(i=i.concat(h))),0!==i.length)return function(a){var b=[];return i.length&&P(i,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){P(b,function(b){a?b.cancel():b.end()})}}}var o,p,q,r=!1;3===arguments.length&&S(d)&&(g=d,d=null),g=m(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var s,t,u=g.addClass,v=g.removeClass,w=e(d);if(w.length&&("leave"==b?(p="leave",o="afterLeave"):(p="before"+b.charAt(0).toUpperCase()+b.substr(1),o=b),"enter"!==b&&"move"!==b&&(s=l(a,b,g,w,p)),t=l(a,b,g,w,o)),s||t)return{$$willAnimate:!0,end:function(){return q?q.end():(i(),q=new c,q.complete(!0)),q},start:function(){function a(a){i(a),q.complete(a)}function b(b){r||((d||L)(b),a(b))}if(q)return q;q=new c;var d,e=[];return s&&e.push(function(a){d=s(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),t&&e.push(function(a){d=t(a)}),q.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),q}}}}]}],va=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);return d||e?{start:function(){function a(){return function(){P(g,function(a){a.end()})}}function c(a){f.complete(a)}var f,g=[];return d&&g.push(d.start()),e&&g.push(e.start()),b.all(g,c),f=new b({end:a(),cancel:a()})}}:void 0}return c(a)}}]}],wa="data-ng-animate",xa="$ngAnimatePin",ya=["$animateProvider",function(a){function b(a){if(!a)return null;var b=a.split(k),c=Object.create(null);return P(b,function(a){c[a]=!0}),c}function d(a,c){if(a&&c){var d=b(c);return a.split(k).some(function(a){return d[a]})}}function e(a,b,c,d){return o[a].some(function(a){return a(b,c,d)})}function f(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var g=1,j=2,k=" ",o=this.rules={skip:[],cancel:[],join:[]};o.join.push(function(a,b){return!b.structural&&f(b)}),o.skip.push(function(a,b){return!b.structural&&!f(b)}),o.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),o.skip.push(function(a,b,c){return c.structural&&c.state===j&&!b.structural}),o.cancel.push(function(a,b,c){return c.structural&&b.structural}),o.cancel.push(function(a,b,c){return c.state===j&&b.structural}),o.cancel.push(function(a,b,c){var e=b.addClass,f=b.removeClass,g=c.addClass,h=c.removeClass;return!(T(e)&&T(f)||T(g)&&T(h))&&(d(e,h)||d(f,g))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,d,k,o,p,r,v,w,x){function y(){var a=!1;return function(b){a?b():d.$$postDigest(function(){a=!0,b()})}}function z(a,b){return q(a,b,{})}function A(a,b,c){var d=s(b),e=s(a),f=[],g=L[c];return g&&P(g,function(a){$.call(a.node,d)?f.push(a.callback):"leave"===c&&$.call(a.node,e)&&f.push(a.callback)}),f}function B(a,c,i){function k(c,d,e,f){B(function(){var c=A(w,a,d);c.length&&b(function(){P(c,function(b){b(a,e,f)})})}),c.progress(d,e,f)}function l(b){u(a,O),Z(a,O),n(a,O),O.domOperation(),x.complete(!b)}var p,w,x,B,E,K,L,N,O=M(i);if(a=h(a),a&&(p=s(a),w=a.parent()),O=m(O),x=new v,B=y(),Q(O.addClass)&&(O.addClass=O.addClass.join(" ")),O.addClass&&!R(O.addClass)&&(O.addClass=null),Q(O.removeClass)&&(O.removeClass=O.removeClass.join(" ")),O.removeClass&&!R(O.removeClass)&&(O.removeClass=null),O.from&&!S(O.from)&&(O.from=null),O.to&&!S(O.to)&&(O.to=null),!p||(E=[p.className,O.addClass,O.removeClass].join(" "),!Y(E)))return l(),x;var T=["enter","move","leave"].indexOf(c)>=0,U=!J||o[0].hidden||I.get(p),V=!U&&H.get(p)||{},W=!!V.state;if(U||W&&V.state==g||(U=!F(a,w)),U)return l(),x;if(T&&C(a),K={structural:T,element:a,event:c,addClass:O.addClass,removeClass:O.removeClass,close:l,options:O,runner:x},W){if(e("skip",a,K,V))return V.state===j?(l(),x):(q(a,V,K),V.runner);if(e("cancel",a,K,V))if(V.state===j)V.runner.end();else{if(!V.structural)return q(a,V,K),V.runner;V.close()}else if(e("join",a,K,V)){if(V.state!==j)return t(a,T?c:null,O),c=K.event=V.event,O=q(a,V,K),V.runner;z(a,K)}}else z(a,K);return L=K.structural,L||(L="animate"===K.event&&Object.keys(K.options.to||{}).length>0||f(K)),L?(N=(V.counter||0)+1,K.counter=N,G(a,g,K),d.$$postDigest(function(){var b,d,e,g=H.get(p),h=!g;if(g=g||{},b=a.parent()||[],d=b.length>0&&("animate"===g.event||g.structural||f(g)),h||g.counter!==N||!d)return h&&(Z(a,O),n(a,O)),(h||T&&g.event!==c)&&(O.domOperation(),x.end()),void(d||D(a));c=!g.structural&&f(g,!0)?"setClass":g.event,G(a,j),e=r(a,c,g.options),e.done(function(b){l(!b);var d=H.get(p);d&&d.counter===N&&D(s(a)),k(x,c,"close",{})}),x.setHost(e),k(x,c,"start",{})}),x):(l(),D(a),x)}function C(a){var b=s(a),c=b.querySelectorAll("["+wa+"]");P(c,function(a){var b=parseInt(a.getAttribute(wa)),c=H.get(a);if(c)switch(b){case j:c.runner.end();case g:H.remove(a)}})}function D(a){var b=s(a);b.removeAttribute(wa),H.remove(b)}function E(a,b){return s(a)===s(b)}function F(a,b){var c,d,e,f,g,h=O(o[0].body),i=E(a,h)||"HTML"===a[0].nodeName,j=E(a,k),l=!1,m=I.get(s(a)),n=a.data(xa);for(n&&(b=n);b&&b.length&&(j||(j=E(b,k)),d=b[0],d.nodeType===X);){if(e=H.get(d)||{},!l){if(!0===(f=I.get(d))&&!1!==m){m=!0;break}!1===f&&(m=!1),l=e.structural}if((T(c)||!0===c)&&(g=b.data(aa),U(g)&&(c=g)),l&&!1===c)break;if(i||(i=E(b,h)),i&&j)break;b=j||!(n=b.data(xa))?b.parent():n}return(!l||c)&&!0!==m&&j&&i}function G(a,b,c){var d,e,f;c=c||{},c.state=b,d=s(a),d.setAttribute(wa,b),e=H.get(d),f=e?N(e,c):c,H.put(d,f)}var H=new p,I=new p,J=null,K=d.$watch(function(){return 0===w.totalPendingRequests},function(a){a&&(K(),d.$$postDigest(function(){d.$$postDigest(function(){null===J&&(J=!0)})}))}),L={},V=a.classNameFilter(),Y=V?function(a){return V.test(a)}:function(){return!0},Z=l(x),$=Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))};return{on:function(a,b,c){var d=i(b);L[a]=L[a]||[],L[a].push({node:d,callback:c})},off:function(a,b,c){var d=L[a];d&&(L[a]=1===arguments.length?null:function(a,b,c){var d=i(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}(d,b,c))},pin:function(a,b){c(W(a),"element","not an element"),c(W(b),"parentElement","not an element"),a.data(xa,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,B(a,b,c)},enabled:function(a,b){var c,d,e,f=arguments.length;return 0===f?b=!!J:(c=W(a),c?(d=s(a),e=I.get(d),1===f?b=!e:I.put(d,!b)):b=J=!!a),b}}}]}],za=["$animateProvider",function(){function a(a,b){a.data(g,b)}function b(a){a.removeData(g)}function c(a){return a.data(g)}var e="ng-animate-ref",f=this.drivers=[],g="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(g,h,i,j,k,o){function p(a){function b(a){var c,f,g;if(a.processed)return a;for(a.processed=!0,c=a.domNode,f=c.parentNode,e.put(c,a);f;){if(g=e.get(f)){g.processed||(g=b(g));break}f=f.parentNode}return(g||d).children.push(a),a}for(var c,d={children:[]},e=new k,f=0;f<a.length;f++)c=a[f],e.put(c.domNode,a[f]={domNode:c.domNode,fn:c.fn,children:[]});for(f=0;f<a.length;f++)b(a[f]);return function(a){for(var b,c=[],d=[],e=0;e<a.children.length;e++)d.push(a.children[e]);var f=d.length,g=0,h=[];for(e=0;e<d.length;e++)b=d[e],f<=0&&(f=g,g=0,c.push(h),h=[]),h.push(b.fn),b.children.forEach(function(a){g++,d.push(a)}),f--;return h.length&&c.push(h),c}(d)}var q=[],r=l(g);return function(k,l,t){function u(a){var b="["+e+"]",c=a.hasAttribute(e)?[a]:a.querySelectorAll(b),d=[];return P(c,function(a){var b=a.getAttribute(e);b&&b.length&&d.push(a)}),d}function v(a){var b,c,d=[],f={};return P(a,function(a,b){var c,g=a.element,h=s(g),i=a.event,j=["enter","move"].indexOf(i)>=0,k=a.structural?u(h):[];k.length?(c=j?"to":"from",P(k,function(a){var d=a.getAttribute(e);f[d]=f[d]||{},f[d][c]={animationID:b,element:O(a)}})):d.push(a)}),b={},c={},P(f,function(e){var f,g,h,i=e.from,j=e.to;if(!i||!j)return f=i?i.animationID:j.animationID,g=f.toString(),void(b[g]||(b[g]=!0,d.push(a[f])));var k=a[i.animationID],l=a[j.animationID],m=i.animationID.toString();c[m]||(h=c[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]},h.classes.length?d.push(h):(d.push(k),d.push(l))),c[m].anchors.push({out:i.element,in:j.element})}),d}function w(a,b){var c,d,e,f;for(a=a.split(" "),b=b.split(" "),c=[],d=0;d<a.length;d++)if(e=a[d],"ng-"!==e.substring(0,3))for(f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}return c.join(" ")}function x(a){for(var b,c,d,e=f.length-1;e>=0;e--)if(b=f[e],i.has(b)&&(c=i.get(b),d=c(a)))return d}function y(){k.addClass(_),F&&g.addClass(k,F),G&&(g.removeClass(k,G),G=null)}function z(a,b){function d(a){c(a).setHost(b)}a.from&&a.to?(d(a.from.element),d(a.to.element)):d(a.element)}function A(){var a=c(k);a&&("leave"!==l||!t.$$domOperationFired)&&a.end()}function B(a){k.off("$destroy",A),b(k),r(k,t),n(k,t),t.domOperation(),F&&g.removeClass(k,F),k.removeClass(_),D.complete(!a)}var C,D,E,F,G;return t=m(t),C=["enter","move","leave"].indexOf(l)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}}),f.length?(a(k,D),E=d(k.attr("class"),d(t.addClass,t.removeClass)),F=t.tempClasses,F&&(E+=" "+F,t.tempClasses=null),C&&(G="ng-"+l+"-prepare",g.addClass(k,G)),q.push({element:k,classes:E,event:l,structural:C,options:t,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a,b,d=[];P(q,function(a){c(a.element)?d.push(a):a.close()}),q.length=0,a=v(d),b=[],P(a,function(a){b.push({domNode:s(a.from?a.from.element:a.element),fn:function(){var b,d,e,f,g;a.beforeStart(),d=a.close,e=a.anchors?a.from.element||a.to.element:a.element,c(e)&&(f=x(a))&&(b=f.start),b?(g=b(),g.done(function(a){d(!a)}),z(a,g)):d()}})}),o(p(b))}),D)):(B(),D)}}]}],Aa=["$animate","$rootScope",function(a){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d.for,function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[]).directive("ngAnimateSwap",Aa).directive("ngAnimateChildren",la).factory("$$rAFScheduler",ka).provider("$$animateQueue",ya).provider("$$animation",za).provider("$animateCss",sa).provider("$$animateCssDriver",ta).provider("$$animateJs",ua).provider("$$animateJsDriver",va)}(window,window.dnnsfAngular15),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="treeControl"),function(a){"use strict";function b(a){return function(){for(var b,c=[],d=a;d&&d.node!==a.synteticRoot;)b!==d.node&&c.push(d.node),b=d.node,d=d.$parent;return c}}function c(a,b,c){a.hasOwnProperty(b)||(a[b]=c)}function d(a,b){return!(!0===a.hasChildren)}function e(b,c){if(a.isArray(b)){c=c||[];for(var d=0;d<b.length;d++)c[d]=b[d]}else if(a.isObject(b)){c=c||{};for(var e in b)!hasOwnProperty.call(b,e)||"$"===e.charAt(0)&&"$"===e.charAt(1)||(c[e]=b[e])}return c||b}function f(b,c,d){return!(!b||!c)&&(b=e(b),b[d.options.nodeChildren]=[],c=e(c),c[d.options.nodeChildren]=[],a.equals(b,c))}function g(a){return!a.isSelectable||a.isSelectable}function h(a){c(a.options,"multiSelection",!1),c(a.options,"nodeChildren","children"),c(a.options,"dirSelectable","true"),c(a.options,"injectClasses",{}),c(a.options.injectClasses,"ul",""),c(a.options.injectClasses,"li",""),c(a.options.injectClasses,"liSelected",""),c(a.options.injectClasses,"iExpanded",""),c(a.options.injectClasses,"iCollapsed",""),c(a.options.injectClasses,"iLeaf",""),c(a.options.injectClasses,"label",""),c(a.options.injectClasses,"labelSelected",""),c(a.options,"equality",f),c(a.options,"isLeaf",d),c(a.options,"allowDeselect",!0),c(a.options,"isSelectable",g)}a.module("treeControl",[]).constant("treeConfig",{templateUrl:null}).directive("treecontrol",["$compile","$http",function(c,d){function e(a,b){return a?b?'class="'+a+'"':a:""}return{restrict:"EA",require:"treecontrol",transclude:!0,scope:{treeModel:"=",fieldId:"=",initVal:"=?",getItems:"=",selectedNode:"=?",selectedNodes:"=?",expandedNodes:"=?",onSelection:"&",onNodeToggle:"&",onClickElem:"&",options:"=?",orderBy:"=?",reverseOrder:"@",filterExpression:"=?",filterComparator:"=?"},controller:["$scope","$templateCache","$interpolate","treeConfig","$http",function(d,f,g,i,j){function k(a){if(!d.options.multiSelection&&d.options.equality(a,d.selectedNode,d))return!0;if(d.options.multiSelection&&d.selectedNodes){for(var b=0;b<d.selectedNodes.length;b++)if(d.options.equality(a,d.selectedNodes[b],d))return!0;return!1}}d.options=d.options||{},h(d),d.inited=!1,d.selectedNodes=d.selectedNodes||[],d.expandedNodes=d.expandedNodes||[],d.expandedNodesMap={};for(var l=0;l<d.expandedNodes.length;l++)d.expandedNodesMap["a"+l]=d.expandedNodes[l];d.parentScopeOfTree=d.$parent,$("body, input, .treecontrol-dropdown-container").on("click",function(a){0==$(a.target).closest(".treecontrol-dropdown-container").length&&d.onClickElem({e:a,name:"name"})}),d.headClass=function(a){var b=e(d.options.injectClasses.liSelected,!1),c="";return b&&k(a)&&(c=" "+b),d.options.isLeaf(a,d)?"tree-leaf"+c:d.expandedNodesMap[this.$id]?"tree-expanded"+c:"tree-collapsed"+c},d.iBranchClass=function(){return e(d.expandedNodesMap[this.$id]?d.options.injectClasses.iExpanded:d.options.injectClasses.iCollapsed)},d.nodeExpanded=function(){return!!d.expandedNodesMap[this.$id]},d.selectNodeHead=function(a){var c=d.getItems+"&fieldId="+d.fieldId;void 0!=a.path&&(c=c+"&itemPath"+d.fieldId+"="+a.path),void 0!=a.itemId&&(c=c+"&itemId"+d.fieldId+"="+a.itemId),j({method:"GET",url:c}).then(function(b){a.children=b.data},function(a){console.log("Error: No data returned")});var e=this,f=void 0===d.expandedNodesMap[e.$id];if(d.expandedNodesMap[e.$id]=f?e.node:void 0,f)d.expandedNodes.push(e.node);else{for(var g,h=0;h<d.expandedNodes.length&&!g;h++)d.options.equality(d.expandedNodes[h],e.node,d)&&(g=h);void 0!==g&&d.expandedNodes.splice(g,1)}if(d.onNodeToggle){var i=e.$parent.node===e.synteticRoot?null:e.$parent.node,k=b(e);d.onNodeToggle({node:e.node,$parentNode:i,$path:k,$index:e.$index,$first:e.$first,$middle:e.$middle,$last:e.$last,$odd:e.$odd,$even:e.$even,expanded:f})}},d.selectNodeLabel=function(a){var c=this;if(d.options.isLeaf(a,d)||d.options.dirSelectable&&d.options.isSelectable(a)){if(d.options.isLeaf(a,d)&&!d.options.isSelectable(a))return;var e=!1;if(d.options.multiSelection){for(var f=-1,g=0;g<d.selectedNodes.length;g++)if(d.options.equality(a,d.selectedNodes[g],d)){f=g;break}-1===f?(d.selectedNodes.push(a),e=!0):d.selectedNodes.splice(f,1)}else d.options.equality(a,d.selectedNode,d)&&d.options.allowDeselect?d.selectedNode=void 0:(d.selectedNode=a,e=!0);if(d.onSelection){var h=c.$parent.node===c.synteticRoot?null:c.$parent.node,i=b(c);d.onSelection({node:a,selected:e,$parentNode:h,$path:i,$index:c.$index,$first:c.$first,$middle:c.$middle,$last:c.$last,$odd:c.$odd,$even:c.$even})}}else this.selectNodeHead()},d.selectedClass=function(){var a=k(this.node),b=e(d.options.injectClasses.labelSelected,!1),c="";return b&&a&&(c=" "+b),a?"tree-selected"+c:""},d.unselectableClass=function(){var a=!d.options.isSelectable(this.node),b=e(d.options.injectClasses.labelUnselectable,!1);return a?"tree-unselectable "+b:""},d.isReverse=function(){return!("false"===d.reverseOrder||"False"===d.reverseOrder||""===d.reverseOrder||!1===d.reverseOrder)},d.orderByFunc=function(){return d.orderBy};var m={orderBy:d.orderBy?" | orderBy:orderByFunc():isReverse()":"",ulClass:e(d.options.injectClasses.ul,!0),nodeChildren:d.options.nodeChildren,liClass:e(d.options.injectClasses.li,!0),iLeafClass:e(d.options.injectClasses.iLeaf,!1),labelClass:e(d.options.injectClasses.label,!1)};d.expandedAllNodes=function(b){a.forEach(b,function(a){1==a.selected&&(d.onSelection({node:a,selected:!0}),d.selectedNode=a),a.children.length>0&&(d.expandedNodes.push(a),d.expandedAllNodes(a.children))})},d.filterTree=function(a){j({method:"GET",url:d.getItems+"&fieldId="+d.fieldId+"&searchText"+d.fieldId+"="+a}).then(function(b){d.treeModel=b.data,d.expandedNodes=[],d.expandedAllNodes(b.data),""==a&&(d.expandedNodes=[])},function(a){console.log("Error: No data returned")})};var n,o=d.options.templateUrl||i.templateUrl;o&&(n=f.get(o)),n||(n='<ul {{options.ulClass}} ><li ng-repeat="node in node.{{options.nodeChildren}} | filter:filterExpression:filterComparator {{options.orderBy}}" ng-class="headClass(node)" {{options.liClass}}set-node-to-data><i class="tree-branch-head" ng-class="iBranchClass()" ng-click="selectNodeHead(node)"></i><i class="tree-leaf-head {{options.iLeafClass}}"></i><div class="tree-label {{options.labelClass}}" ng-class="[selectedClass(), unselectableClass()]" ng-click="selectNodeLabel(node)" tree-transclude></div><treeitem ng-if="nodeExpanded()"></treeitem></li></ul>');var p='<div class="input-group col-md-12 stylish-input-group" style="padding: 10px;" id="adv-search"><input type="text" class="form-control preventdefault" ng-model="srcText" ng-keyup="$event.keyCode == 13 && filterTree(srcText,$event)" placeholder="Search for items"/><span class="input-group-addon"  style="height:34px;"><button type="button" ng-click="filterTree(srcText,$event)"><span class="glyphicon glyphicon-search"></span></button></span></div>'+n;this.rootTemplate=c(g(p)({options:m})),this.template=c(g(n)({options:m}))}],compile:function(b,c,e){return function(b,c,f,g){b.$watch("treeModel",function(c){if(a.isArray(c)){if(a.isDefined(b.node)&&a.equals(b.node[b.options.nodeChildren],c))return;b.node={},b.synteticRoot=b.node,b.node[b.options.nodeChildren]=c}else{if(a.equals(b.node,c))return;b.node=c}0==b.inited&&b.initVal&&(b.inited=!0,d({method:"GET",url:b.getItems+"&fieldId="+b.fieldId+"&initiallySelected"+b.fieldId+"="+b.initVal}).then(function(a){b.treeModel=a.data,b.expandedNodes=[],b.selectedNode=[],b.expandedAllNodes(a.data)},function(a){console.log("Error: No data returned")}))}),b.$watchCollection("expandedNodes",function(d,e){var f=0,g={},h=c.find("li"),i=[];a.forEach(h,function(b){var c=a.element(b),d={$id:c.data("scope-id"),node:c.data("node")};i.push(d)}),a.forEach(d,function(a){for(var c=!1,d=0;d<i.length&&!c;d++){var e=i[d];b.options.equality(a,e.node,b)&&(g[e.$id]=e.node,c=!0)}c||(g["a"+f++]=a)}),b.expandedNodesMap=g}),g.rootTemplate(b,function(a){c.html("").append(a)}),b.$treeTransclude=e}}}}]).directive("setNodeToData",["$parse",function(a){return{restrict:"A",link:function(a,b,c){b.data("node",a.node),b.data("scope-id",a.$id)}}}]).directive("treeitem",function(){return{restrict:"E",require:"^treecontrol",link:function(a,b,c,d){d.template(a,function(a){b.html("").append(a)})}}}).directive("treeTransclude",function(){return{controller:["$scope",function(a){h(a)}],link:function(c,d,e,f){if(c.options.isLeaf(c.node,c)||a.forEach(c.expandedNodesMap,function(a,b){c.options.equality(a,c.node,c)&&(c.expandedNodesMap[c.$id]=c.node,c.expandedNodesMap[b]=void 0)}),!c.options.multiSelection&&c.options.equality(c.node,c.selectedNode,c))c.selectedNode=c.node;else if(c.options.multiSelection){for(var g=[],h=0;h<c.selectedNodes.length;h++)c.options.equality(c.node,c.selectedNodes[h],c)&&g.push(c.node);c.selectedNodes=g}c.transcludeScope=c.parentScopeOfTree.$new(),c.transcludeScope.node=c.node,c.transcludeScope.$path=b(c),c.transcludeScope.$parentNode=c.$parent.node===c.synteticRoot?null:c.$parent.node,c.transcludeScope.$index=c.$index,c.transcludeScope.$first=c.$first,c.transcludeScope.$middle=c.$middle,c.transcludeScope.$last=c.$last,c.transcludeScope.$odd=c.$odd,c.transcludeScope.$even=c.$even,c.$on("$destroy",function(){c.transcludeScope.$destroy()}),c.$treeTransclude(c.transcludeScope,function(a){d.empty(),d.append(a)})}}})}(dnnsfAngular15||angular),function(a,b){b.true=a,function(b,c){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&"dnnsf"!=module.name&&"object"==typeof a?module.exports=b():c.rangy=b()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||"unknown"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,"body")?a.body:a.getElementsByTagName("body")[0]}function g(b){typeof console!=v&&a(console,"log")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h("Rangy is not supported in this environment. Reason: "+a,H.config.alertOnFail)}function j(a){h("Rangy warning: "+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,"createRange")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||"body"!=h.nodeName.toLowerCase())return void i("No body element found");if(h&&a(h,"createTextRange")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i("Neither Range nor TextRange are available");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(a){l="Rangy init listener threw an exception. Continuing. Detail: "+k(a),g(l)}}}function m(a,b,c){c&&(a+=" in module "+c.name),H.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(b){var d="Module '"+a+"' failed to load: "+k(b);g(d),b.stack&&g(b.stack)}}});return E[a]=d,d}function r(){}function s(){}var t="object",u="function",v="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],x=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],y=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],z=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:"1.3.0",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v||rangyAutoInitialize}};H.fail=i,H.warn=j;var I;!{}.hasOwnProperty?i("hasOwnProperty not supported"):(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&"object"==typeof d&&null!==e&&"object"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty("toString")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}),F||i("Rangy can only run in a browser"),function(){var a;if(F){var b=document.createElement("div");b.appendChild(document.createElement("span"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(a){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,"addEventListener")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,"attachEvent")?J=function(a,b,c){a.attachEvent("on"+b,c)}:i("Document does not have required addEventListener or attachEvent method"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,"createMissingNativeApi","shim")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],!((a=E[b])&&a instanceof p))throw new Error("required module '"+b+"' not found");if(a.init(),!a.supported)throw new Error("required module '"+b+"' not supported")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){H.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return new Error("Error in Rangy "+this.name+" module: "+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule("DomUtil",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if((d=e.parentNode)===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError("getDocument: no document found for node")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError("Cannot get a window object for node")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function s(a){return a&&G.isHostMethod(a,"setTimeout")&&G.isHostObject(a,"document")}function t(a,b,c){var d;if(a?G.isHostProperty(a,"nodeType")?d=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+"(): Parameter must be a Window object or DOM node");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(!(i=g(a,d)))throw new Error("comparePoints error: nodes have no common ancestor");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){try{return a.parentNode,!1}catch(a){return!0}}function x(a){if(!a)return"[No node]";if(L&&w(a))return"[Broken node]";if(k(a))return'"'+a.data+'"';if(1==a.nodeType){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement("div");e.contentEditable=""+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var F="undefined",G=a.util,H=G.getBody;G.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),G.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var I=document.createElement("div");G.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),G.isHostProperty(I,"innerHTML")||b.fail("Element is missing innerHTML property");var J=document.createTextNode("test");G.areHostMethods(J,["splitText","deleteData","insertData","appendData","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!G.areHostProperties(J,["data"]))||b.fail("Incomplete Text Node implementation");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br />",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+x(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule("DomRange",["DomUtil"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M("WRONG_DOCUMENT_ERR");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M("HIERARCHY_REQUEST_ERR");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(!1===b(f))return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(!1===b(e))return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp("^("+b.join("|")+")$"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){return"["+(void 0===a.getName?"Range":a.getName())+"("+J.inspectNode(a.startContainer)+":"+a.startOffset+", "+J.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M("INVALID_NODE_TYPE_ERR")}function s(a,b){if(!V(b,a.nodeType))throw new M("INVALID_NODE_TYPE_ERR")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M("INDEX_SIZE_ERR")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M("WRONG_DOCUMENT_ERR")}function v(a){if(da(a,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ja,a.START_TO_END=ka,a.END_TO_END=la,a.END_TO_START=ma,a.NODE_BEFORE=na,a.NODE_AFTER=oa,a.NODE_BEFORE_AND_AFTER=pa,a.NODE_INSIDE=qa}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling)&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a);else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling)&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){return c(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement("style"),ga=!1;try{fa.innerHTML="<b>x</b>",ga=3==fa.firstChild.nodeType}catch(a){}a.features.htmlParsingConforms=ga;var ha=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M("INVALID_STATE_ERR");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||"HTML"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement("body");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ia=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ja=0,ka=1,la=2,ma=3,na=0,oa=1,pa=2,qa=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==ma||a==ja?"start":"end",h=a==ka||a==ja?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M("HIERARCHY_REQUEST_ERR");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ia.length;c--;)a=ia[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?pa:na:e>0?oa:qa},comparePoint:function(a,b){return z(this),w(a,"HIERARCHY_REQUEST_ERR"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ha,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,"HIERARCHY_REQUEST_ERR"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==qa},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a)},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return"DomRange"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ia,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule("WrappedRange",["DomRange"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(a){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(d){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l("setStartBefore","setEndBefore"),k.setStartAfter=l("setStartAfter","setEndAfter"),k.setEndBefore=l("setEndBefore","setStartBefore"),k.setEndAfter=l("setEndAfter","setStartAfter"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var p=document.createRange();p.selectNodeContents(n),p.setEnd(n,4),p.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,p)&&1==o.compareBoundaryPoints(o.END_TO_START,p)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var q=document.createElement("div");q.innerHTML="123";var r=q.firstChild,s=i(document);s.appendChild(q),o.setStart(r,1),o.setEnd(r,2),o.deleteContents(),"13"==r.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),s.removeChild(q),s=null,f.isHostMethod(o,"createContextualFragment")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return"WrappedRange"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints("StartToEnd",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement("span");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?"StartToStart":"StartToEnd",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),0!=(m=h.compareEndPoints(r,a))&&s!=u;){if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?"EndToStart":"EndToEnd",a);var w;if(/[\r\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\r\n/g,"\r").length;for(w=x.moveStart("character",y);-1==(m=x.compareEndPoints("StartToEnd",x));)w++,x.moveStart("character",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement("span"),f.innerHTML="&#feff;",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?"moveStart":"moveEnd"]("character",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint("StartToStart",b),d.setEndPoint("EndToEnd",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a("return this;")()}(Function);void 0===q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,"createRange"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,"createRangyRange"),new h(a)},f.createAliasForDeprecatedMethod(a,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange"),a.addShimListener(function(b){var c=b.document;void 0===c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function c(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,"getWinSelection").getSelection()}function f(a){return d(a,"getDocSelection").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return c[0]}function n(a){return!!a&&void 0!==a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,"None"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(a){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,"deleteAll"==b)s(d);else if(c.win==a)return"delete"==b?(ba.splice(e,1),!0):d;return"deleteAll"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(a){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H("WRONG_DOCUMENT_ERR")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if(void 0!==a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.config.checkSelectionRanges=!0;var y,z,A="boolean",B="number",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K="Control",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,"getSelection"),P=D.isHostObject(document,"selection");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,"isSelectionValid").document,c=b.selection;return"None"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail("Neither document.selection or window.getSelection() detected."),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail("Native selection was null (possibly issue 138?)"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,["anchorNode","focusNode","anchorOffset","focusOffset"]);J.selectionHasAnchorAndFocus=U;var V=E(R,"extend");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,["addRange","getRangeAt","removeAllRanges"])&&typeof R.rangeCount==B&&J.implementsDomRange&&function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,"",!1),j=i.appendChild(document.createTextNode("   ")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,"createControlRange")&&($=T.createControlRange(),D.areHostProperties($,["item","add"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return!!a.rangeCount&&a.getRangeAt(a.rangeCount-1).collapsed};var aa;E(R,"getRangeAt")?aa=function(a,b){try{return a.getRangeAt(b)}catch(a){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,"getNativeSelection");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,["removeAllRanges","addRange"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};da.addRange=W?function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(a){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var g=aa(this.nativeSelection,this.rangeCount-1);g&&!N(g,b)&&(b=new G(g))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,"empty")&&E(S,"select")&&_&&Q))return b.fail("No means of selecting a Range or TextRange was found"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){M(a).createTextRange().select(),this.docSelection.empty()}}}catch(a){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,"getRangeAt")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};da.removeRange=_&&P?function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=""+this._ranges[b];return a.join("")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],"backward"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join("")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range")}),da.getName=function(){return"WrappedSelection"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,"delete"),s(this)},r.detachAll=function(){t(null,"deleteAll")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){void 0===a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&("complete"==document.readyState?N():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",N,!1),J(window,"load",N))),H},this),function(b,c){"function"==typeof define&&define.amd?define(["./rangy-core"],b):"undefined"!=typeof module&&"dnnsf"!=module.name&&"object"==typeof a?module.exports=b(require("rangy")):b(c.rangy)}(function(a){return a.createModule("SaveRestore",["WrappedRange"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement("span"),c.id=d,c.style.lineHeight="0",c.style.display="none",c.className="rangySelectionBoundary",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?"setStartBefore":"setEndBefore"](g),p(g)):b.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return"original text: '"+h+"', new text: '"+b.toString()+"'"}})}function h(d,f){var g=d.document;void 0===f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display="inline";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn("Marker element has been removed. Cannot restore selection.")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d);1==d.length&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r="\ufeff";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this)}({},function(){return this}()),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var c=[];return g(b,l(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[];return l(c,b.noop).chars(a),c.join("")}function f(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),D[d])for(;k.last()&&E[k.last()];)e("",k.last());C[d]&&k.last()==d&&e("",d),(g=z[d]||!!g)||k.push(d);var i={};f.replace(p,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=k.length-1;f>=0&&k[f]!=d;f--);if(f>=0){for(e=k.length-1;e>=f;e--)c.end&&c.end(k[e]);k.length=f}}"string"!=typeof a&&(a=null===a||void 0===a?"":""+a);var f,g,i,j,k=[],l=a;for(k.last=function(){return k[k.length-1]};a;){if(j="",g=!0,k.last()&&G[k.last()])a=a.replace(new RegExp("([^]*)<\\s*\\/\\s*"+k.last()+"[^>]*>","i"),function(a,b){return b=b.replace(s,"$1").replace(v,"$1"),c.chars&&c.chars(h(b)),""}),e("",k.last());else{if(y.test(a)){if(i=a.match(y)){i[0];c.whitespace&&c.whitespace(i[0]),a=a.replace(i[0],""),g=!1}}else t.test(a)?(i=a.match(t))&&(c.comment&&c.comment(i[1]),a=a.replace(i[0],""),g=!1):u.test(a)?(i=a.match(u))&&(a=a.replace(i[0],""),g=!1):r.test(a)?(i=a.match(o))&&(a=a.substring(i[0].length),i[0].replace(o,e),g=!1):q.test(a)&&(i=a.match(n),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(n,d)),g=!1):(j+="<",a=a.substring(1)));g&&(f=a.indexOf("<"),j+=f<0?a:a.substring(0,f),a=f<0?"":a.substring(f),c.chars&&c.chars(h(j)))}if(a==l)throw m("badparse","The sanitizer was unable to parse the following block of html: {0}",a);l=a}e()}function h(a){if(!a)return"";var b=N.exec(a),c=b[1],d=b[3],e=b[2];return e&&(M.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in M?M.textContent:M.innerText),c+e+d}function i(a){return a.replace(/&/g,"&amp;").replace(w,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(x,function(a){var b=a.charCodeAt(0);return b<=159||173==b||b>=1536&&b<=1540||1807==b||6068==b||6069==b||b>=8204&&b<=8207||b>=8232&&b<=8239||b>=8288&&b<=8303||65279==b||b>=65520&&b<=65535?"&#"+b+";":a}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a){var c="",d=a.split(";");return b.forEach(d,function(a){var d=a.split(":");if(2==d.length){var e=O(b.lowercase(d[0])),a=O(b.lowercase(d[1]));(("color"===e||"background-color"===e)&&(a.match(/^rgb\([0-9%,\. ]*\)$/i)||a.match(/^rgba\([0-9%,\. ]*\)$/i)||a.match(/^hsl\([0-9%,\. ]*\)$/i)||a.match(/^hsla\([0-9%,\. ]*\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||"text-align"===e&&("left"===a||"right"===a||"center"===a||"justify"===a)||"text-decoration"===e&&("underline"===a||"line-through"===a)||"font-weight"===e&&"bold"===a||"float"===e&&("left"===a||"right"===a||"none"===a)||("width"===e||"height"===e)&&a.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===e&&a.match(/^ltr|rtl|initial|inherit$/))&&(c+=e+": "+a+";")}}),c}function k(a,b,c,d){return!("img"!==a||!b["ta-insert-video"]||"ta-insert-video"!==c&&"allowfullscreen"!==c&&"frameborder"!==c&&("contenteditable"!==c||"false"!==d))}function l(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&G[a]&&(d=a),d||!0!==H[a]||(e("<"),e(a),b.forEach(f,function(d,g){var h=b.lowercase(g),l="img"===a&&"src"===h||"background"===h;("style"===h&&""!==(d=j(d))||k(a,f,h,d)||!0===L[h]&&(!0!==I[h]||c(d,l)))&&(e(" "),e(g),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},comment:function(a){e(a)},whitespace:function(a){e(i(a))},end:function(a){a=b.lowercase(a),d||!0!==H[a]||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var m=b.$$minErr("$sanitize"),n=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,o=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,q=/^</,r=/^<\//,s=/<!--(.*?)-->/g,t=/(^<!--.*?-->)/,u=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^\#-~| |!])/g,y=/^(\s+)/,z=f("area,br,col,hr,img,wbr,input"),A=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B=f("rp,rt"),C=b.extend({},B,A),D=b.extend({},A,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=b.extend({},B,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),F=f("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),G=f("script,style"),H=b.extend({},z,D,E,C,F),I=f("background,cite,href,longdesc,src,usemap,xlink:href"),J=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),K=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),L=b.extend({},I,K,J),M=document.createElement("pre"),N=/^(\s*)([\s\S]*?)(\s*)$/,O=function(){return String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"��]/,d=/^mailto:/;return function(f,g){function h(a){a&&m.push(e(a))}if(!f)return f;for(var i,j,k,l=f,m=[];i=l.match(c);)j=i[0],i[2]||i[4]||(j=(i[3]?"http://":"mailto:")+j),k=i.index,h(l.substr(0,k)),function(a,c){m.push("<a "),b.isDefined(g)&&m.push('target="',g,'" '),m.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),m.push("</a>")}(j,i[0].replace(d,"")),l=l.substring(k+i[0].length);return h(l),a(m.join(""))}}])}(window,window.dnnsfAngular15),function(a){"use strict";function b(b,c){this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input size="'+this.inputSize+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?h.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}var g={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(a,b){b.hide().fadeIn()}};b.prototype={constructor:b,add:function(b,c){var d=this;if(!(d.options.maxTags&&d.itemsArray.length>=d.options.maxTags)&&(!1===b||b)){if("object"==typeof b&&!d.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(d.isSelect&&!d.multiple&&d.itemsArray.length>0&&d.remove(d.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var f=b.split(",");if(f.length>1){for(var g=0;g<f.length;g++)this.add(f[g],!0);return void(c||d.pushVal())}}var h=d.options.itemValue(b),i=d.options.itemText(b),j=d.options.tagClass(b),k=a.grep(d.itemsArray,function(a){return d.options.itemValue(a)===h})[0];if(k){if(d.options.onTagExists){var l=a(".tag",d.$container).filter(function(){return a(this).data("item")===k});d.options.onTagExists(b,l)}}else{d.itemsArray.push(b);var m=a('<span class="tag '+e(j)+'">'+e(i)+'<span data-role="remove"></span></span>');if(m.data("item",b),d.findInputWrapper().before(m),m.after(" "),d.isSelect&&!a('option[value="'+escape(h)+'"]',d.$element)[0]){var n=a("<option selected>"+e(i)+"</option>");n.data("item",b),n.attr("value",h),d.$element.append(n)}c||d.pushVal(),d.options.maxTags===d.itemsArray.length&&d.$container.addClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemAdded",{item:b}))}}}},remove:function(b,c){var d=this;d.objectItems&&(b="object"==typeof b?a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==d.options.itemValue(b)})[0]:a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==b})[0]),b&&(a(".tag",d.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",d.$element).filter(function(){return a(this).data("item")===b}).remove(),d.itemsArray.splice(a.inArray(b,d.itemsArray),1)),c||d.pushVal(),d.options.maxTags>d.itemsArray.length&&d.$container.removeClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemRemoved",{item:b}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal(),b.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect&&a("option",b.$element).filter(function(){return a(this).data("item")===d}).attr("value",f)})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;e.options=a.extend({},g,b);var h=e.options.typeahead||{};e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),c(e.options,"tagClass"),e.options.source&&(h.source=e.options.source),h.source&&a.fn.typeahead&&(d(h,"source"),e.$input.typeahead({source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=h.source(b);a.isFunction(g.success)?g.success(d):a.when(g).then(d)},updater:function(a){e.add(this.map[a])},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}})),e.$container.on("click",a.proxy(function(a){e.$input.focus()},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus());break;default:e.options.freeInput&&a.inArray(b.which,e.options.confirmKeys)>=0&&(e.add(c.val()),c.val(""),b.preventDefault())}c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===g.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d){var e=[];return this.each(function(){var f=a(this).data("tagsinput");if(f){var g=f[c](d);void 0!==g&&e.push(g)}else f=new b(this,c),c.style&&f.$container.attr("style",c.style),a(this).data("tagsinput",f),e.push(f),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?e.length>1?e:e[0]:e},a.fn.tagsinput.Constructor=b;var h=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.dnnsfjQuery),dnnsfAngular15.module("bootstrap-tagsinput",[]).directive("bootstrapTagsinput",["$timeout","$parse",function(a,b){return{restrict:"A",scope:{model:"=ngModel",suggestions:"=suggestions",maxTags:"@limit",suggestionsNumber:"@",style:"=?"},link:function(b,c,d){a(function(){var e=dnnsfjQuery;e(c).attr("placeholder",window.localization.tagsInput.placeholder).tagsinput({itemValue:d.itemvalue,itemText:d.itemtext,maxTags:b.maxTags,style:b.style}),e(c).hasClass("required")&&(b.isRequired=!0,e(c).parent().find("input").addClass("required")),e(c).on("itemAdded itemRemoved",function(){b.isRequired&&(e(c).tagsinput("items").length>0?e(c).parent().find("input").removeClass("required"):e(c).parent().find("input").addClass("required")),b.maxTags&&b.maxTags<=e(c).tagsinput("items").length?e(c).tagsinput("input").hide():e(c).tagsinput("input").show()}),e(c).tagsinput("input").typeahead({local:[]}).bind("typeahead:selected",e.proxy(function(a,b){var d=dnnsfjQuery;d(c).tagsinput("add",{text:b.value,value:b.realValue}),d(this).typeahead("setQuery","")},e("input"))),b.$watch("suggestions",function(){if(b.suggestions){for(var d=[],f=0;f<b.suggestions.length;f++)d.push({value:b.suggestions[f].text?b.suggestions[f].text:b.suggestions[f],realValue:b.suggestions[f].value?b.suggestions[f].value:b.suggestions[f]});window.dnnsfjQuery(c).tagsinput("input").typeahead({local:d,limit:b.suggestionsNumber}).blur(function(){var d=e(this);d.val().length&&a(function(){e.each(b.suggestions,function(a,b){e.each(d.val().split(","),function(a,d){d&&b.value==d&&e(c).tagsinput("add",{text:b.value,value:b.realValue})})}),d.val("")},100)}).focus(function(){e("input").keypress(function(a){13==a.which&&(e(".tt-suggestion").first().trigger("click"),a.preventDefault())})})}}),b.$watch("model",function(){var a=e(c).tagsinput("items");e.each(b.suggestions,function(d,f){var g=e.isArray(b.model)?b.model:b.model.split(",");e.each(g,function(b,d){if(d&&f.value==d){for(var g=0;g<a.length;g++)if(a[g].value==f.value)return;e(c).tagsinput("add",f)}})})})})}}}]),function(a){var b={isMsie:function(){var a=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return!!a&&parseInt(a[2],10)},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return void 0===a},bind:a.proxy,bindAll:function(b){var c;for(var d in b)a.isFunction(c=b[d])&&(b[d]=a.proxy(c,b))},indexOf:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},each:a.each,map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return!!(d=c.call(null,e,a,b))&&void 0}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return!(d=c.call(null,e,a,b))&&void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},tokenizeQuery:function(b){return a.trim(b).toLowerCase().split(/[\s]+/)},tokenizeText:function(b){return a.trim(b).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},c=function(){var a=/\s+/;return{on:function(b,c){var d;if(!c)return this;for(this._callbacks=this._callbacks||{},b=b.split(a);d=b.shift();)this._callbacks[d]=this._callbacks[d]||[],this._callbacks[d].push(c);return this},trigger:function(b,c){var d,e;if(!this._callbacks)return this;for(b=b.split(a);d=b.shift();)if(e=this._callbacks[d])for(var f=0;f<e.length;f+=1)e[f].call(this,{type:d,data:c});return this}}}(),d=function(){function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+a,b)}}),c}(),e=function(){function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(a){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return!!(b.isNumber(d)&&c()>d)}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),f=function(){function a(a){b.bindAll(this),a=a||{},this.sizeLimit=a.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return b.mixin(a.prototype,{get:function(a){return this.cache[a]},set:function(a,b){var c;this.cachedKeysByAge.length===this.sizeLimit&&(c=this.cachedKeysByAge.shift(),delete this.cache[c]),this.cache[a]=b,this.cachedKeysByAge.push(a)}}),a}(),g=function(){function c(a){b.bindAll(this),a=b.isString(a)?{url:a}:a,i=i||new f,h=b.isNumber(a.maxParallelRequests)?a.maxParallelRequests:h||6,this.url=a.url,this.wildcard=a.wildcard||"%QUERY",this.filter=a.filter,this.replace=a.replace,this.ajaxSettings={type:"get",cache:a.cache,timeout:a.timeout,dataType:a.dataType||"json",beforeSend:a.beforeSend},this._get=(/^throttle$/i.test(a.rateLimitFn)?b.throttle:b.debounce)(this._get,a.rateLimitWait||300)}function d(){j++}function e(){j--}function g(){return h>j}var h,i,j=0,k={};return b.mixin(c.prototype,{_get:function(a,b){function c(c){var e=d.filter?d.filter(c):c;b&&b(e),i.set(a,c)}var d=this;g()?this._sendRequest(a).done(c):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(b){function c(){e(),k[b]=null,f.onDeckRequestArgs&&(f._get.apply(f,f.onDeckRequestArgs),f.onDeckRequestArgs=null)}var f=this,g=k[b];return g||(d(),g=k[b]=a.ajax(b,this.ajaxSettings).always(c)),g},get:function(a,c){var d,e,f=this,g=encodeURIComponent(a||"");return c=c||b.noop,d=this.replace?this.replace(this.url,g):this.url.replace(this.wildcard,g),(e=i.get(d))?b.defer(function(){c(f.filter?f.filter(e):e)}):this._get(d,c),!!e}}),c}(),h=function(){function c(c){b.bindAll(this),b.isString(c.template)&&!c.engine&&a.error("no template engine specified"),c.local||c.prefetch||c.remote||a.error("one of local, prefetch, or remote is required"),this.name=c.name||b.getUniqueId(),this.limit=c.limit||5,this.minLength=c.minLength||1,this.header=c.header,this.footer=c.footer,this.valueKey=c.valueKey||"value",this.template=d(c.template,c.engine,this.valueKey),this.local=c.local,this.prefetch=c.prefetch,this.remote=c.remote,this.itemHash={},this.adjacencyList={},this.storage=c.name?new e(c.name):null}function d(a,c,d){var e,f;return b.isFunction(a)?e=a:b.isString(a)?(f=c.compile(a),e=b.bind(f.render,f)):e=function(a){return"<p>"+a[d]+"</p>"},e}var f={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return b.mixin(c.prototype,{_processLocalData:function(a){this._mergeProcessedData(this._processData(a))},_loadPrefetchData:function(c){function d(a){var d=c.filter?c.filter(a):a,e=l._processData(d),g=e.itemHash,h=e.adjacencyList;l.storage&&(l.storage.set(f.itemHash,g,c.ttl),l.storage.set(f.adjacencyList,h,c.ttl),l.storage.set(f.thumbprint,m,c.ttl),l.storage.set(f.protocol,b.getProtocol(),c.ttl)),l._mergeProcessedData(e)}var e,g,h,i,j,k,l=this,m="0.9.3"+(c.thumbprint||"");return this.storage&&(e=this.storage.get(f.thumbprint),g=this.storage.get(f.protocol),h=this.storage.get(f.itemHash),i=this.storage.get(f.adjacencyList)),j=e!==m||g!==b.getProtocol(),c=b.isString(c)?{url:c}:c,c.ttl=b.isNumber(c.ttl)?c.ttl:864e5,h&&i&&!j?(this._mergeProcessedData({itemHash:h,adjacencyList:i}),k=a.Deferred().resolve()):k=a.getJSON(c.url).done(d),k},_transformDatum:function(a){var c=b.isString(a)?a:a[this.valueKey],d=a.tokens||b.tokenizeText(c),e={value:c,tokens:d};return b.isString(a)?(e.datum={},e.datum[this.valueKey]=a):e.datum=a,e.tokens=b.filter(e.tokens,function(a){return!b.isBlankString(a)}),e.tokens=b.map(e.tokens,function(a){return a.toLowerCase()}),e},_processData:function(a){var c=this,d={},e={};return b.each(a,function(a,f){var g=c._transformDatum(f),h=b.getUniqueId(g.value);d[h]=g,b.each(g.tokens,function(a,c){var d=c.charAt(0),f=e[d]||(e[d]=[h]);!~b.indexOf(f,h)&&f.push(h)})}),{itemHash:d,adjacencyList:e}},_mergeProcessedData:function(a){var c=this;b.mixin(this.itemHash,a.itemHash),b.each(a.adjacencyList,function(a,b){var d=c.adjacencyList[a];c.adjacencyList[a]=d?d.concat(b):b})},_getLocalSuggestions:function(a){var c,d=this,e=[],f=[],g=[];return b.each(a,function(a,c){var d=c.charAt(0);!~b.indexOf(e,d)&&e.push(d)}),b.each(e,function(a,b){var e=d.adjacencyList[b];return!!e&&(f.push(e),void((!c||e.length<c.length)&&(c=e)))}),f.length<e.length?[]:(b.each(c,function(c,e){var h,i=d.itemHash[e];(h=b.every(f,function(a){return~b.indexOf(a,e)}))&&b.every(a,function(a){return b.some(i.tokens,function(b){return 0===b.indexOf(a)})})&&g.push(i)}),g)},initialize:function(){var b;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new g(this.remote):null,b=this.prefetch?this._loadPrefetchData(this.prefetch):a.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return b},b},getSuggestions:function(a,c){function d(a){f=f.slice(0),b.each(a,function(a,c){var d,e=g._transformDatum(c);return d=b.some(f,function(a){return e.value===a.value}),!d&&f.push(e),f.length<g.limit}),c&&c(f)}var e,f,g=this,h=!1;a.length<this.minLength||(e=b.tokenizeQuery(a),f=this._getLocalSuggestions(e).slice(0,this.limit),f.length<this.limit&&this.transport&&(h=this.transport.get(a,d)),!h&&c&&c(f))}}),c}(),i=function(){function d(c){var d=this;b.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){d.specialKeyCodeMap[a.which||a.keyCode]||b.defer(d._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=e(this.$input)}function e(b){return a("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function f(a,b){return a=(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),b=(b||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),a===b}return b.mixin(d.prototype,c,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(a){var b=this.specialKeyCodeMap[a.which||a.keyCode];b&&this.trigger(b+"Keyed",a)},_compareQueryToInputValue:function(){var a=this.getInputValue(),b=f(this.query,a);!b||this.query.length===a.length?b||this.trigger("queryChanged",{value:this.query=a}):this.trigger("whitespaceChanged",{value:this.query})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),!b&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var a,c=this.$input.val().length,d=this.$input[0].selectionStart;return b.isNumber(d)?d===c:!document.selection||(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length)}}),d}(),j=function(){function d(c){b.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=a(c.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function e(a){return a.data("suggestion")}
var f={suggestionsList:'<span class="tt-suggestions"></span>'},g={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return b.mixin(d.prototype,c,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(b){var c=a(b.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),c.addClass("tt-is-under-cursor")},_handleSelection:function(b){var c=a(b.currentTarget);this.trigger("suggestionSelected",e(c))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(a){var b,c,d,f;if(this.isVisible()){if(b=this._getSuggestions(),c=b.filter(".tt-is-under-cursor"),c.removeClass("tt-is-under-cursor"),d=b.index(c)+a,-1===(d=(d+1)%(b.length+1)-1))return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),f=b.eq(d).addClass("tt-is-under-cursor"),this._ensureVisibility(f),this.trigger("cursorMoved",e(f))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(a){var b=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),c=this.$menu.scrollTop(),d=a.position().top,e=d+a.outerHeight(!0);0>d?this.$menu.scrollTop(c+d):e>b&&this.$menu.scrollTop(c+(e-b))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){var b={left:"0",right:"auto"},c={left:"auto",right:" 0"};"ltr"===a?this.$menu.css(b):this.$menu.css(c)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var a=this._getSuggestions().filter(".tt-is-under-cursor").first();return a.length>0?e(a):null},getFirstSuggestion:function(){var a=this._getSuggestions().first();return a.length>0?e(a):null},renderSuggestions:function(c,d){var e,h,i,j,k,l="tt-dataset-"+c.name,m=this.$menu.find("."+l);0===m.length&&(h=a(f.suggestionsList).css(g.suggestionsList),m=a("<div></div>").addClass(l).append(c.header).append(h).append(c.footer).appendTo(this.$menu)),d.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),i=document.createElement("div"),j=document.createDocumentFragment(),b.each(d,function(b,d){d.dataset=c.name,e=c.template(d.datum),i.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",e),k=a(i.firstChild).css(g.suggestion).data("suggestion",d),k.children().each(function(){a(this).css(g.suggestionChild)}),j.appendChild(k[0])}),m.show().find(".tt-suggestions").html(j)):this.clearSuggestions(c.name),this.trigger("suggestionsRendered")},clearSuggestions:function(a){var b=a?this.$menu.find(".tt-dataset-"+a):this.$menu.find('[class^="tt-dataset-"]'),c=b.find(".tt-suggestions");b.hide(),c.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),d}(),k=function(){function d(a){var c,d,f;b.bindAll(this),this.$node=e(a.input),this.datasets=a.datasets,this.dir=null,this.eventBus=a.eventBus,c=this.$node.find(".tt-dropdown-menu"),d=this.$node.find(".tt-query"),f=this.$node.find(".tt-hint"),this.dropdownView=new j({menu:c}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new i({input:d,hint:f}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function e(b){var c=a(g.wrapper),d=a(g.dropdown),e=a(b),f=a(g.hint);c=c.css(h.wrapper),d=d.css(h.dropdown),f.css(h.hint).css({backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}),e.data("ttAttrs",{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(h.query);try{!e.attr("dir")&&e.attr("dir","auto")}catch(a){}return e.wrap(c).parent().prepend(f).append(d)}function f(a){var c=a.find(".tt-query");b.each(c.data("ttAttrs"),function(a,d){b.isUndefined(d)?c.removeAttr(a):c.attr(a,d)}),c.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(a),a.remove()}var g={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},h={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return b.isMsie()&&b.mixin(h.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&(b.mixin(h.wrapper,{display:"inline",zoom:"1"}),b.mixin(h.query,{marginTop:"-1px"})),b.mixin(d.prototype,c,{_managePreventDefault:function(a){var b,c,d=a.data,e=!1;switch(a.type){case"tabKeyed":b=this.inputView.getHintValue(),c=this.inputView.getInputValue(),e=b&&b!==c;break;case"upKeyed":case"downKeyed":e=!d.shiftKey&&!d.ctrlKey&&!d.metaKey}e&&d.preventDefault()},_setLanguageDirection:function(){var a=this.inputView.getLanguageDirection();a!==this.dir&&(this.dir=a,this.$node.css("direction",a),this.dropdownView.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g=this.dropdownView.getFirstSuggestion(),h=g?g.value:null,i=this.dropdownView.isVisible(),j=this.inputView.isOverflow();h&&i&&!j&&(a=this.inputView.getInputValue(),c=a.replace(/\s{2,}/g," ").replace(/^\s+/g,""),d=b.escapeRegExChars(c),e=new RegExp("^(?:"+d+")(.*$)","i"),f=e.exec(h),this.inputView.setHintValue(a+(f?f[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(a){var b=a.data;this.inputView.setInputValue(b.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(a){this.dropdownView["blured"===a.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(a){var b=a.data;b.shiftKey||b.ctrlKey||b.metaKey||this.dropdownView["upKeyed"===a.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(a){var c="suggestionSelected"===a.type,d=c?a.data:this.dropdownView.getSuggestionUnderCursor();d&&(this.inputView.setInputValue(d.value),c?this.inputView.focus():a.data.preventDefault(),c&&b.isMsie()?b.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",d.datum,d.dataset))},_getSuggestions:function(){var a=this,c=this.inputView.getQuery();b.isBlankString(c)||b.each(this.datasets,function(b,d){d.getSuggestions(c,function(b){c===a.inputView.getQuery()&&a.dropdownView.renderSuggestions(d,b)})})},_autocomplete:function(a){var b,c,d,e,f;("rightKeyed"!==a.type&&"leftKeyed"!==a.type||(b=this.inputView.isCursorAtEnd(),c="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===a.type:"rightKeyed"===a.type,b&&!c))&&(d=this.inputView.getQuery(),""!==(e=this.inputView.getHintValue())&&d!==e&&(f=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(f.value),this.eventBus.trigger("autocompleted",f.datum,f.dataset)))},_propagateEvent:function(a){this.eventBus.trigger(a.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),f(this.$node),this.$node=null},setQuery:function(a){this.inputView.setQuery(a),this.inputView.setInputValue(a),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),d}();!function(){var c,e={},f="ttView";c={initialize:function(c){function g(){var c,e=a(this),g=new d({el:e});c=b.map(i,function(a){return a.initialize()}),e.data(f,new k({input:e,eventBus:g=new d({el:e}),datasets:i})),a.when.apply(a,c).always(function(){b.defer(function(){g.trigger("initialized")})})}var i;return c=b.isArray(c)?c:[c],0===c.length&&a.error("no datasets provided"),i=b.map(c,function(a){var b=e[a.name]?e[a.name]:new h(a);return a.name&&(e[a.name]=b),b}),this.each(g)},destroy:function(){function b(){var b=a(this),c=b.data(f);c&&(c.destroy(),b.removeData(f))}return this.each(b)},setQuery:function(b){function c(){var c=a(this).data(f);c&&c.setQuery(b)}return this.each(c)}},dnnsfjQuery.fn.typeahead=function(a){return c[a]?c[a].apply(this,[].slice.call(arguments,1)):c.initialize.apply(this,arguments)}}()}(window.dnnsfjQuery),dnnsfAngular15.module("siyfion.sfTypeahead",[]).directive("sfTypeahead",function(){return{restrict:"ACE",scope:{datasets:"=",ngModel:"="},link:function(a,b){function c(c,e,f){var g=b.val();a.$apply(function(){d=!0,a.ngModel=e,a.selectedDataset=f}),b.val(g)}var d=!1;b.typeahead(a.datasets),b.bind("typeahead:selected",c),b.bind("typeahead:autocompleted",c),b.bind("input",function(){a.$apply(function(){d=!0;var c=b.val();a.ngModel=c})}),a.$watch("ngModel",function(c){var e;if(d)return void(d=!1);if($.isArray(a.datasets)){for(var f=0;f<a.datasets.length;f++)if(a.datasets[f].name==a.selectedDataset){e=a.datasets[f].valueKey;break}}else e=a.datasets.valueKey;c&&e&&c.hasOwnProperty(e)&&(c=c[e]),b.typeahead("setQuery",c||"")})}}}),dnnsfjQuery(document).ready(function(){dnnsfjQuery(".af-init-onchange").each(function(){dnnsfjQuery(this).val()&&dnnsfjQuery(this).change()})}),dnnsf.api.actionForm={isFormPopupOpen:{},openPopupByName:function(a,b,c){var d=$('[af-name="'+a+'"]').attr("data-moduleid");if(!dnnsf.api.actionForm.isFormPopupOpen["formPopup"+d]){dnnsf.api.actionForm.isFormPopupOpen["formPopup"+d]=!0;var e=dnnsf["af-"+d].options;e.qs=b,e.openMode,e.manualMode="Popup",checkIfInitialized(d,e,c)}},openPopupById:function(a,b,c){if(!dnnsf.api.actionForm.isFormPopupOpen["formPopup"+a]){dnnsf.api.actionForm.isFormPopupOpen["formPopup"+a]=!0;var d=dnnsf["af-"+a].options;d.qs=b,d.manualMode="Popup",d.openMode="Manual",checkIfInitialized(a,d,c)}},closePopupById:function(a){dnnsfjQuery("#dnn"+a+"popup").modal("hide")},initForm:function(a,b){var c=($("#dnn"+a+"root"),dnnsf["af-"+a].options);c.qs=b,c.openMode="Always",initForm(c)},showFormInline:function(a,b){var c=dnnsf["af-"+a].options;c.qs=b,"Manual"==c.openMode&&(c.manualMode="Inline",initForm(c)),showFormInline(c.moduleId,c.rootElementClientId,c.ctlUrl)},hideFormInline:function(a){var b=dnnsf["af-"+a].options;hideFormInline(b.moduleId,b.rootElementClientId)},showFormLoading:function(a,b){$("#dnn_ctr"+a+"_Main_pnlContent > .common-loading-container").show()},hideFormLoading:function(a,b){$("#dnn_ctr"+a+"_Main_pnlContent > .common-loading-container").hide()},showTabsProLoading:function(a,b){dnnsf.events.broadcast("loadForm",{loading:!0,moduleId:a})},openFileManager:function(a,b,c){angular.element("#"+a+">.file-manager").scope().openFileManager(b,c)},hideForm:function(a){var b=dnnsf["af-"+a].options;$("#"+b.rootElementClientId+" div").hide()}},function(){function a(a,b){return a.set(b[0],b[1]),a}function b(a,b){return a.add(b),a}function c(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function d(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function e(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function f(a,b){for(var c=null==a?0:a.length;c--&&!1!==b(a[c],c,a););return a}function g(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function h(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function i(a,b){return!!(null==a?0:a.length)&&t(a,b,0)>-1}function j(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function k(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function l(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function m(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function n(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function o(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function p(a){return a.split("")}function q(a){return a.match(Cb)||[]}function r(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function s(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function t(a,b,c){return b===b?U(a,b,c):s(a,v,c)}function u(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function v(a){return a!==a}function w(a,b){var c=null==a?0:a.length;return c?B(a,b)/c:ya}function x(a){return function(b){return null==b?_:b[a]}}function y(a){return function(b){return null==a?_:a[b]}}function z(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function A(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function B(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==_&&(c=c===_?f:c+f)}return c}function C(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function D(a,b){return k(b,function(b){return[b,a[b]]})}function E(a){return function(b){return a(b)}}function F(a,b){return k(b,function(b){return a[b]})}function G(a,b){return a.has(b)}function H(a,b){for(var c=-1,d=a.length;++c<d&&t(b,a[c],0)>-1;);return c}function I(a,b){for(var c=a.length;c--&&t(b,a[c],0)>-1;);return c}function J(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function K(a){return"\\"+nc[a]}function L(a,b){return null==a?_:a[b]}function M(a){return ec.test(a)}function N(a){return fc.test(a)}function O(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function P(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function Q(a,b){return function(c){return a(b(c))}}function R(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&g!==da||(a[c]=da,f[e++]=c)}return f}function S(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function T(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function U(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function V(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function W(a){return M(a)?Y(a):Ec(a)}function X(a){return M(a)?Z(a):p(a)}function Y(a){for(var b=cc.lastIndex=0;cc.test(a);)++b;return b}function Z(a){return a.match(cc)||[]}function $(a){return a.match(dc)||[]}var _,aa=200,ba="Expected a function",ca="__lodash_hash_undefined__",da="__lodash_placeholder__",ea=1,fa=2,ga=4,ha=1,ia=2,ja=1,ka=2,la=4,ma=8,na=16,oa=32,pa=64,qa=128,ra=256,sa=512,ta=800,ua=16,va=1/0,wa=9007199254740991,xa=1.7976931348623157e308,ya=NaN,za=4294967295,Aa=za-1,Ba=za>>>1,Ca=[["ary",qa],["bind",ja],["bindKey",ka],["curry",ma],["curryRight",na],["flip",sa],["partial",oa],["partialRight",pa],["rearg",ra]],Da="[object Arguments]",Ea="[object Array]",Fa="[object AsyncFunction]",Ga="[object Boolean]",Ha="[object Date]",Ia="[object DOMException]",Ja="[object Error]",Ka="[object Function]",La="[object GeneratorFunction]",Ma="[object Map]",Na="[object Number]",Oa="[object Null]",Pa="[object Object]",Qa="[object Proxy]",Ra="[object RegExp]",Sa="[object Set]",Ta="[object String]",Ua="[object Symbol]",Va="[object Undefined]",Wa="[object WeakMap]",Xa="[object ArrayBuffer]",Ya="[object DataView]",Za="[object Float32Array]",$a="[object Float64Array]",_a="[object Int8Array]",ab="[object Int16Array]",bb="[object Int32Array]",cb="[object Uint8Array]",db="[object Uint8ClampedArray]",eb="[object Uint16Array]",fb="[object Uint32Array]",gb=/\b__p \+= '';/g,hb=/\b(__p \+=) '' \+/g,ib=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jb=/&(?:amp|lt|gt|quot|#39);/g,kb=/[&<>"']/g,lb=RegExp(jb.source),mb=RegExp(kb.source),nb=/<%-([\s\S]+?)%>/g,ob=/<%([\s\S]+?)%>/g,pb=/<%=([\s\S]+?)%>/g,qb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rb=/^\w*$/,sb=/^\./,tb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ub=/[\\^$.*+?()[\]{}|]/g,vb=RegExp(ub.source),wb=/^\s+|\s+$/g,xb=/^\s+/,yb=/\s+$/,zb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ab=/\{\n\/\* \[wrapped with (.+)\] \*/,Bb=/,? & /,Cb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Db=/\\(\\)?/g,Eb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fb=/\w*$/,Gb=/^[-+]0x[0-9a-f]+$/i,Hb=/^0b[01]+$/i,Ib=/^\[object .+?Constructor\]$/,Jb=/^0o[0-7]+$/i,Kb=/^(?:0|[1-9]\d*)$/,Lb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mb=/($^)/,Nb=/['\n\r\u2028\u2029\\]/g,Ob="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Pb="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qb="["+Pb+"]",Rb="["+Ob+"]",Sb="[a-z\\xdf-\\xf6\\xf8-\\xff]",Tb="\\ud83c[\\udffb-\\udfff]",Ub="(?:\\ud83c[\\udde6-\\uddff]){2}",Vb="[\\ud800-\\udbff][\\udc00-\\udfff]",Wb="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Xb="(?:"+Sb+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",Yb="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Zb="[\\ufe0e\\ufe0f]?"+Yb+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Ub,Vb].join("|")+")[\\ufe0e\\ufe0f]?"+Yb+")*",$b="(?:"+["[\\u2700-\\u27bf]",Ub,Vb].join("|")+")"+Zb,_b="(?:"+["[^\\ud800-\\udfff]"+Rb+"?",Rb,Ub,Vb,"[\\ud800-\\udfff]"].join("|")+")",ac=RegExp("['’]","g"),bc=RegExp(Rb,"g"),cc=RegExp(Tb+"(?="+Tb+")|"+_b+Zb,"g"),dc=RegExp([Wb+"?"+Sb+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Qb,Wb,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Qb,Wb+Xb,"$"].join("|")+")",Wb+"?"+Xb+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Wb+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",$b].join("|"),"g"),ec=RegExp("[\\u200d\\ud800-\\udfff"+Ob+"\\ufe0e\\ufe0f]"),fc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hc=-1,ic={};ic[Za]=ic[$a]=ic[_a]=ic[ab]=ic[bb]=ic[cb]=ic[db]=ic[eb]=ic[fb]=!0,ic[Da]=ic[Ea]=ic[Xa]=ic[Ga]=ic[Ya]=ic[Ha]=ic[Ja]=ic[Ka]=ic[Ma]=ic[Na]=ic[Pa]=ic[Ra]=ic[Sa]=ic[Ta]=ic[Wa]=!1;var jc={};jc[Da]=jc[Ea]=jc[Xa]=jc[Ya]=jc[Ga]=jc[Ha]=jc[Za]=jc[$a]=jc[_a]=jc[ab]=jc[bb]=jc[Ma]=jc[Na]=jc[Pa]=jc[Ra]=jc[Sa]=jc[Ta]=jc[Ua]=jc[cb]=jc[db]=jc[eb]=jc[fb]=!0,jc[Ja]=jc[Ka]=jc[Wa]=!1;var kc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oc=parseFloat,pc=parseInt,qc="object"==typeof global&&global&&global.Object===Object&&global,rc="object"==typeof self&&self&&self.Object===Object&&self,sc=qc||rc||Function("return this")(),tc="object"==typeof exports&&exports&&!exports.nodeType&&exports,uc=tc&&"object"==typeof module&&module&&!module.nodeType&&module,vc=uc&&uc.exports===tc,wc=vc&&qc.process,xc=function(){try{return wc&&wc.binding&&wc.binding("util")}catch(a){}}(),yc=xc&&xc.isArrayBuffer,zc=xc&&xc.isDate,Ac=xc&&xc.isMap,Bc=xc&&xc.isRegExp,Cc=xc&&xc.isSet,Dc=xc&&xc.isTypedArray,Ec=x("length"),Fc=y(kc),Gc=y(lc),Hc=y(mc),Ic=function p(y){function U(a){if(Zf(a)&&!Oi(a)&&!(a instanceof Cb)){if(a instanceof Z)return a;if(Og.call(a,"__wrapped__"))return rf(a)}return new Z(a)}function Y(){}function Z(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=_}function Cb(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=za,this.__views__=[]}function Ob(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Pb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Qb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Rb(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new Qb;++b<c;)this.add(a[b])}function Sb(a){var b=this.__data__=new Pb(a);this.size=b.size}function Tb(a,b){var c=Oi(a),d=!c&&Ni(a),e=!c&&!d&&Qi(a),f=!c&&!d&&!e&&Vi(a),g=c||d||e||f,h=g?C(a.length,Hg):[],i=h.length;for(var j in a)!b&&!Og.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Xe(j,i))||h.push(j);return h}function Ub(a){var b=a.length;return b?a[od(0,b-1)]:_}function Vb(a,b){return nf($d(a),fc(b,0,a.length))}function Wb(a){return nf($d(a))}function Xb(a,b,c){(c===_||Rf(a[b],c))&&(c!==_||b in a)||dc(a,b,c)}function Yb(a,b,c){var d=a[b];Og.call(a,b)&&Rf(d,c)&&(c!==_||b in a)||dc(a,b,c)}function Zb(a,b){for(var c=a.length;c--;)if(Rf(a[c][0],b))return c;return-1}function $b(a,b,c,d){return Mh(a,function(a,e,f){b(d,a,c(a),f)}),d}function _b(a,b){return a&&_d(b,lg(b),a)}function cc(a,b){return a&&_d(b,mg(b),a)}function dc(a,b,c){"__proto__"==b&&eh?eh(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function ec(a,b){for(var c=-1,d=b.length,e=Ag(d),f=null==a;++c<d;)e[c]=f?_:jg(a,b[c]);return e}function fc(a,b,c){return a===a&&(c!==_&&(a=a<=c?a:c),b!==_&&(a=a>=b?a:b)),a}function kc(a,b,c,d,f,g){var h,i=b&ea,j=b&fa,k=b&ga;if(c&&(h=f?c(a,d,f,g):c(a)),h!==_)return h;if(!Yf(a))return a;var l=Oi(a);if(l){if(h=Se(a),!i)return $d(a,h)}else{var m=Yh(a),n=m==Ka||m==La;if(Qi(a))return Od(a,i);if(m==Pa||m==Da||n&&!f){if(h=j||n?{}:Te(a),!i)return j?be(a,cc(h,a)):ae(a,_b(h,a))}else{if(!jc[m])return f?a:{};h=Ue(a,m,kc,i)}}g||(g=new Sb);var o=g.get(a);if(o)return o;g.set(a,h);var p=k?j?He:Ge:j?mg:lg,q=l?_:p(a);return e(q||a,function(d,e){q&&(d=a[e=d]),Yb(h,e,kc(d,b,c,e,a,g))}),h}function lc(a){var b=lg(a);return function(c){return mc(c,a,b)}}function mc(a,b,c){var d=c.length;if(null==a)return!d;for(a=Fg(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===_&&!(e in a)||!f(g))return!1}return!0}function nc(a,b,c){if("function"!=typeof a)throw new Ig(ba);return _h(function(){a.apply(_,c)},b)}function qc(a,b,c,d){var e=-1,f=i,g=!0,h=a.length,l=[],m=b.length;if(!h)return l;c&&(b=k(b,E(c))),d?(f=j,g=!1):b.length>=aa&&(f=G,g=!1,b=new Rb(b));a:for(;++e<h;){var n=a[e],o=null==c?n:c(n);if(n=d||0!==n?n:0,g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;l.push(n)}else f(b,o,d)||l.push(n)}return l}function rc(a,b){var c=!0;return Mh(a,function(a,d,e){return c=!!b(a,d,e)}),c}function tc(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===_?g===g&&!bg(g):c(g,h)))var h=g,i=f}return i}function uc(a,b,c,d){var e=a.length;for((c=eg(c))<0&&(c=-c>e?0:e+c),(d=d===_||d>e?e:eg(d))<0&&(d+=e),d=c>d?0:fg(d);c<d;)a[c++]=b;return a}function wc(a,b){var c=[];return Mh(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function xc(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=We),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?xc(h,b-1,c,d,e):l(e,h):d||(e[e.length]=h)}return e}function Ec(a,b){return a&&Oh(a,b,lg)}function Jc(a,b){return a&&Ph(a,b,lg)}function Kc(a,b){return h(b,function(b){return Vf(a[b])})}function Lc(a,b){for(var c=0,d=(b=Md(b,a)).length;null!=a&&c<d;)a=a[of(b[c++])];return c&&c==d?a:_}function Mc(a,b,c){var d=b(a);return Oi(a)?d:l(d,c(a))}function Nc(a){return null==a?a===_?Va:Oa:dh&&dh in Fg(a)?Oe(a):gf(a)}function Oc(a,b){return a>b}function Pc(a,b){return null!=a&&Og.call(a,b)}function Qc(a,b){return null!=a&&b in Fg(a)}function Rc(a,b,c){return a>=qh(b,c)&&a<ph(b,c)}function Sc(a,b,c){for(var d=c?j:i,e=a[0].length,f=a.length,g=f,h=Ag(f),l=1/0,m=[];g--;){var n=a[g];g&&b&&(n=k(n,E(b))),l=qh(n.length,l),h[g]=!c&&(b||e>=120&&n.length>=120)?new Rb(g&&n):_}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&m.length<l;){var q=n[o],r=b?b(q):q;if(q=c||0!==q?q:0,!(p?G(p,r):d(m,r,c))){for(g=f;--g;){var s=h[g];if(!(s?G(s,r):d(a[g],r,c)))continue a}p&&p.push(r),m.push(q)}}return m}function Tc(a,b,c,d){return Ec(a,function(a,e,f){b(d,c(a),e,f)}),d}function Uc(a,b,d){var e=null==(a=jf(a,b=Md(b,a)))?a:a[of(wf(b))];return null==e?_:c(e,a,d)}function Vc(a){return Zf(a)&&Nc(a)==Da}function Wc(a,b,c,d,e){return a===b||(null==a||null==b||!Zf(a)&&!Zf(b)?a!==a&&b!==b:Xc(a,b,c,d,Wc,e))}function Xc(a,b,c,d,e,f){var g=Oi(a),h=Oi(b),i=g?Ea:Yh(a),j=h?Ea:Yh(b),k=(i=i==Da?Pa:i)==Pa,l=(j=j==Da?Pa:j)==Pa,m=i==j;if(m&&Qi(a)){if(!Qi(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new Sb),g||Vi(a)?Ce(a,b,c,d,e,f):De(a,b,i,c,d,e,f);if(!(c&ha)){var n=k&&Og.call(a,"__wrapped__"),o=l&&Og.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new Sb),e(p,q,c,d,f)}}return!!m&&(f||(f=new Sb),Ee(a,b,c,d,e,f))}function Yc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Fg(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var i=(h=c[e])[0],j=a[i],k=h[1];if(g&&h[2]){if(j===_&&!(i in a))return!1}else{var l=new Sb;if(d)var m=d(j,k,i,a,b,l);if(!(m===_?Wc(k,j,ha|ia,d,l):m))return!1}}return!0}function Zc(a){return!(!Yf(a)||af(a))&&(Vf(a)?Ug:Ib).test(pf(a))}function $c(a){return"function"==typeof a?a:null==a?tg:"object"==typeof a?Oi(a)?ed(a[0],a[1]):dd(a):xg(a)}function _c(a){if(!bf(a))return oh(a);var b=[];for(var c in Fg(a))Og.call(a,c)&&"constructor"!=c&&b.push(c);return b}function ad(a){if(!Yf(a))return ff(a);var b=bf(a),c=[];for(var d in a)("constructor"!=d||!b&&Og.call(a,d))&&c.push(d);return c}function bd(a,b){return a<b}function cd(a,b){var c=-1,d=Sf(a)?Ag(a.length):[];return Mh(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function dd(a){var b=Me(a);return 1==b.length&&b[0][2]?df(b[0][0],b[0][1]):function(c){return c===a||Yc(c,a,b)}}function ed(a,b){return Ze(a)&&cf(b)?df(of(a),b):function(c){var d=jg(c,a);return d===_&&d===b?kg(c,a):Wc(b,d,ha|ia)}}function fd(a,b,c,d,e){a!==b&&Oh(b,function(f,g){if(Yf(f))e||(e=new Sb),gd(a,b,g,c,fd,d,e);else{var h=d?d(a[g],f,g+"",a,b,e):_;h===_&&(h=f),Xb(a,g,h)}},mg)}function gd(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)Xb(a,c,j);else{var k=f?f(h,i,c+"",a,b,g):_,l=k===_;if(l){var m=Oi(i),n=!m&&Qi(i),o=!m&&!n&&Vi(i);k=i,m||n||o?Oi(h)?k=h:Tf(h)?k=$d(h):n?(l=!1,k=Od(i,!0)):o?(l=!1,k=Vd(i,!0)):k=[]:_f(i)||Ni(i)?(k=h,Ni(h)?k=hg(h):(!Yf(h)||d&&Vf(h))&&(k=Te(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),Xb(a,c,k)}}function hd(a,b){var c=a.length;if(c)return b+=b<0?c:0,Xe(b,c)?a[b]:_}function id(a,b,c){var d=-1;return b=k(b.length?b:[tg],E(Ke())),A(cd(a,function(a,c,e){return{criteria:k(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return Xd(a,b,c)})}function jd(a,b){return kd(a,b,function(b,c){return kg(a,c)})}function kd(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=Lc(a,g);c(h,g)&&ud(f,Md(g,a),h)}return f}function ld(a){return function(b){return Lc(b,a)}}function md(a,b,c,d){var e=d?u:t,f=-1,g=b.length,h=a;for(a===b&&(b=$d(b)),c&&(h=k(a,E(c)));++f<g;)for(var i=0,j=b[f],l=c?c(j):j;(i=e(h,l,i,d))>-1;)h!==a&&ah.call(h,i,1),ah.call(a,i,1);return a}function nd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;Xe(e)?ah.call(a,e,1):Ed(a,e)}}return a}function od(a,b){return a+jh(th()*(b-a+1))}function pd(a,b,c,d){for(var e=-1,f=ph(ih((b-a)/(c||1)),0),g=Ag(f);f--;)g[d?f:++e]=a,a+=c;return g}function qd(a,b){var c="";if(!a||b<1||b>wa)return c;do{b%2&&(c+=a),(b=jh(b/2))&&(a+=a)}while(b);return c}function rd(a,b){return ai(hf(a,b,tg),a+"")}function sd(a){return Ub(og(a))}function td(a,b){var c=og(a);return nf(c,fc(b,0,c.length))}function ud(a,b,c,d){if(!Yf(a))return a;for(var e=-1,f=(b=Md(b,a)).length,g=f-1,h=a;null!=h&&++e<f;){var i=of(b[e]),j=c;if(e!=g){var k=h[i];(j=d?d(k,i,h):_)===_&&(j=Yf(k)?k:Xe(b[e+1])?[]:{})}Yb(h,i,j),h=h[i]}return a}function vd(a){return nf(og(a))}function wd(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Ag(e);++d<e;)f[d]=a[d+b];return f}function xd(a,b){var c;return Mh(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function yd(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&e<=Ba){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!bg(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return zd(a,b,tg,c)}
function zd(a,b,c,d){b=c(b);for(var e=0,f=null==a?0:a.length,g=b!==b,h=null===b,i=bg(b),j=b===_;e<f;){var k=jh((e+f)/2),l=c(a[k]),m=l!==_,n=null===l,o=l===l,p=bg(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):!n&&!p&&(d?l<=b:l<b);q?e=k+1:f=k}return qh(f,Aa)}function Ad(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Rf(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function Bd(a){return"number"==typeof a?a:bg(a)?ya:+a}function Cd(a){if("string"==typeof a)return a;if(Oi(a))return k(a,Cd)+"";if(bg(a))return Kh?Kh.call(a):"";var b=a+"";return"0"==b&&1/a==-va?"-0":b}function Dd(a,b,c){var d=-1,e=i,f=a.length,g=!0,h=[],k=h;if(c)g=!1,e=j;else if(f>=aa){var l=b?null:Uh(a);if(l)return S(l);g=!1,e=G,k=new Rb}else k=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(m=c||0!==m?m:0,g&&n===n){for(var o=k.length;o--;)if(k[o]===n)continue a;b&&k.push(n),h.push(m)}else e(k,n,c)||(k!==h&&k.push(n),h.push(m))}return h}function Ed(a,b){return b=Md(b,a),null==(a=jf(a,b))||delete a[of(wf(b))]}function Fd(a,b,c,d){return ud(a,b,c(Lc(a,b)),d)}function Gd(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?wd(a,d?0:f,d?f+1:e):wd(a,d?f+1:0,d?e:f)}function Hd(a,b){var c=a;return c instanceof Cb&&(c=c.value()),m(b,function(a,b){return b.func.apply(b.thisArg,l([a],b.args))},c)}function Id(a,b,c){var d=a.length;if(d<2)return d?Dd(a[0]):[];for(var e=-1,f=Ag(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=qc(f[e]||g,a[h],b,c));return Dd(xc(f,1),b,c)}function Jd(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=d<f?b[d]:_;c(g,a[d],h)}return g}function Kd(a){return Tf(a)?a:[]}function Ld(a){return"function"==typeof a?a:tg}function Md(a,b){return Oi(a)?a:Ze(a,b)?[a]:bi(ig(a))}function Nd(a,b,c){var d=a.length;return c=c===_?d:c,!b&&c>=d?a:wd(a,b,c)}function Od(a,b){if(b)return a.slice();var c=a.length,d=Yg?Yg(c):new a.constructor(c);return a.copy(d),d}function Pd(a){var b=new a.constructor(a.byteLength);return new Xg(b).set(new Xg(a)),b}function Qd(a,b){var c=b?Pd(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Rd(b,c,d){return m(c?d(P(b),ea):P(b),a,new b.constructor)}function Sd(a){var b=new a.constructor(a.source,Fb.exec(a));return b.lastIndex=a.lastIndex,b}function Td(a,c,d){return m(c?d(S(a),ea):S(a),b,new a.constructor)}function Ud(a){return Jh?Fg(Jh.call(a)):{}}function Vd(a,b){var c=b?Pd(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function Wd(a,b){if(a!==b){var c=a!==_,d=null===a,e=a===a,f=bg(a),g=b!==_,h=null===b,i=b===b,j=bg(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Xd(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=Wd(e[d],f[d]);if(i)return d>=h?i:i*("desc"==c[d]?-1:1)}return a.index-b.index}function Yd(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=ph(f-g,0),k=Ag(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Zd(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=ph(f-h,0),l=Ag(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function $d(a,b){var c=-1,d=a.length;for(b||(b=Ag(d));++c<d;)b[c]=a[c];return b}function _d(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):_;i===_&&(i=a[h]),e?dc(c,h,i):Yb(c,h,i)}return c}function ae(a,b){return _d(a,Wh(a),b)}function be(a,b){return _d(a,Xh(a),b)}function ce(a,b){return function(c,e){var f=Oi(c)?d:$b,g=b?b():{};return f(c,a,Ke(e,2),g)}}function de(a){return rd(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:_,g=e>2?c[2]:_;for(f=a.length>3&&"function"==typeof f?(e--,f):_,g&&Ye(c[0],c[1],g)&&(f=e<3?_:f,e=1),b=Fg(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function ee(a,b){return function(c,d){if(null==c)return c;if(!Sf(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Fg(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function fe(a){return function(b,c,d){for(var e=-1,f=Fg(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function ge(a,b,c){function d(){return(this&&this!==sc&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&ja,f=je(a);return d}function he(a){return function(b){var c=M(b=ig(b))?X(b):_,d=c?c[0]:b.charAt(0),e=c?Nd(c,1).join(""):b.slice(1);return d[a]()+e}}function ie(a){return function(b){return m(rg(qg(b).replace(ac,"")),a,"")}}function je(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Lh(a.prototype),d=a.apply(c,b);return Yf(d)?d:c}}function ke(a,b,d){function e(){for(var g=arguments.length,h=Ag(g),i=g,j=Je(e);i--;)h[i]=arguments[i];var k=g<3&&h[0]!==j&&h[g-1]!==j?[]:R(h,j);return(g-=k.length)<d?ve(a,b,ne,e.placeholder,_,h,k,_,_,d-g):c(this&&this!==sc&&this instanceof e?f:a,this,h)}var f=je(a);return e}function le(a){return function(b,c,d){var e=Fg(b);if(!Sf(b)){var f=Ke(c,3);b=lg(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:_}}function me(a){return Fe(function(b){var c=b.length,d=c,e=Z.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Ig(ba);if(e&&!g&&"wrapper"==Ie(f))var g=new Z([],!0)}for(d=g?d:c;++d<c;){var h=Ie(f=b[d]),i="wrapper"==h?Vh(f):_;g=i&&_e(i[0])&&i[1]==(qa|ma|oa|ra)&&!i[4].length&&1==i[9]?g[Ie(i[0])].apply(g,i[3]):1==f.length&&_e(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&Oi(d))return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function ne(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=Ag(r),t=r;t--;)s[t]=arguments[t];if(o)var u=Je(k),v=J(s,u);if(d&&(s=Yd(s,d,e,o)),f&&(s=Zd(s,f,g,o)),r-=v,o&&r<j){var w=R(s,u);return ve(a,b,ne,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=kf(s,h):p&&r>1&&s.reverse(),l&&i<r&&(s.length=i),this&&this!==sc&&this instanceof k&&(y=q||je(y)),y.apply(x,s)}var l=b&qa,m=b&ja,n=b&ka,o=b&(ma|na),p=b&sa,q=n?_:je(a);return k}function oe(a,b){return function(c,d){return Tc(c,a,b(d),{})}}function pe(a,b){return function(c,d){var e;if(c===_&&d===_)return b;if(c!==_&&(e=c),d!==_){if(e===_)return d;"string"==typeof c||"string"==typeof d?(c=Cd(c),d=Cd(d)):(c=Bd(c),d=Bd(d)),e=a(c,d)}return e}}function qe(a){return Fe(function(b){return b=k(b,E(Ke())),rd(function(d){var e=this;return a(b,function(a){return c(a,e,d)})})})}function re(a,b){var c=(b=b===_?" ":Cd(b)).length;if(c<2)return c?qd(b,a):b;var d=qd(b,ih(a/W(b)));return M(b)?Nd(X(d),0,a).join(""):d.slice(0,a)}function se(a,b,d,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Ag(k+i),m=this&&this!==sc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return c(m,g?d:this,l)}var g=b&ja,h=je(a);return f}function te(a){return function(b,c,d){return d&&"number"!=typeof d&&Ye(b,c,d)&&(c=d=_),b=dg(b),c===_?(c=b,b=0):c=dg(c),d=d===_?b<c?1:-1:dg(d),pd(b,c,d,a)}}function ue(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=gg(b),c=gg(c)),a(b,c)}}function ve(a,b,c,d,e,f,g,h,i,j){var k=b&ma,l=k?g:_,m=k?_:g,n=k?f:_,o=k?_:f;b|=k?oa:pa,(b&=~(k?pa:oa))&la||(b&=~(ja|ka));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(_,p);return _e(a)&&$h(q,p),q.placeholder=d,lf(q,a,b)}function we(a){var b=Eg[a];return function(a,c){if(a=gg(a),c=null==c?0:qh(eg(c),292)){var d=(ig(a)+"e").split("e");return+((d=(ig(b(d[0]+"e"+(+d[1]+c)))+"e").split("e"))[0]+"e"+(+d[1]-c))}return b(a)}}function xe(a){return function(b){var c=Yh(b);return c==Ma?P(b):c==Sa?T(b):D(b,a(b))}}function ye(a,b,c,d,e,f,g,h){var i=b&ka;if(!i&&"function"!=typeof a)throw new Ig(ba);var j=d?d.length:0;if(j||(b&=~(oa|pa),d=e=_),g=g===_?g:ph(eg(g),0),h=h===_?h:eg(h),j-=e?e.length:0,b&pa){var k=d,l=e;d=e=_}var m=i?_:Vh(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&ef(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],!(h=n[9]=n[9]===_?i?0:a.length:ph(n[9]-j,0))&&b&(ma|na)&&(b&=~(ma|na)),b&&b!=ja)o=b==ma||b==na?ke(a,b,h):b!=oa&&b!=(ja|oa)||e.length?ne.apply(_,n):se(a,b,c,d);else var o=ge(a,b,c);return lf((m?Qh:$h)(o,n),a,b)}function ze(a,b,c,d){return a===_||Rf(a,Lg[c])&&!Og.call(d,c)?b:a}function Ae(a,b,c,d,e,f){return Yf(a)&&Yf(b)&&(f.set(b,a),fd(a,b,_,Ae,f),f.delete(b)),a}function Be(a){return _f(a)?_:a}function Ce(a,b,c,d,e,f){var g=c&ha,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&ia?new Rb:_;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],p=b[k];if(d)var q=g?d(p,n,k,b,a,f):d(n,p,k,a,b,f);if(q!==_){if(q)continue;l=!1;break}if(m){if(!o(b,function(a,b){if(!G(m,b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(n!==p&&!e(n,p,c,d,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function De(a,b,c,d,e,f,g){switch(c){case Ya:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Xa:return!(a.byteLength!=b.byteLength||!f(new Xg(a),new Xg(b)));case Ga:case Ha:case Na:return Rf(+a,+b);case Ja:return a.name==b.name&&a.message==b.message;case Ra:case Ta:return a==b+"";case Ma:var h=P;case Sa:var i=d&ha;if(h||(h=S),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=ia,g.set(a,b);var k=Ce(h(a),h(b),d,e,f,g);return g.delete(a),k;case Ua:if(Jh)return Jh.call(a)==Jh.call(b)}return!1}function Ee(a,b,c,d,e,f){var g=c&ha,h=Ge(a),i=h.length;if(i!=Ge(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:Og.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){var o=a[k=h[j]],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(q===_?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}function Fe(a){return ai(hf(a,_,uf),a+"")}function Ge(a){return Mc(a,lg,Wh)}function He(a){return Mc(a,mg,Xh)}function Ie(a){for(var b=a.name+"",c=Ch[b],d=Og.call(Ch,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Je(a){return(Og.call(U,"placeholder")?U:a).placeholder}function Ke(){var a=U.iteratee||ug;return a=a===ug?$c:a,arguments.length?a(arguments[0],arguments[1]):a}function Le(a,b){var c=a.__data__;return $e(b)?c["string"==typeof b?"string":"hash"]:c.map}function Me(a){for(var b=lg(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,cf(e)]}return b}function Ne(a,b){var c=L(a,b);return Zc(c)?c:_}function Oe(a){var b=Og.call(a,dh),c=a[dh];try{a[dh]=_;var d=!0}catch(a){}var e=Rg.call(a);return d&&(b?a[dh]=c:delete a[dh]),e}function Pe(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=qh(b,a+g);break;case"takeRight":a=ph(a,b-g)}}return{start:a,end:b}}function Qe(a){var b=a.match(Ab);return b?b[1].split(Bb):[]}function Re(a,b,c){for(var d=-1,e=(b=Md(b,a)).length,f=!1;++d<e;){var g=of(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:!!(e=null==a?0:a.length)&&Xf(e)&&Xe(g,e)&&(Oi(a)||Ni(a))}function Se(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&Og.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Te(a){return"function"!=typeof a.constructor||bf(a)?{}:Lh(Zg(a))}function Ue(a,b,c,d){var e=a.constructor;switch(b){case Xa:return Pd(a);case Ga:case Ha:return new e(+a);case Ya:return Qd(a,d);case Za:case $a:case _a:case ab:case bb:case cb:case db:case eb:case fb:return Vd(a,d);case Ma:return Rd(a,d,c);case Na:case Ta:return new e(a);case Ra:return Sd(a);case Sa:return Td(a,d,c);case Ua:return Ud(a)}}function Ve(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(zb,"{\n/* [wrapped with "+b+"] */\n")}function We(a){return Oi(a)||Ni(a)||!!(bh&&a&&a[bh])}function Xe(a,b){return!!(b=null==b?wa:b)&&("number"==typeof a||Kb.test(a))&&a>-1&&a%1==0&&a<b}function Ye(a,b,c){if(!Yf(c))return!1;var d=typeof b;return!!("number"==d?Sf(c)&&Xe(b,c.length):"string"==d&&b in c)&&Rf(c[b],a)}function Ze(a,b){if(Oi(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!bg(a))||rb.test(a)||!qb.test(a)||null!=b&&a in Fg(b)}function $e(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function _e(a){var b=Ie(a),c=U[b];if("function"!=typeof c||!(b in Cb.prototype))return!1;if(a===c)return!0;var d=Vh(c);return!!d&&a===d[0]}function af(a){return!!Qg&&Qg in a}function bf(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Lg)}function cf(a){return a===a&&!Yf(a)}function df(a,b){return function(c){return null!=c&&c[a]===b&&(b!==_||a in Fg(c))}}function ef(a,b){var c=a[1],d=b[1],e=c|d,f=e<(ja|ka|qa),g=d==qa&&c==ma||d==qa&&c==ra&&a[7].length<=b[8]||d==(qa|ra)&&b[7].length<=b[8]&&c==ma;if(!f&&!g)return a;d&ja&&(a[2]=b[2],e|=c&ja?0:la);var h=b[3];if(h){var i=a[3];a[3]=i?Yd(i,h,b[4]):h,a[4]=i?R(a[3],da):b[4]}return(h=b[5])&&(i=a[5],a[5]=i?Zd(i,h,b[6]):h,a[6]=i?R(a[5],da):b[6]),(h=b[7])&&(a[7]=h),d&qa&&(a[8]=null==a[8]?b[8]:qh(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ff(a){var b=[];if(null!=a)for(var c in Fg(a))b.push(c);return b}function gf(a){return Rg.call(a)}function hf(a,b,d){return b=ph(b===_?a.length-1:b,0),function(){for(var e=arguments,f=-1,g=ph(e.length-b,0),h=Ag(g);++f<g;)h[f]=e[b+f];f=-1;for(var i=Ag(b+1);++f<b;)i[f]=e[f];return i[b]=d(h),c(a,this,i)}}function jf(a,b){return b.length<2?a:Lc(a,wd(b,0,-1))}function kf(a,b){for(var c=a.length,d=qh(b.length,c),e=$d(a);d--;){var f=b[d];a[d]=Xe(f,c)?e[f]:_}return a}function lf(a,b,c){var d=b+"";return ai(a,Ve(d,qf(Qe(d),c)))}function mf(a){var b=0,c=0;return function(){var d=rh(),e=ua-(d-c);if(c=d,e>0){if(++b>=ta)return arguments[0]}else b=0;return a.apply(_,arguments)}}function nf(a,b){var c=-1,d=a.length,e=d-1;for(b=b===_?d:b;++c<b;){var f=od(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function of(a){if("string"==typeof a||bg(a))return a;var b=a+"";return"0"==b&&1/a==-va?"-0":b}function pf(a){if(null!=a){try{return Ng.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function qf(a,b){return e(Ca,function(c){var d="_."+c[0];b&c[1]&&!i(a,d)&&a.push(d)}),a.sort()}function rf(a){if(a instanceof Cb)return a.clone();var b=new Z(a.__wrapped__,a.__chain__);return b.__actions__=$d(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function sf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:eg(c);return e<0&&(e=ph(d+e,0)),s(a,Ke(b,3),e)}function tf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==_&&(e=eg(c),e=c<0?ph(d+e,0):qh(e,d-1)),s(a,Ke(b,3),e,!0)}function uf(a){return(null==a?0:a.length)?xc(a,1):[]}function vf(a){return a&&a.length?a[0]:_}function wf(a){var b=null==a?0:a.length;return b?a[b-1]:_}function xf(a,b){return a&&a.length&&b&&b.length?md(a,b):a}function yf(a){return null==a?a:uh.call(a)}function zf(a){if(!a||!a.length)return[];var b=0;return a=h(a,function(a){if(Tf(a))return b=ph(a.length,b),!0}),C(b,function(b){return k(a,x(b))})}function Af(a,b){if(!a||!a.length)return[];var d=zf(a);return null==b?d:k(d,function(a){return c(b,_,a)})}function Bf(a){var b=U(a);return b.__chain__=!0,b}function Cf(a,b){return b(a)}function Df(a,b,c){var d=Oi(a)?g:rc;return c&&Ye(a,b,c)&&(b=_),d(a,Ke(b,3))}function Ef(a,b){return(Oi(a)?h:wc)(a,Ke(b,3))}function Ff(a,b){return(Oi(a)?e:Mh)(a,Ke(b,3))}function Gf(a,b){return(Oi(a)?f:Nh)(a,Ke(b,3))}function Hf(a,b,c,d){a=Sf(a)?a:og(a),c=c&&!d?eg(c):0;var e=a.length;return c<0&&(c=ph(e+c,0)),ag(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&t(a,b,c)>-1}function If(a,b){return(Oi(a)?k:cd)(a,Ke(b,3))}function Jf(a,b,c){var d=Oi(a)?o:xd;return c&&Ye(a,b,c)&&(b=_),d(a,Ke(b,3))}function Kf(a,b,c){return b=c?_:b,b=a&&null==b?a.length:b,ye(a,qa,_,_,_,_,b)}function Lf(a,b){var c;if("function"!=typeof b)throw new Ig(ba);return a=eg(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=_),c}}function Mf(a,b,c){var d=ye(a,ma,_,_,_,_,_,b=c?_:b);return d.placeholder=Mf.placeholder,d}function Nf(a,b,c){var d=ye(a,na,_,_,_,_,_,b=c?_:b);return d.placeholder=Nf.placeholder,d}function Of(a,b,c){function d(b){var c=k,d=l;return k=l=_,q=b,n=a.apply(d,c)}function e(a){return q=a,o=_h(h,b),r?d(a):n}function f(a){var c=a-q,d=b-(a-p);return s?qh(d,m-c):d}function g(a){var c=a-p,d=a-q;return p===_||c>=b||c<0||s&&d>=m}function h(){var a=Ci();if(g(a))return i(a);o=_h(h,f(a))}function i(a){return o=_,t&&k?d(a):(k=l=_,n)}function j(){var a=Ci(),c=g(a);if(k=arguments,l=this,p=a,c){if(o===_)return e(p);if(s)return o=_h(h,b),d(p)}return o===_&&(o=_h(h,b)),n}var k,l,m,n,o,p,q=0,r=!1,s=!1,t=!0;if("function"!=typeof a)throw new Ig(ba);return b=gg(b)||0,Yf(c)&&(r=!!c.leading,m=(s="maxWait"in c)?ph(gg(c.maxWait)||0,b):m,t="trailing"in c?!!c.trailing:t),j.cancel=function(){o!==_&&Th(o),q=0,k=p=l=o=_},j.flush=function(){return o===_?n:i(Ci())},j}function Pf(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new Ig(ba);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(Pf.Cache||Qb),c}function Qf(a){if("function"!=typeof a)throw new Ig(ba);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Rf(a,b){return a===b||a!==a&&b!==b}function Sf(a){return null!=a&&Xf(a.length)&&!Vf(a)}function Tf(a){return Zf(a)&&Sf(a)}function Uf(a){if(!Zf(a))return!1;var b=Nc(a);return b==Ja||b==Ia||"string"==typeof a.message&&"string"==typeof a.name&&!_f(a)}function Vf(a){if(!Yf(a))return!1;var b=Nc(a);return b==Ka||b==La||b==Fa||b==Qa}function Wf(a){return"number"==typeof a&&a==eg(a)}function Xf(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=wa}function Yf(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function Zf(a){return null!=a&&"object"==typeof a}function $f(a){return"number"==typeof a||Zf(a)&&Nc(a)==Na}function _f(a){if(!Zf(a)||Nc(a)!=Pa)return!1;var b=Zg(a);if(null===b)return!0;var c=Og.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&Ng.call(c)==Sg}function ag(a){return"string"==typeof a||!Oi(a)&&Zf(a)&&Nc(a)==Ta}function bg(a){return"symbol"==typeof a||Zf(a)&&Nc(a)==Ua}function cg(a){if(!a)return[];if(Sf(a))return ag(a)?X(a):$d(a);if(ch&&a[ch])return O(a[ch]());var b=Yh(a);return(b==Ma?P:b==Sa?S:og)(a)}function dg(a){return a?(a=gg(a),a===va||a===-va?(a<0?-1:1)*xa:a===a?a:0):0===a?a:0}function eg(a){var b=dg(a),c=b%1;return b===b?c?b-c:b:0}function fg(a){return a?fc(eg(a),0,za):0}function gg(a){if("number"==typeof a)return a;if(bg(a))return ya;if(Yf(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=Yf(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(wb,"");var c=Hb.test(a);return c||Jb.test(a)?pc(a.slice(2),c?2:8):Gb.test(a)?ya:+a}function hg(a){return _d(a,mg(a))}function ig(a){return null==a?"":Cd(a)}function jg(a,b,c){var d=null==a?_:Lc(a,b);return d===_?c:d}function kg(a,b){return null!=a&&Re(a,b,Qc)}function lg(a){return Sf(a)?Tb(a):_c(a)}function mg(a){return Sf(a)?Tb(a,!0):ad(a)}function ng(a,b){if(null==a)return{};var c=k(He(a),function(a){return[a]});return b=Ke(b),kd(a,c,function(a,c){return b(a,c[0])})}function og(a){return null==a?[]:F(a,lg(a))}function pg(a){return tj(ig(a).toLowerCase())}function qg(a){return(a=ig(a))&&a.replace(Lb,Fc).replace(bc,"")}function rg(a,b,c){return a=ig(a),b=c?_:b,b===_?N(a)?$(a):q(a):a.match(b)||[]}function sg(a){return function(){return a}}function tg(a){return a}function ug(a){return $c("function"==typeof a?a:kc(a,ea))}function vg(a,b,c){var d=lg(b),f=Kc(b,d);null!=c||Yf(b)&&(f.length||!d.length)||(c=b,b=a,a=this,f=Kc(b,lg(b)));var g=!(Yf(c)&&"chain"in c&&!c.chain),h=Vf(a);return e(f,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__);return(c.__actions__=$d(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,l([this.value()],arguments))})}),a}function wg(){}function xg(a){return Ze(a)?x(of(a)):ld(a)}function yg(){return[]}function zg(){return!1}var Ag=(y=null==y?sc:Ic.defaults(sc.Object(),y,Ic.pick(sc,gc))).Array,Bg=y.Date,Cg=y.Error,Dg=y.Function,Eg=y.Math,Fg=y.Object,Gg=y.RegExp,Hg=y.String,Ig=y.TypeError,Jg=Ag.prototype,Kg=Dg.prototype,Lg=Fg.prototype,Mg=y["__core-js_shared__"],Ng=Kg.toString,Og=Lg.hasOwnProperty,Pg=0,Qg=function(){var a=/[^.]+$/.exec(Mg&&Mg.keys&&Mg.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Rg=Lg.toString,Sg=Ng.call(Fg),Tg=sc._,Ug=Gg("^"+Ng.call(Og).replace(ub,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vg=vc?y.Buffer:_,Wg=y.Symbol,Xg=y.Uint8Array,Yg=Vg?Vg.allocUnsafe:_,Zg=Q(Fg.getPrototypeOf,Fg),$g=Fg.create,_g=Lg.propertyIsEnumerable,ah=Jg.splice,bh=Wg?Wg.isConcatSpreadable:_,ch=Wg?Wg.iterator:_,dh=Wg?Wg.toStringTag:_,eh=function(){try{var a=Ne(Fg,"defineProperty");return a({},"",{}),a}catch(a){}}(),fh=y.clearTimeout!==sc.clearTimeout&&y.clearTimeout,gh=Bg&&Bg.now!==sc.Date.now&&Bg.now,hh=y.setTimeout!==sc.setTimeout&&y.setTimeout,ih=Eg.ceil,jh=Eg.floor,kh=Fg.getOwnPropertySymbols,lh=Vg?Vg.isBuffer:_,mh=y.isFinite,nh=Jg.join,oh=Q(Fg.keys,Fg),ph=Eg.max,qh=Eg.min,rh=Bg.now,sh=y.parseInt,th=Eg.random,uh=Jg.reverse,vh=Ne(y,"DataView"),wh=Ne(y,"Map"),xh=Ne(y,"Promise"),yh=Ne(y,"Set"),zh=Ne(y,"WeakMap"),Ah=Ne(Fg,"create"),Bh=zh&&new zh,Ch={},Dh=pf(vh),Eh=pf(wh),Fh=pf(xh),Gh=pf(yh),Hh=pf(zh),Ih=Wg?Wg.prototype:_,Jh=Ih?Ih.valueOf:_,Kh=Ih?Ih.toString:_,Lh=function(){function a(){}return function(b){if(!Yf(b))return{};if($g)return $g(b);a.prototype=b;var c=new a;return a.prototype=_,c}}();U.templateSettings={escape:nb,evaluate:ob,interpolate:pb,variable:"",imports:{_:U}},U.prototype=Y.prototype,U.prototype.constructor=U,Z.prototype=Lh(Y.prototype),Z.prototype.constructor=Z,Cb.prototype=Lh(Y.prototype),Cb.prototype.constructor=Cb,Ob.prototype.clear=function(){this.__data__=Ah?Ah(null):{},this.size=0},Ob.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},Ob.prototype.get=function(a){var b=this.__data__;if(Ah){var c=b[a];return c===ca?_:c}return Og.call(b,a)?b[a]:_},Ob.prototype.has=function(a){var b=this.__data__;return Ah?b[a]!==_:Og.call(b,a)},Ob.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=Ah&&b===_?ca:b,this},Pb.prototype.clear=function(){this.__data__=[],this.size=0},Pb.prototype.delete=function(a){var b=this.__data__,c=Zb(b,a);return!(c<0||(c==b.length-1?b.pop():ah.call(b,c,1),--this.size,0))},Pb.prototype.get=function(a){var b=this.__data__,c=Zb(b,a);return c<0?_:b[c][1]},Pb.prototype.has=function(a){return Zb(this.__data__,a)>-1},Pb.prototype.set=function(a,b){var c=this.__data__,d=Zb(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},Qb.prototype.clear=function(){this.size=0,this.__data__={hash:new Ob,map:new(wh||Pb),string:new Ob}},Qb.prototype.delete=function(a){var b=Le(this,a).delete(a);return this.size-=b?1:0,b},Qb.prototype.get=function(a){return Le(this,a).get(a)},Qb.prototype.has=function(a){return Le(this,a).has(a)},Qb.prototype.set=function(a,b){var c=Le(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},Rb.prototype.add=Rb.prototype.push=function(a){return this.__data__.set(a,ca),this},Rb.prototype.has=function(a){return this.__data__.has(a)},Sb.prototype.clear=function(){this.__data__=new Pb,this.size=0},Sb.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},Sb.prototype.get=function(a){return this.__data__.get(a)},Sb.prototype.has=function(a){return this.__data__.has(a)},Sb.prototype.set=function(a,b){var c=this.__data__;if(c instanceof Pb){var d=c.__data__;if(!wh||d.length<aa-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new Qb(d)}return c.set(a,b),this.size=c.size,this};var Mh=ee(Ec),Nh=ee(Jc,!0),Oh=fe(),Ph=fe(!0),Qh=Bh?function(a,b){return Bh.set(a,b),a}:tg,Rh=eh?function(a,b){return eh(a,"toString",{configurable:!0,enumerable:!1,value:sg(b),writable:!0})}:tg,Sh=rd,Th=fh||function(a){return sc.clearTimeout(a)},Uh=yh&&1/S(new yh([,-0]))[1]==va?function(a){return new yh(a)}:wg,Vh=Bh?function(a){return Bh.get(a)}:wg,Wh=kh?function(a){return null==a?[]:(a=Fg(a),h(kh(a),function(b){return _g.call(a,b)}))}:yg,Xh=kh?function(a){for(var b=[];a;)l(b,Wh(a)),a=Zg(a);return b}:yg,Yh=Nc;(vh&&Yh(new vh(new ArrayBuffer(1)))!=Ya||wh&&Yh(new wh)!=Ma||xh&&"[object Promise]"!=Yh(xh.resolve())||yh&&Yh(new yh)!=Sa||zh&&Yh(new zh)!=Wa)&&(Yh=function(a){var b=Nc(a),c=b==Pa?a.constructor:_,d=c?pf(c):"";if(d)switch(d){case Dh:return Ya;case Eh:return Ma;case Fh:return"[object Promise]";case Gh:return Sa;case Hh:return Wa}return b});var Zh=Mg?Vf:zg,$h=mf(Qh),_h=hh||function(a,b){return sc.setTimeout(a,b)},ai=mf(Rh),bi=function(a){var b=Pf(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}(function(a){var b=[];return sb.test(a)&&b.push(""),a.replace(tb,function(a,c,d,e){b.push(d?e.replace(Db,"$1"):c||a)}),b}),ci=rd(function(a,b){return Tf(a)?qc(a,xc(b,1,Tf,!0)):[]}),di=rd(function(a,b){var c=wf(b);return Tf(c)&&(c=_),Tf(a)?qc(a,xc(b,1,Tf,!0),Ke(c,2)):[]}),ei=rd(function(a,b){var c=wf(b);return Tf(c)&&(c=_),Tf(a)?qc(a,xc(b,1,Tf,!0),_,c):[]}),fi=rd(function(a){var b=k(a,Kd);return b.length&&b[0]===a[0]?Sc(b):[]}),gi=rd(function(a){var b=wf(a),c=k(a,Kd);return b===wf(c)?b=_:c.pop(),c.length&&c[0]===a[0]?Sc(c,Ke(b,2)):[]}),hi=rd(function(a){var b=wf(a),c=k(a,Kd);return(b="function"==typeof b?b:_)&&c.pop(),c.length&&c[0]===a[0]?Sc(c,_,b):[]}),ii=rd(xf),ji=Fe(function(a,b){var c=null==a?0:a.length,d=ec(a,b);return nd(a,k(b,function(a){return Xe(a,c)?+a:a}).sort(Wd)),d}),ki=rd(function(a){return Dd(xc(a,1,Tf,!0))}),li=rd(function(a){var b=wf(a);return Tf(b)&&(b=_),Dd(xc(a,1,Tf,!0),Ke(b,2))}),mi=rd(function(a){var b=wf(a);return b="function"==typeof b?b:_,Dd(xc(a,1,Tf,!0),_,b)}),ni=rd(function(a,b){return Tf(a)?qc(a,b):[]}),oi=rd(function(a){return Id(h(a,Tf))}),pi=rd(function(a){var b=wf(a);return Tf(b)&&(b=_),Id(h(a,Tf),Ke(b,2))}),qi=rd(function(a){var b=wf(a);return b="function"==typeof b?b:_,Id(h(a,Tf),_,b)}),ri=rd(zf),si=rd(function(a){var b=a.length,c=b>1?a[b-1]:_;return c="function"==typeof c?(a.pop(),c):_,Af(a,c)}),ti=Fe(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return ec(b,a)};return!(b>1||this.__actions__.length)&&d instanceof Cb&&Xe(c)?((d=d.slice(c,+c+(b?1:0))).__actions__.push({func:Cf,args:[e],thisArg:_}),new Z(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(_),a})):this.thru(e)}),ui=ce(function(a,b,c){Og.call(a,c)?++a[c]:dc(a,c,1)}),vi=le(sf),wi=le(tf),xi=ce(function(a,b,c){Og.call(a,c)?a[c].push(b):dc(a,c,[b])}),yi=rd(function(a,b,d){var e=-1,f="function"==typeof b,g=Sf(a)?Ag(a.length):[];return Mh(a,function(a){g[++e]=f?c(b,a,d):Uc(a,b,d)}),g}),zi=ce(function(a,b,c){dc(a,c,b)}),Ai=ce(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Bi=rd(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Ye(a,b[0],b[1])?b=[]:c>2&&Ye(b[0],b[1],b[2])&&(b=[b[0]]),id(a,xc(b,1),[])}),Ci=gh||function(){return sc.Date.now()},Di=rd(function(a,b,c){var d=ja;if(c.length){var e=R(c,Je(Di));d|=oa}return ye(a,d,b,c,e)}),Ei=rd(function(a,b,c){var d=ja|ka;if(c.length){var e=R(c,Je(Ei));d|=oa}return ye(b,d,a,c,e)}),Fi=rd(function(a,b){return nc(a,1,b)}),Gi=rd(function(a,b,c){return nc(a,gg(b)||0,c)});Pf.Cache=Qb;var Hi=Sh(function(a,b){var d=(b=1==b.length&&Oi(b[0])?k(b[0],E(Ke())):k(xc(b,1),E(Ke()))).length;return rd(function(e){for(var f=-1,g=qh(e.length,d);++f<g;)e[f]=b[f].call(this,e[f]);return c(a,this,e)})}),Ii=rd(function(a,b){var c=R(b,Je(Ii));return ye(a,oa,_,b,c)}),Ji=rd(function(a,b){var c=R(b,Je(Ji));return ye(a,pa,_,b,c)}),Ki=Fe(function(a,b){return ye(a,ra,_,_,_,b)}),Li=ue(Oc),Mi=ue(function(a,b){return a>=b}),Ni=Vc(function(){return arguments}())?Vc:function(a){return Zf(a)&&Og.call(a,"callee")&&!_g.call(a,"callee")},Oi=Ag.isArray,Pi=yc?E(yc):function(a){return Zf(a)&&Nc(a)==Xa},Qi=lh||zg,Ri=zc?E(zc):function(a){return Zf(a)&&Nc(a)==Ha},Si=Ac?E(Ac):function(a){return Zf(a)&&Yh(a)==Ma},Ti=Bc?E(Bc):function(a){return Zf(a)&&Nc(a)==Ra},Ui=Cc?E(Cc):function(a){return Zf(a)&&Yh(a)==Sa},Vi=Dc?E(Dc):function(a){return Zf(a)&&Xf(a.length)&&!!ic[Nc(a)]},Wi=ue(bd),Xi=ue(function(a,b){return a<=b}),Yi=de(function(a,b){if(bf(b)||Sf(b))_d(b,lg(b),a);else for(var c in b)Og.call(b,c)&&Yb(a,c,b[c])}),Zi=de(function(a,b){_d(b,mg(b),a)}),$i=de(function(a,b,c,d){_d(b,mg(b),a,d)}),_i=de(function(a,b,c,d){_d(b,lg(b),a,d)}),aj=Fe(ec),bj=rd(function(a){return a.push(_,ze),c($i,_,a)}),cj=rd(function(a){return a.push(_,Ae),c(hj,_,a)}),dj=oe(function(a,b,c){a[b]=c},sg(tg)),ej=oe(function(a,b,c){Og.call(a,b)?a[b].push(c):a[b]=[c]},Ke),fj=rd(Uc),gj=de(function(a,b,c){fd(a,b,c)}),hj=de(function(a,b,c,d){fd(a,b,c,d)}),ij=Fe(function(a,b){var c={};if(null==a)return c;var d=!1;b=k(b,function(b){return b=Md(b,a),d||(d=b.length>1),b}),_d(a,He(a),c),d&&(c=kc(c,ea|fa|ga,Be));for(var e=b.length;e--;)Ed(c,b[e]);return c}),jj=Fe(function(a,b){return null==a?{}:jd(a,b)}),kj=xe(lg),lj=xe(mg),mj=ie(function(a,b,c){return b=b.toLowerCase(),a+(c?pg(b):b)}),nj=ie(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),oj=ie(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),pj=he("toLowerCase"),qj=ie(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),rj=ie(function(a,b,c){return a+(c?" ":"")+tj(b)}),sj=ie(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),tj=he("toUpperCase"),uj=rd(function(a,b){try{return c(a,_,b)}catch(a){return Uf(a)?a:new Cg(a)}}),vj=Fe(function(a,b){return e(b,function(b){b=of(b),dc(a,b,Di(a[b],a))}),a}),wj=me(),xj=me(!0),yj=rd(function(a,b){return function(c){return Uc(c,a,b)}}),zj=rd(function(a,b){return function(c){return Uc(a,c,b)}}),Aj=qe(k),Bj=qe(g),Cj=qe(o),Dj=te(),Ej=te(!0),Fj=pe(function(a,b){return a+b},0),Gj=we("ceil"),Hj=pe(function(a,b){return a/b},1),Ij=we("floor"),Jj=pe(function(a,b){return a*b},1),Kj=we("round"),Lj=pe(function(a,b){return a-b},0);return U.after=function(a,b){if("function"!=typeof b)throw new Ig(ba);return a=eg(a),function(){if(--a<1)return b.apply(this,arguments)}},U.ary=Kf,U.assign=Yi,U.assignIn=Zi,U.assignInWith=$i,U.assignWith=_i,U.at=aj,U.before=Lf,U.bind=Di,U.bindAll=vj,U.bindKey=Ei,U.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return Oi(a)?a:[a]},U.chain=Bf,U.chunk=function(a,b,c){b=(c?Ye(a,b,c):b===_)?1:ph(eg(b),0);var d=null==a?0:a.length;if(!d||b<1)return[];for(var e=0,f=0,g=Ag(ih(d/b));e<d;)g[f++]=wd(a,e,e+=b);return g},U.compact=function(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e},U.concat=function(){var a=arguments.length;if(!a)return[];for(var b=Ag(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return l(Oi(c)?$d(c):[c],xc(b,1))},U.cond=function(a){var b=null==a?0:a.length,d=Ke();return a=b?k(a,function(a){if("function"!=typeof a[1])throw new Ig(ba);return[d(a[0]),a[1]]}):[],rd(function(d){for(var e=-1;++e<b;){var f=a[e];if(c(f[0],this,d))return c(f[1],this,d)}})},U.conforms=function(a){return lc(kc(a,ea))},U.constant=sg,U.countBy=ui,U.create=function(a,b){var c=Lh(a);return null==b?c:_b(c,b)},U.curry=Mf,U.curryRight=Nf,U.debounce=Of,U.defaults=bj,U.defaultsDeep=cj,U.defer=Fi,U.delay=Gi,U.difference=ci,U.differenceBy=di,U.differenceWith=ei,U.drop=function(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===_?1:eg(b),wd(a,b<0?0:b,d)):[]},U.dropRight=function(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===_?1:eg(b),b=d-b,wd(a,0,b<0?0:b)):[]},U.dropRightWhile=function(a,b){return a&&a.length?Gd(a,Ke(b,3),!0,!0):[]},U.dropWhile=function(a,b){return a&&a.length?Gd(a,Ke(b,3),!0):[]},U.fill=function(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Ye(a,b,c)&&(c=0,d=e),uc(a,b,c,d)):[]},U.filter=Ef,U.select=Ef,U.flatMap=function(a,b){return xc(If(a,b),1)},U.flatMapDeep=function(a,b){return xc(If(a,b),va)},U.flatMapDepth=function(a,b,c){return c=c===_?1:eg(c),xc(If(a,b),c)},U.flatten=uf,U.flattenDeep=function(a){return(null==a?0:a.length)?xc(a,va):[]},U.flattenDepth=function(a,b){return(null==a?0:a.length)?(b=b===_?1:eg(b),xc(a,b)):[]},U.flip=function(a){return ye(a,sa)},U.flow=wj,U.flowRight=xj,U.fromPairs=function(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d},U.functions=function(a){return null==a?[]:Kc(a,lg(a))},U.functionsIn=function(a){return null==a?[]:Kc(a,mg(a))},U.groupBy=xi,U.initial=function(a){return(null==a?0:a.length)?wd(a,0,-1):[]},U.intersection=fi,U.intersectionBy=gi,U.intersectionWith=hi,U.invert=dj,U.invertBy=ej,U.invokeMap=yi,U.iteratee=ug,U.keyBy=zi,U.keys=lg,U.keysIn=mg,U.map=If,U.mapKeys=function(a,b){var c={};return b=Ke(b,3),Ec(a,function(a,d,e){dc(c,b(a,d,e),a)}),c},U.mapValues=function(a,b){var c={};return b=Ke(b,3),Ec(a,function(a,d,e){dc(c,d,b(a,d,e))}),c},U.matches=function(a){return dd(kc(a,ea))},U.matchesProperty=function(a,b){return ed(a,kc(b,ea))},U.memoize=Pf,U.merge=gj,U.mergeWith=hj,U.method=yj,U.methodOf=zj,U.mixin=vg,U.negate=Qf,U.nthArg=function(a){return a=eg(a),rd(function(b){return hd(b,a)})},U.omit=ij,U.omitBy=function(a,b){return ng(a,Qf(Ke(b)))},U.once=function(a){return Lf(2,a)},U.orderBy=function(a,b,c,d){return null==a?[]:(Oi(b)||(b=null==b?[]:[b]),c=d?_:c,Oi(c)||(c=null==c?[]:[c]),id(a,b,c))},U.over=Aj,U.overArgs=Hi,U.overEvery=Bj,U.overSome=Cj,U.partial=Ii,U.partialRight=Ji,U.partition=Ai,U.pick=jj,U.pickBy=ng,U.property=xg,U.propertyOf=function(a){return function(b){return null==a?_:Lc(a,b)}},U.pull=ii,U.pullAll=xf,U.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?md(a,b,Ke(c,2)):a},U.pullAllWith=function(a,b,c){return a&&a.length&&b&&b.length?md(a,b,_,c):a},U.pullAt=ji,U.range=Dj,U.rangeRight=Ej,U.rearg=Ki,U.reject=function(a,b){return(Oi(a)?h:wc)(a,Qf(Ke(b,3)))},U.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=Ke(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return nd(a,e),c},U.rest=function(a,b){if("function"!=typeof a)throw new Ig(ba);return b=b===_?b:eg(b),rd(a,b)},U.reverse=yf,U.sampleSize=function(a,b,c){return b=(c?Ye(a,b,c):b===_)?1:eg(b),(Oi(a)?Vb:td)(a,b)},U.set=function(a,b,c){return null==a?a:ud(a,b,c)},U.setWith=function(a,b,c,d){return d="function"==typeof d?d:_,null==a?a:ud(a,b,c,d)},U.shuffle=function(a){return(Oi(a)?Wb:vd)(a)},U.slice=function(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Ye(a,b,c)?(b=0,c=d):(b=null==b?0:eg(b),c=c===_?d:eg(c)),wd(a,b,c)):[]},U.sortBy=Bi,U.sortedUniq=function(a){return a&&a.length?Ad(a):[]},U.sortedUniqBy=function(a,b){return a&&a.length?Ad(a,Ke(b,2)):[]},U.split=function(a,b,c){return c&&"number"!=typeof c&&Ye(a,b,c)&&(b=c=_),(c=c===_?za:c>>>0)?(a=ig(a),a&&("string"==typeof b||null!=b&&!Ti(b))&&!(b=Cd(b))&&M(a)?Nd(X(a),0,c):a.split(b,c)):[]},U.spread=function(a,b){if("function"!=typeof a)throw new Ig(ba);return b=null==b?0:ph(eg(b),0),rd(function(d){var e=d[b],f=Nd(d,0,b);return e&&l(f,e),c(a,this,f)})},U.tail=function(a){var b=null==a?0:a.length;return b?wd(a,1,b):[]},U.take=function(a,b,c){return a&&a.length?(b=c||b===_?1:eg(b),wd(a,0,b<0?0:b)):[]},U.takeRight=function(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===_?1:eg(b),b=d-b,wd(a,b<0?0:b,d)):[]},U.takeRightWhile=function(a,b){return a&&a.length?Gd(a,Ke(b,3),!1,!0):[]},U.takeWhile=function(a,b){return a&&a.length?Gd(a,Ke(b,3)):[]},U.tap=function(a,b){return b(a),a},U.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Ig(ba);return Yf(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Of(a,b,{leading:d,maxWait:b,trailing:e})},U.thru=Cf,U.toArray=cg,U.toPairs=kj,U.toPairsIn=lj,U.toPath=function(a){return Oi(a)?k(a,of):bg(a)?[a]:$d(bi(ig(a)))},U.toPlainObject=hg,U.transform=function(a,b,c){var d=Oi(a),f=d||Qi(a)||Vi(a);if(b=Ke(b,4),null==c){var g=a&&a.constructor;c=f?d?new g:[]:Yf(a)&&Vf(g)?Lh(Zg(a)):{}}return(f?e:Ec)(a,function(a,d,e){return b(c,a,d,e)}),c},U.unary=function(a){return Kf(a,1)},U.union=ki,U.unionBy=li,U.unionWith=mi,U.uniq=function(a){return a&&a.length?Dd(a):[]},U.uniqBy=function(a,b){return a&&a.length?Dd(a,Ke(b,2)):[]},U.uniqWith=function(a,b){return b="function"==typeof b?b:_,a&&a.length?Dd(a,_,b):[]},U.unset=function(a,b){return null==a||Ed(a,b)},U.unzip=zf,U.unzipWith=Af,U.update=function(a,b,c){return null==a?a:Fd(a,b,Ld(c))},U.updateWith=function(a,b,c,d){return d="function"==typeof d?d:_,null==a?a:Fd(a,b,Ld(c),d)},U.values=og,U.valuesIn=function(a){return null==a?[]:F(a,mg(a))},U.without=ni,U.words=rg,U.wrap=function(a,b){return Ii(Ld(b),a)},U.xor=oi,U.xorBy=pi,U.xorWith=qi,U.zip=ri,U.zipObject=function(a,b){return Jd(a||[],b||[],Yb)},U.zipObjectDeep=function(a,b){return Jd(a||[],b||[],ud)},U.zipWith=si,U.entries=kj,U.entriesIn=lj,U.extend=Zi,U.extendWith=$i,vg(U,U),U.add=Fj,U.attempt=uj,U.camelCase=mj,U.capitalize=pg,U.ceil=Gj,U.clamp=function(a,b,c){return c===_&&(c=b,b=_),c!==_&&(c=(c=gg(c))===c?c:0),b!==_&&(b=(b=gg(b))===b?b:0),fc(gg(a),b,c)},U.clone=function(a){return kc(a,ga)},U.cloneDeep=function(a){return kc(a,ea|ga)},U.cloneDeepWith=function(a,b){return b="function"==typeof b?b:_,kc(a,ea|ga,b)},U.cloneWith=function(a,b){return b="function"==typeof b?b:_,kc(a,ga,b)},U.conformsTo=function(a,b){return null==b||mc(a,b,lg(b))},U.deburr=qg,U.defaultTo=function(a,b){return null==a||a!==a?b:a},U.divide=Hj,U.endsWith=function(a,b,c){a=ig(a),b=Cd(b);var d=a.length,e=c=c===_?d:fc(eg(c),0,d);return(c-=b.length)>=0&&a.slice(c,e)==b},U.eq=Rf,U.escape=function(a){return a=ig(a),a&&mb.test(a)?a.replace(kb,Gc):a},U.escapeRegExp=function(a){return a=ig(a),a&&vb.test(a)?a.replace(ub,"\\$&"):a},U.every=Df,U.all=Df,U.find=vi,U.findIndex=sf,U.findKey=function(a,b){return r(a,Ke(b,3),Ec)},U.findLast=wi,U.findLastIndex=tf,U.findLastKey=function(a,b){return r(a,Ke(b,3),Jc)},U.floor=Ij,U.forEach=Ff,U.forEachRight=Gf,U.forIn=function(a,b){return null==a?a:Oh(a,Ke(b,3),mg)},U.forInRight=function(a,b){return null==a?a:Ph(a,Ke(b,3),mg)},U.forOwn=function(a,b){return a&&Ec(a,Ke(b,3))},U.forOwnRight=function(a,b){return a&&Jc(a,Ke(b,3))},U.get=jg,U.gt=Li,U.gte=Mi,U.has=function(a,b){return null!=a&&Re(a,b,Pc)},U.hasIn=kg,U.head=vf,U.identity=tg,U.includes=Hf,U.contains=Hf,U.indexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:eg(c);return e<0&&(e=ph(d+e,0)),t(a,b,e)},U.inRange=function(a,b,c){return b=dg(b),c===_?(c=b,b=0):c=dg(c),a=gg(a),Rc(a,b,c)},U.invoke=fj,U.isArguments=Ni,U.isArray=Oi,U.isArrayBuffer=Pi,U.isArrayLike=Sf,U.isArrayLikeObject=Tf,U.isBoolean=function(a){return!0===a||!1===a||Zf(a)&&Nc(a)==Ga},U.isBuffer=Qi,U.isDate=Ri,U.isElement=function(a){return Zf(a)&&1===a.nodeType&&!_f(a)},U.isEmpty=function(a){if(null==a)return!0;if(Sf(a)&&(Oi(a)||"string"==typeof a||"function"==typeof a.splice||Qi(a)||Vi(a)||Ni(a)))return!a.length;var b=Yh(a);if(b==Ma||b==Sa)return!a.size;if(bf(a))return!_c(a).length;for(var c in a)if(Og.call(a,c))return!1;return!0},U.isEqual=function(a,b){return Wc(a,b)},U.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:_)?c(a,b):_;return d===_?Wc(a,b,_,c):!!d},U.isError=Uf,U.isFinite=function(a){return"number"==typeof a&&mh(a)},U.isFunction=Vf,U.isInteger=Wf,U.isLength=Xf,U.isMap=Si,U.isMatch=function(a,b){return a===b||Yc(a,b,Me(b))},U.isMatchWith=function(a,b,c){return c="function"==typeof c?c:_,Yc(a,b,Me(b),c)},U.isNaN=function(a){return $f(a)&&a!=+a},U.isNative=function(a){if(Zh(a))throw new Cg("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zc(a)},U.isNil=function(a){return null==a},U.isNull=function(a){return null===a},U.isNumber=$f,U.isObject=Yf,U.isObjectLike=Zf,U.isPlainObject=_f,U.isRegExp=Ti,U.isSafeInteger=function(a){return Wf(a)&&a>=-wa&&a<=wa},U.isSet=Ui,U.isString=ag,U.isSymbol=bg,U.isTypedArray=Vi,U.isUndefined=function(a){return a===_},U.isWeakMap=function(a){return Zf(a)&&Yh(a)==Wa},U.isWeakSet=function(a){return Zf(a)&&"[object WeakSet]"==Nc(a)},U.join=function(a,b){return null==a?"":nh.call(a,b)},U.kebabCase=nj,U.last=wf,U.lastIndexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==_&&(e=(e=eg(c))<0?ph(d+e,0):qh(e,d-1)),b===b?V(a,b,e):s(a,v,e,!0)},U.lowerCase=oj,U.lowerFirst=pj,U.lt=Wi,U.lte=Xi,U.max=function(a){return a&&a.length?tc(a,tg,Oc):_},U.maxBy=function(a,b){return a&&a.length?tc(a,Ke(b,2),Oc):_},U.mean=function(a){return w(a,tg)},U.meanBy=function(a,b){return w(a,Ke(b,2))},U.min=function(a){return a&&a.length?tc(a,tg,bd):_},U.minBy=function(a,b){return a&&a.length?tc(a,Ke(b,2),bd):_},U.stubArray=yg,U.stubFalse=zg,U.stubObject=function(){return{}},U.stubString=function(){return""},U.stubTrue=function(){return!0},U.multiply=Jj,U.nth=function(a,b){return a&&a.length?hd(a,eg(b)):_},U.noConflict=function(){return sc._===this&&(sc._=Tg),this},U.noop=wg,U.now=Ci,U.pad=function(a,b,c){a=ig(a);var d=(b=eg(b))?W(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return re(jh(e),c)+a+re(ih(e),c)},U.padEnd=function(a,b,c){a=ig(a);var d=(b=eg(b))?W(a):0;return b&&d<b?a+re(b-d,c):a},U.padStart=function(a,b,c){a=ig(a);var d=(b=eg(b))?W(a):0;return b&&d<b?re(b-d,c)+a:a},U.parseInt=function(a,b,c){return c||null==b?b=0:b&&(b=+b),sh(ig(a).replace(xb,""),b||0)},U.random=function(a,b,c){if(c&&"boolean"!=typeof c&&Ye(a,b,c)&&(b=c=_),c===_&&("boolean"==typeof b?(c=b,b=_):"boolean"==typeof a&&(c=a,a=_)),a===_&&b===_?(a=0,b=1):(a=dg(a),b===_?(b=a,a=0):b=dg(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=th();return qh(a+e*(b-a+oc("1e-"+((e+"").length-1))),b)}return od(a,b)},U.reduce=function(a,b,c){var d=Oi(a)?m:z,e=arguments.length<3;return d(a,Ke(b,4),c,e,Mh)},U.reduceRight=function(a,b,c){var d=Oi(a)?n:z,e=arguments.length<3;return d(a,Ke(b,4),c,e,Nh)},U.repeat=function(a,b,c){return b=(c?Ye(a,b,c):b===_)?1:eg(b),qd(ig(a),b)},U.replace=function(){var a=arguments,b=ig(a[0]);return a.length<3?b:b.replace(a[1],a[2])},U.result=function(a,b,c){var d=-1,e=(b=Md(b,a)).length;for(e||(e=1,a=_);++d<e;){var f=null==a?_:a[of(b[d])];f===_&&(d=e,f=c),a=Vf(f)?f.call(a):f}return a},U.round=Kj,U.runInContext=p,U.sample=function(a){return(Oi(a)?Ub:sd)(a)},U.size=function(a){if(null==a)return 0;if(Sf(a))return ag(a)?W(a):a.length;var b=Yh(a);return b==Ma||b==Sa?a.size:_c(a).length},U.snakeCase=qj,U.some=Jf,U.any=Jf,U.sortedIndex=function(a,b){return yd(a,b)},U.sortedIndexBy=function(a,b,c){return zd(a,b,Ke(c,2))},U.sortedIndexOf=function(a,b){var c=null==a?0:a.length;if(c){var d=yd(a,b);if(d<c&&Rf(a[d],b))return d}return-1},U.sortedLastIndex=function(a,b){return yd(a,b,!0)},U.sortedLastIndexBy=function(a,b,c){return zd(a,b,Ke(c,2),!0)},U.sortedLastIndexOf=function(a,b){if(null==a?0:a.length){var c=yd(a,b,!0)-1;if(Rf(a[c],b))return c}return-1},U.startCase=rj,U.startsWith=function(a,b,c){return a=ig(a),c=null==c?0:fc(eg(c),0,a.length),b=Cd(b),a.slice(c,c+b.length)==b},U.subtract=Lj,U.sum=function(a){return a&&a.length?B(a,tg):0},U.sumBy=function(a,b){return a&&a.length?B(a,Ke(b,2)):0},U.template=function(a,b,c){var d=U.templateSettings;c&&Ye(a,b,c)&&(b=_),a=ig(a),b=$i({},b,d,ze);var e,f,g=$i({},b.imports,d.imports,ze),h=lg(g),i=F(g,h),j=0,k=b.interpolate||Mb,l="__p += '",m=Gg((b.escape||Mb).source+"|"+k.source+"|"+(k===pb?Eb:Mb).source+"|"+(b.evaluate||Mb).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++hc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(Nb,K),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(gb,""):l).replace(hb,"$1").replace(ib,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=uj(function(){return Dg(h,n+"return "+l).apply(_,i)});if(p.source=l,Uf(p))throw p;return p},U.times=function(a,b){if((a=eg(a))<1||a>wa)return[];var c=za,d=qh(a,za);b=Ke(b),a-=za;for(var e=C(d,b);++c<a;)b(c);return e},U.toFinite=dg,U.toInteger=eg,U.toLength=fg,U.toLower=function(a){return ig(a).toLowerCase()},U.toNumber=gg,U.toSafeInteger=function(a){return a?fc(eg(a),-wa,wa):0===a?a:0},U.toString=ig,U.toUpper=function(a){return ig(a).toUpperCase()},U.trim=function(a,b,c){if((a=ig(a))&&(c||b===_))return a.replace(wb,"");if(!a||!(b=Cd(b)))return a;var d=X(a),e=X(b);return Nd(d,H(d,e),I(d,e)+1).join("")},U.trimEnd=function(a,b,c){if((a=ig(a))&&(c||b===_))return a.replace(yb,"");if(!a||!(b=Cd(b)))return a;var d=X(a);return Nd(d,0,I(d,X(b))+1).join("")},U.trimStart=function(a,b,c){if((a=ig(a))&&(c||b===_))return a.replace(xb,"");if(!a||!(b=Cd(b)))return a;var d=X(a);return Nd(d,H(d,X(b))).join("")},U.truncate=function(a,b){var c=30,d="...";if(Yf(b)){var e="separator"in b?b.separator:e;c="length"in b?eg(b.length):c,d="omission"in b?Cd(b.omission):d}var f=(a=ig(a)).length;if(M(a)){var g=X(a);f=g.length}if(c>=f)return a;var h=c-W(d);if(h<1)return d;var i=g?Nd(g,0,h).join(""):a.slice(0,h);if(e===_)return i+d;if(g&&(h+=i.length-h),Ti(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=Gg(e.source,ig(Fb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===_?h:l)}}else if(a.indexOf(Cd(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d},U.unescape=function(a){return a=ig(a),a&&lb.test(a)?a.replace(jb,Hc):a},U.uniqueId=function(a){var b=++Pg;return ig(a)+b},U.upperCase=sj,U.upperFirst=tj,U.each=Ff,U.eachRight=Gf,U.first=vf,vg(U,function(){var a={};return Ec(U,function(b,c){Og.call(U.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),U.VERSION="4.17.4",e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){U[a].placeholder=U}),e(["drop","take"],function(a,b){Cb.prototype[a]=function(c){c=c===_?1:ph(eg(c),0);var d=this.__filtered__&&!b?new Cb(this):this.clone();return d.__filtered__?d.__takeCount__=qh(c,d.__takeCount__):d.__views__.push({size:qh(c,za),type:a+(d.__dir__<0?"Right":"")}),d},Cb.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),e(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;Cb.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:Ke(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),e(["head","last"],function(a,b){var c="take"+(b?"Right":"");Cb.prototype[a]=function(){return this[c](1).value()[0]}}),e(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");Cb.prototype[a]=function(){return this.__filtered__?new Cb(this):this[c](1)}}),Cb.prototype.compact=function(){return this.filter(tg)},Cb.prototype.find=function(a){return this.filter(a).head()},Cb.prototype.findLast=function(a){return this.reverse().find(a)},Cb.prototype.invokeMap=rd(function(a,b){return"function"==typeof a?new Cb(this):this.map(function(c){return Uc(c,a,b)})}),Cb.prototype.reject=function(a){return this.filter(Qf(Ke(a)))},Cb.prototype.slice=function(a,b){a=eg(a);var c=this;return c.__filtered__&&(a>0||b<0)?new Cb(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==_&&(c=(b=eg(b))<0?c.dropRight(-b):c.take(b-a)),c)},Cb.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Cb.prototype.toArray=function(){return this.take(za)},Ec(Cb.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=U[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(U.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof Cb,i=g[0],j=h||Oi(b),k=function(a){var b=e.apply(U,l([a],g));return d&&m?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var m=this.__chain__,n=!!this.__actions__.length,o=f&&!m,p=h&&!n;if(!f&&j){b=p?b:new Cb(this);var q=a.apply(b,g);return q.__actions__.push({func:Cf,args:[k],thisArg:_}),new Z(q,m)}return o&&p?a.apply(this,g):(q=this.thru(k),o?d?q.value()[0]:q.value():q)})}),e(["pop","push","shift","sort","splice","unshift"],function(a){var b=Jg[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);U.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(Oi(e)?e:[],a)}return this[c](function(c){return b.apply(Oi(c)?c:[],a)})}}),Ec(Cb.prototype,function(a,b){var c=U[b];if(c){var d=c.name+"";(Ch[d]||(Ch[d]=[])).push({name:b,func:c})}}),Ch[ne(_,ka).name]=[{name:"wrapper",func:_}],Cb.prototype.clone=function(){var a=new Cb(this.__wrapped__);return a.__actions__=$d(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=$d(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=$d(this.__views__),a},Cb.prototype.reverse=function(){if(this.__filtered__){var a=new Cb(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},Cb.prototype.value=function(){var a=this.__wrapped__.value(),b=this.__dir__,c=Oi(a),d=b<0,e=c?a.length:0,f=Pe(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=qh(i,this.__takeCount__);if(!c||!d&&e==i&&n==i)return Hd(a,this.__actions__);var o=[];a:for(;i--&&m<n;){for(var p=-1,q=a[j+=b];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(2==t)q=u;else if(!u){if(1==t)continue a;break a}}o[m++]=q}return o},U.prototype.at=ti,U.prototype.chain=function(){return Bf(this)},U.prototype.commit=function(){return new Z(this.value(),this.__chain__)},U.prototype.next=function(){this.__values__===_&&(this.__values__=cg(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?_:this.__values__[this.__index__++]}},U.prototype.plant=function(a){for(var b,c=this;c instanceof Y;){var d=rf(c);d.__index__=0,d.__values__=_,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b},U.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof Cb){var b=a;return this.__actions__.length&&(b=new Cb(this)),(b=b.reverse()).__actions__.push({func:Cf,args:[yf],thisArg:_}),new Z(b,this.__chain__)}return this.thru(yf)},U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=function(){return Hd(this.__wrapped__,this.__actions__)},U.prototype.first=U.prototype.head,ch&&(U.prototype[ch]=function(){return this}),U}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(sc._=Ic,define(function(){return Ic})):uc?((uc.exports=Ic)._=Ic,tc._=Ic):sc._=Ic}.call(this),function(a){"use strict";var b=function(a,b){return null===a||void 0===a||0===a.length||b&&""===$.trim(a)},c=function(a,b){a.removeClass(b).addClass(b)},d=function(a,c,d){var e=b(a.data(c))?a.attr(c):a.data(c);return e||d[c]},e=function(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0},f=function(a,b){return parseFloat(a.toFixed(b))},g=function(a,b){this.$element=$(a),this.init(b)};g.prototype={constructor:g,_parseAttr:function(a,c){var e=this,f=e.$element;if("range"===f.attr("type")||"number"===f.attr("type")){var g,h,i=d(f,a,c);switch(a){case"min":g=0;break;case"max":g=5;break;default:g=.5}return h=b(i)?g:i,parseFloat(h)}return parseFloat(c[a])},listenClick:function(a,b){a.on("click touchstart",function(a){if(a.stopPropagation(),a.preventDefault(),!0===a.handled)return!1;b(a),a.handled=!0})},setDefault:function(a,c){var d=this;b(d[a])&&(d[a]=c)},getPosition:function(a){return(a.pageX||a.originalEvent.touches[0].pageX)-this.$rating.offset().left},listen:function(){var a,b,c=this;c.initTouch(),c.listenClick(c.$rating,function(b){if(c.inactive)return!1;a=c.getPosition(b),c.setStars(a),c.$element.trigger("change").trigger("rating.change",[c.$element.val(),c.$caption.html()]),c.starClicked=!0}),c.$rating.on("mousemove",function(d){c.hoverEnabled&&!c.inactive&&(c.starClicked=!1,a=c.getPosition(d),b=c.calculate(a),c.toggleHover(b),c.$element.trigger("rating.hover",[b.val,b.caption,"stars"]))}),c.$rating.on("mouseleave",function(){!c.hoverEnabled||c.inactive||c.starClicked||(b=c.cache,c.toggleHover(b),c.$element.trigger("rating.hoverleave",["stars"]))}),c.$clear.on("mousemove",function(){if(c.hoverEnabled&&!c.inactive&&c.hoverOnClear){c.clearClicked=!1;var a='<span class="'+c.clearCaptionClass+'">'+c.clearCaption+"</span>",d=c.clearValue,e=c.getWidthFromValue(d);b={caption:a,width:e,val:d},c.toggleHover(b),c.$element.trigger("rating.hover",[d,a,"clear"])}}),c.$clear.on("mouseleave",function(){c.hoverEnabled&&!c.inactive&&!c.clearClicked&&c.hoverOnClear&&(b=c.cache,c.toggleHover(b),c.$element.trigger("rating.hoverleave",["clear"]))}),c.listenClick(c.$clear,function(){c.inactive||(c.clear(),c.clearClicked=!0)}),$(c.$element[0].form).on("reset",function(){c.inactive||c.reset()})},destroy:function(){var a=this,c=a.$element;b(a.$container)||a.$container.before(c).remove(),$.removeData(c.get(0)),c.off("rating").removeClass("hide")},create:function(a){var b=this,c=b.$element;a=a||b.options||{},b.destroy(),c.rating(a)},setTouch:function(a,b){var c=this;if(("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!c.inactive){var d=a.originalEvent,e=d.touches||d.changedTouches,f=c.getPosition(e[0]);if(b)c.setStars(f),c.$element.trigger("change").trigger("rating.change",[c.$element.val(),c.$caption.html()]),c.starClicked=!0;else{var g=c.calculate(f),h=g.val<=c.clearValue?c.fetchCaption(c.clearValue):g.caption,i=c.getWidthFromValue(c.clearValue),j=g.val<=c.clearValue?c.rtl?100-i+"%":i+"%":g.width;c.$caption.html(h),c.$stars.css("width",j)}}},initTouch:function(){var a=this;a.$rating.on("touchstart touchmove touchend",function(b){var c="touchend"===b.type;a.setTouch(b,c)})},initSlider:function(a){var c=this;b(c.$element.val())&&c.$element.val(0),c.initialValue=c.$element.val(),c.setDefault("min",c._parseAttr("min",a)),c.setDefault("max",c._parseAttr("max",a)),c.setDefault("step",c._parseAttr("step",a)),(isNaN(c.min)||b(c.min))&&(c.min=0),(isNaN(c.max)||b(c.max))&&(c.max=5),(isNaN(c.step)||b(c.step)||0===c.step)&&(c.step=.5),c.diff=c.max-c.min},init:function(a){var d,e,f,g=this,h=g.$element;g.options=a,$.each(a,function(a,b){g[a]=b}),g.starClicked=!1,g.clearClicked=!1,g.initSlider(a),g.checkDisabled(),g.setDefault("rtl",h.attr("dir")),g.rtl&&h.attr("dir","rtl"),d=g.glyphicon?"":"★",g.setDefault("symbol",d),g.setDefault("clearButtonBaseClass","clear-rating"),g.setDefault("clearButtonActiveClass","clear-rating-active"),g.setDefault("clearValue",g.min),c(h,"form-control hide"),g.$clearElement=b(a.clearElement)?null:$(a.clearElement),g.$captionElement=b(a.captionElement)?null:$(a.captionElement),void 0===g.$rating&&void 0===g.$container&&(g.$rating=$(document.createElement("div")).html('<div class="rating-stars"></div>'),g.$container=$(document.createElement("div")),g.$container.before(g.$rating).append(g.$rating),h.before(g.$container).appendTo(g.$rating)),g.$stars=g.$rating.find(".rating-stars"),g.generateRating(),g.$clear=b(g.$clearElement)?g.$container.find("."+g.clearButtonBaseClass):g.$clearElement,g.$caption=b(g.$captionElement)?g.$container.find(".caption"):g.$captionElement,g.setStars(),g.listen(),g.showClear&&g.$clear.attr({class:g.getClearClass()}),e=h.val(),f=g.getWidthFromValue(e),g.cache={caption:g.$caption.html(),width:(g.rtl?100-f:f)+"%",val:e},h.removeClass("rating-loading")},checkDisabled:function(){var a=this;a.disabled=d(a.$element,"disabled",a.options),a.readonly=d(a.$element,"readonly",a.options),a.inactive=a.disabled||a.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var a=this,d=a.renderClear(),e=a.renderCaption(),f=a.rtl?"rating-container-rtl":"rating-container",g=a.getStars();a.glyphicon?f+=(""===a.symbol?" rating-gly-star":" rating-gly")+a.ratingClass:f+=b(a.ratingClass)?" rating-uni":" "+a.ratingClass,a.$rating.attr("class",f),a.$rating.attr("data-content",g),a.$stars.attr("data-content",g),f=a.rtl?"star-rating-rtl":"star-rating",a.$container.attr("class",f+" rating-"+a.size),a.$container.removeClass("rating-active rating-disabled"),a.inactive?a.$container.addClass("rating-disabled"):a.$container.addClass("rating-active"),b(a.$caption)&&(a.rtl?a.$container.prepend(e):a.$container.append(e)),b(a.$clear)&&(a.rtl?a.$container.append(d):a.$container.prepend(d)),b(a.containerClass)||c(a.$container,a.containerClass)},getStars:function(){var a,b=this,c=b.stars,d="";for(a=1;a<=c;a++)d+=b.symbol;return d},renderClear:function(){var a,d=this;return d.showClear?(a=d.getClearClass(),b(d.$clearElement)?'<div class="'+a+'" title="'+d.clearButtonTitle+'">'+d.clearButton+"</div>":(c(d.$clearElement,a),d.$clearElement.attr({title:d.clearButtonTitle}).html(d.clearButton),"")):""},renderCaption:function(){var a,d=this,e=d.$element.val();return d.showCaption?(a=d.fetchCaption(e),b(d.$captionElement)?'<div class="caption">'+a+"</div>":(c(d.$captionElement,"caption"),d.$captionElement.html(a),"")):""},fetchCaption:function(a){var c,d,e,f,g,h=this,i=parseFloat(a),j=h.starCaptions,k=h.starCaptionClasses;return f="function"==typeof k?k(i):k[i],e="function"==typeof j?j(i):j[i],d=b(e)?h.defaultCaption.replace(/\{rating\}/g,i):e,c=b(f)?h.clearCaptionClass:f,g=i===h.clearValue?h.clearCaption:d,'<span class="'+c+'">'+g+"</span>"},getWidthFromValue:function(a){var b=this,c=b.min,d=b.max;return a<=c||c===d?0:a>=d?100:100*(a-c)/(d-c)},getValueFromPosition:function(a){var b,c,d=this,g=e(d.step),h=d.$rating.width();return c=d.diff*a/(h*d.step),c=d.rtl?Math.floor(c):Math.ceil(c),b=f(parseFloat(d.min+c*d.step),g),b=Math.max(Math.min(b,d.max),d.min),d.rtl?d.max-b:b},toggleHover:function(a){var b,c,d,e=this;e.hoverChangeCaption&&(d=a.val<=e.clearValue?e.fetchCaption(e.clearValue):a.caption,e.$caption.html(d)),e.hoverChangeStars&&(b=e.getWidthFromValue(e.clearValue),c=a.val<=e.clearValue?e.rtl?100-b+"%":b+"%":a.width,e.$stars.css("width",c))},calculate:function(a){var c=this,d=b(c.$element.val())?0:c.$element.val(),e=arguments.length?c.getValueFromPosition(a):d,f=c.fetchCaption(e),g=c.getWidthFromValue(e);return c.rtl&&(g=100-g),g+="%",{caption:f,width:g,val:e}},setStars:function(a){var b=this,c=arguments.length?b.calculate(a):b.calculate();b.$element.val(c.val),b.$stars.css("width",c.width),b.$caption.html(c.caption),b.cache=c},clear:function(){var a=this,b='<span class="'+a.clearCaptionClass+'">'+a.clearCaption+"</span>";a.$stars.removeClass("rated"),a.inactive||a.$caption.html(b),a.$element.val(a.clearValue),a.$element.attr("value",a.clearValue).attr("data-val",a.clearValue),a.setStars(),a.$element.trigger("rating.clear"),a.$element.trigger("rating.change")},reset:function(){var a=this;a.$element.val(a.initialValue),a.setStars(),a.$element.trigger("rating.reset")},update:function(a){var b=this;arguments.length&&(b.$element.val(a),b.setStars())},refresh:function(a){var b=this;arguments.length&&(b.$rating.off("rating"),void 0!==b.$clear&&b.$clear.off(),b.init($.extend(b.options,a)),b.showClear?b.$clear.show():b.$clear.hide(),b.showCaption?b.$caption.show():b.$caption.hide(),b.$element.trigger("rating.refresh"))}},a.fn.rating=function(b){var c=Array.apply(null,arguments);return c.shift(),this.each(function(){var d=$(this),e=d.data("rating"),f="object"==typeof b&&b;e||d.data("rating",e=new g(this,$.extend({},a.fn.rating.defaults,f,$(this).data()))),"string"==typeof b&&e[b].apply(e,c)})},a.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,ratingClass:"",disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,containerClass:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0},a.fn.rating.Constructor=g,a("input.rating").addClass("rating-loading"),a(document).ready(function(){var b=a("input.rating");Object.keys(b).length>0&&b.rating()})}(window.dnnsfjQuery),function(a){"use strict";a.module("ngstars",[]).directive("starRating",["$compile","$http",function(a,b){return{restrict:"EA",scope:{fieldId:"=",fname:"=?",starsno:"=?",step:"=?",size:"=?",minimumrating:"=?",maximumrating:"=?",selectedstarcolor:"=?",unselectedstarcolor:"=?",starcaptions:"=?",starcaptionclasses:"=?",showcaption:"=?",showclear:"=?",value:"=?",isenabled:"=?",onStarsChange:"&"},link:function(a,b,c,d){var e={};a.starcaptions&&$.each(a.starcaptions,function(b){e[a.starcaptions[b].value]=a.starcaptions[b].name});var f={};a.starcaptionclasses&&$.each(a.starcaptionclasses,function(b){f[a.starcaptionclasses[b].value]=a.starcaptionclasses[b].name}),b.rating({stars:a.starsno?a.starsno:dnnsfjQuery.fn.rating.defaults.stars,min:a.minimumrating?a.minimumrating:0,max:a.maximumrating?a.maximumrating:a.starno?a.starno:dnnsfjQuery.fn.rating.defaults.stars,step:a.step?a.step:.5,size:a.size?a.size:dnnsfjQuery.fn.rating.defaults.size,showClear:"True"!=a.showclear,disabled:"True"!=a.isenabled,showCaption:"True"!=a.showcaption,starCaptionClasses:f||dnnsfjQuery.fn.rating.defaults.starCaptionClasses,starCaptions:e||dnnsfjQuery.fn.rating.defaults.starCaptions}),b.attr("data-val",a.value||a.minimumrating||0),b.parent().attr("style","color:"+a.unselectedstarcolor),b.parent().children().first().css("color",a.selectedstarcolor),$('[name="'+b[0].name+'"]').on("rating.change",function(b,c,d){a.onStarsChange({value:c,name:a.fname}),$(this).attr("data-val",c),$(this).attr("value",c)})}}}])}(dnnsfAngular15||angular),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){"use strict";var e={_positionClasses:["bottom-left","bottom-right","top-right","top-left","bottom-center","top-center","mid-center"],_defaultIcons:["success","error","info","warning"],init:function(b,c){this.prepareOptions(b,a.toast.options),this.process()},prepareOptions:function(b,c){var d={};"string"==typeof b||b instanceof Array?d.text=b:d=b,this.options=a.extend({},c,d)},process:function(){this.setup(),this.addToDom(),this.position(),this.bindToast(),this.animate()},setup:function(){var b="";if(this._toastEl=this._toastEl||a("<div></div>",{class:"jq-toast-single"}),b+='<span class="jq-toast-loader"></span>',this.options.allowToastClose&&(b+='<span class="close-jq-toast-single">&times;</span>'),this.options.text instanceof Array){this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+='<ul class="jq-toast-ul">';for(var c=0;c<this.options.text.length;c++)b+='<li class="jq-toast-li" id="jq-toast-item-'+c+'">'+this.options.text[c]+"</li>";b+="</ul>"}else this.options.heading&&(b+='<h2 class="jq-toast-heading">'+this.options.heading+"</h2>"),b+=this.options.text;this._toastEl.html(b),!1!==this.options.bgColor&&this._toastEl.css("background-color",this.options.bgColor),!1!==this.options.textColor&&this._toastEl.css("color",this.options.textColor),this.options.textAlign&&this._toastEl.css("text-align",this.options.textAlign),!1!==this.options.icon&&(this._toastEl.addClass("jq-has-icon"),-1!==a.inArray(this.options.icon,this._defaultIcons)&&this._toastEl.addClass("jq-icon-"+this.options.icon))},position:function(){"string"==typeof this.options.position&&-1!==a.inArray(this.options.position,this._positionClasses)?"bottom-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,bottom:20}):"top-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:20}):"mid-center"===this.options.position?this._container.css({left:a(b).outerWidth()/2-this._container.outerWidth()/2,top:a(b).outerHeight()/2-this._container.outerHeight()/2}):this._container.addClass(this.options.position):"object"==typeof this.options.position?this._container.css({top:this.options.position.top?this.options.position.top:"auto",bottom:this.options.position.bottom?this.options.position.bottom:"auto",left:this.options.position.left?this.options.position.left:"auto",right:this.options.position.right?this.options.position.right:"auto"}):this._container.addClass("bottom-left")},bindToast:function(){var a=this;this._toastEl.on("afterShown",function(){a.processLoader()}),this._toastEl.find(".close-jq-toast-single").on("click",function(b){b.preventDefault(),"fade"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))}),"function"==typeof this.options.beforeShow&&this._toastEl.on("beforeShow",function(){a.options.beforeShow()}),"function"==typeof this.options.afterShown&&this._toastEl.on("afterShown",function(){a.options.afterShown()}),"function"==typeof this.options.beforeHide&&this._toastEl.on("beforeHide",function(){a.options.beforeHide()}),"function"==typeof this.options.afterHidden&&this._toastEl.on("afterHidden",function(){a.options.afterHidden()})},addToDom:function(){var b=a(".jq-toast-wrap");if(0===b.length?(b=a("<div></div>",{class:"jq-toast-wrap"}),a("body").append(b)):this.options.stack&&!isNaN(parseInt(this.options.stack,10))||b.empty(),b.find(".jq-toast-single:hidden").remove(),b.append(this._toastEl),this.options.stack&&!isNaN(parseInt(this.options.stack),10)){var c=b.find(".jq-toast-single").length,d=c-this.options.stack;d>0&&a(".jq-toast-wrap").find(".jq-toast-single").slice(0,d).remove()}this._container=b},canAutoHide:function(){return!1!==this.options.hideAfter&&!isNaN(parseInt(this.options.hideAfter,10))},processLoader:function(){if(!this.canAutoHide()||!1===this.options.loader)return!1;var a=this._toastEl.find(".jq-toast-loader"),b=(this.options.hideAfter-400)/1e3+"s",c=this.options.loaderBg,d=a.attr("style")||"";d=d.substring(0,d.indexOf("-webkit-transition")),d+="-webkit-transition: width "+b+" ease-in;-o-transition: width "+b+" ease-in;transition: width "+b+" ease-in; background-color: "+c+";",a.attr("style",d).addClass("jq-toast-loaded")},animate:function(){var a=this;if(this._toastEl.hide(),this._toastEl.trigger("beforeShow"),"fade"===this.options.showHideTransition.toLowerCase()?this._toastEl.fadeIn(function(){a._toastEl.trigger("afterShown")}):"slide"===this.options.showHideTransition.toLowerCase()?this._toastEl.slideDown(function(){a._toastEl.trigger("afterShown")}):this._toastEl.show(function(){a._toastEl.trigger("afterShown")}),this.canAutoHide()){var a=this;b.setTimeout(function(){"fade"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.fadeOut(function(){a._toastEl.trigger("afterHidden")})):"slide"===a.options.showHideTransition.toLowerCase()?(a._toastEl.trigger("beforeHide"),a._toastEl.slideUp(function(){a._toastEl.trigger("afterHidden")})):(a._toastEl.trigger("beforeHide"),a._toastEl.hide(function(){a._toastEl.trigger("afterHidden")}))},this.options.hideAfter)}},reset:function(b){"all"===b?a(".jq-toast-wrap").remove():this._toastEl.remove()},update:function(a){this.prepareOptions(a,this.options),this.setup(),this.bindToast()}};a.toast=function(a){var b=Object.create(e);return b.init(a,this),{reset:function(a){b.reset(a)},update:function(a){b.update(a)}}},a.toast.options={text:"",heading:"",showHideTransition:"fade",allowToastClose:!0,hideAfter:3e3,loader:!0,loaderBg:"#9EC600",stack:5,position:"bottom-left",bgColor:!1,textColor:!1,textAlign:"left",icon:!1,beforeShow:function(){},afterShown:function(){},beforeHide:function(){},afterHidden:function(){}}}(dnnsfjQuery,window,document);